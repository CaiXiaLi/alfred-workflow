


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>The Workflow Object &mdash; Alfred-Workflow 1.14 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Alfred-Workflow 1.14 documentation" href="../index.html"/>
        <link rel="up" title="Alfred-Workflow API" href="index.html"/>
        <link rel="next" title="Fetching Data from the Web" href="web.html"/>
        <link rel="prev" title="Alfred-Workflow API" href="index.html"/>
 
<!-- Only one of these will work. Seems a better solution than symlinking
the _static path in each subdirectory -->
<link rel="stylesheet" href="_static/gh-fork-ribbon.css">
<link rel="stylesheet" href="../_static/gh-fork-ribbon.css">
<link rel="stylesheet" href="_static/custom.css">
<link rel="stylesheet" href="../_static/custom.css">
<!--[if lt IE 9]>
	<link rel="stylesheet" href="_static/gh-fork-ribbon.ie.css">
<![endif]-->
<!-- <link rel="stylesheet" href="_static/custom.css"> -->
<!-- <link rel="shortcut icon" href="_static/favicon.ico"> -->


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Alfred-Workflow
          

          
          </a>

          
            
            
              <div class="version">
                1.14
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorial</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user-manual/index.html">User Manual</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Alfred-Workflow API</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="">The Workflow Object</a></li>
<li class="toctree-l2"><a class="reference internal" href="web.html">Fetching Data from the Web</a></li>
<li class="toctree-l2"><a class="reference internal" href="background.html">Background Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="update.html">Self-Updating</a></li>
<li class="toctree-l2"><a class="reference internal" href="serialization.html">Serialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#index">Index</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../xml_format.html">Script Filter Results and the XML Format</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../aw-workflows.html">Workflows using Alfred-Workflow</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Alfred-Workflow</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Alfred-Workflow API</a> &raquo;</li>
      
    <li>The Workflow Object</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/api/workflow.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-workflow">
<span id="the-workflow-object"></span><span id="workflow"></span><h1>The Workflow Object<a class="headerlink" href="#module-workflow" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-workflow.workflow"></span><p>The <a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a> object is the main interface to this library.</p>
<p>See <a class="reference internal" href="../user-manual/setup.html#setup"><span>Workflow setup and skeleton</span></a> in the <a class="reference internal" href="../user-manual/index.html#user-manual"><span>User Manual</span></a> for an example of how to set
up your Python script to best utilise the <a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a> object.</p>
<dl class="class">
<dt id="workflow.workflow.Workflow">
<em class="property">class </em><code class="descclassname">workflow.workflow.</code><code class="descname">Workflow</code><span class="sig-paren">(</span><em>default_settings=None</em>, <em>update_settings=None</em>, <em>input_encoding=u'utf-8'</em>, <em>normalization=u'NFC'</em>, <em>capture_args=True</em>, <em>libraries=None</em>, <em>help_url=None</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Create new <a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a> instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>default_settings</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">dict</span></code></a>) &#8211; default workflow settings. If no settings file
exists, <a class="reference internal" href="#workflow.workflow.Workflow.settings" title="workflow.workflow.Workflow.settings"><code class="xref py py-class docutils literal"><span class="pre">Workflow.settings</span></code></a> will be pre-populated with
<code class="docutils literal"><span class="pre">default_settings</span></code>.</li>
<li><strong>update_settings</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">dict</span></code></a>) &#8211; settings for updating your workflow from GitHub.
This must be a <a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">dict</span></code></a> that contains <code class="docutils literal"><span class="pre">github_slug</span></code> and
<code class="docutils literal"><span class="pre">version</span></code> keys. <code class="docutils literal"><span class="pre">github_slug</span></code> is of the form <code class="docutils literal"><span class="pre">username/repo</span></code>
and <code class="docutils literal"><span class="pre">version</span></code> <strong>must</strong> correspond to the tag of a release.
See <a class="reference internal" href="update.html#updates"><span>Self-Updating</span></a> for more information.</li>
<li><strong>input_encoding</strong> (<code class="xref py py-class docutils literal"><span class="pre">unicode</span></code>) &#8211; encoding of command line arguments</li>
<li><strong>normalization</strong> (<code class="xref py py-class docutils literal"><span class="pre">unicode</span></code>) &#8211; normalisation to apply to CLI args.
See <a class="reference internal" href="#workflow.workflow.Workflow.decode" title="workflow.workflow.Workflow.decode"><code class="xref py py-meth docutils literal"><span class="pre">Workflow.decode()</span></code></a> for more details.</li>
<li><strong>capture_args</strong> (<code class="xref py py-class docutils literal"><span class="pre">Boolean</span></code>) &#8211; capture and act on <code class="docutils literal"><span class="pre">workflow:*</span></code> arguments. See
<a class="reference internal" href="../user-manual/magic-arguments.html#magic-arguments"><span>Magic arguments</span></a> for details.</li>
<li><strong>libraries</strong> (<code class="xref py py-class docutils literal"><span class="pre">tuple</span></code> or <a class="reference external" href="http://docs.python.org/2.7/library/functions.html#list" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">list</span></code></a>) &#8211; sequence of paths to directories containing
libraries. These paths will be prepended to <code class="docutils literal"><span class="pre">sys.path</span></code>.</li>
<li><strong>help_url</strong> (<code class="xref py py-class docutils literal"><span class="pre">unicode</span></code> or <a class="reference external" href="http://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">str</span></code></a>) &#8211; URL to webpage where a user can ask for help with
the workflow, report bugs, etc. This could be the GitHub repo
or a page on AlfredForum.com. If your workflow throws an error,
this URL will be displayed in the log and Alfred&#8217;s debugger. It can
also be opened directly in a web browser with the <code class="docutils literal"><span class="pre">workflow:help</span></code>
<a class="reference internal" href="../user-manual/magic-arguments.html#magic-arguments"><span>magic argument</span></a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="workflow.workflow.Workflow.add_item">
<code class="descname">add_item</code><span class="sig-paren">(</span><em>title</em>, <em>subtitle=u''</em>, <em>modifier_subtitles=None</em>, <em>arg=None</em>, <em>autocomplete=None</em>, <em>valid=False</em>, <em>uid=None</em>, <em>icon=None</em>, <em>icontype=None</em>, <em>type=None</em>, <em>largetext=None</em>, <em>copytext=None</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.add_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an item to be output to Alfred</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>title</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; Title shown in Alfred</li>
<li><strong>subtitle</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; Subtitle shown in Alfred</li>
<li><strong>modifier_subtitles</strong> (<code class="docutils literal"><span class="pre">dict</span></code>) &#8211; Subtitles shown when modifier
(CMD, OPT etc.) is pressed. Use a <code class="docutils literal"><span class="pre">dict</span></code> with the lowercase
keys <code class="docutils literal"><span class="pre">cmd</span></code>, <code class="docutils literal"><span class="pre">ctrl</span></code>, <code class="docutils literal"><span class="pre">shift</span></code>, <code class="docutils literal"><span class="pre">alt</span></code> and <code class="docutils literal"><span class="pre">fn</span></code></li>
<li><strong>arg</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; Argument passed by Alfred as <code class="docutils literal"><span class="pre">{query}</span></code> when item is
actioned</li>
<li><strong>autocomplete</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; Text expanded in Alfred when item is TABbed</li>
<li><strong>valid</strong> (<code class="docutils literal"><span class="pre">Boolean</span></code>) &#8211; Whether or not item can be actioned</li>
<li><strong>uid</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; Used by Alfred to remember/sort items</li>
<li><strong>icon</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; Filename of icon to use</li>
<li><strong>icontype</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; Type of icon. Must be one of <code class="docutils literal"><span class="pre">None</span></code> , <code class="docutils literal"><span class="pre">'filetype'</span></code>
or <code class="docutils literal"><span class="pre">'fileicon'</span></code>. Use <code class="docutils literal"><span class="pre">'filetype'</span></code> when <code class="docutils literal"><span class="pre">icon</span></code> is a filetype
such as <code class="docutils literal"><span class="pre">'public.folder'</span></code>. Use <code class="docutils literal"><span class="pre">'fileicon'</span></code> when you wish to
use the icon of the file specified as <code class="docutils literal"><span class="pre">icon</span></code>, e.g.
<code class="docutils literal"><span class="pre">icon='/Applications/Safari.app',</span> <span class="pre">icontype='fileicon'</span></code>.
Leave as <cite>None</cite> if <code class="docutils literal"><span class="pre">icon</span></code> points to an actual
icon file.</li>
<li><strong>type</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; Result type. Currently only <code class="docutils literal"><span class="pre">'file'</span></code> is supported
(by Alfred). This will tell Alfred to enable file actions for
this item.</li>
<li><strong>largetext</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; Text to be displayed in Alfred&#8217;s large text box
if user presses CMD+L on item.</li>
<li><strong>copytext</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; Text to be copied to pasteboard if user presses
CMD+C on item.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">Item</span></code> instance</p>
</td>
</tr>
</tbody>
</table>
<p>See the <a class="reference internal" href="../xml_format.html#script-filter-results"><span>Script Filter Results and the XML Format</span></a> section of the documentation
for a detailed description of what the various parameters do and how
they interact with one another.</p>
<p>See <a class="reference internal" href="../user-manual/icons.html#icons"><span>System icons</span></a> for a list of the supported system icons.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Although this method returns an <code class="xref py py-class docutils literal"><span class="pre">Item</span></code> instance, you don&#8217;t
need to hold onto it or worry about it. All generated <code class="xref py py-class docutils literal"><span class="pre">Item</span></code>
instances are also collected internally and sent to Alfred when
<a class="reference internal" href="#workflow.workflow.Workflow.send_feedback" title="workflow.workflow.Workflow.send_feedback"><code class="xref py py-meth docutils literal"><span class="pre">send_feedback()</span></code></a> is called.</p>
<p class="last">The generated <code class="xref py py-class docutils literal"><span class="pre">Item</span></code> is only returned in case you want to
edit it or do something with it other than send it to Alfred.</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.alfred_env">
<code class="descname">alfred_env</code><a class="headerlink" href="#workflow.workflow.Workflow.alfred_env" title="Permalink to this definition">¶</a></dt>
<dd><p>Alfred&#8217;s environmental variables minus the <code class="docutils literal"><span class="pre">alfred_</span></code> prefix.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.7.</span></p>
</div>
<p>The variables Alfred 2.4+ exports are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Variable</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>alfred_preferences</td>
<td>Path to Alfred.alfredpreferences
(where your workflows and settings are
stored).</td>
</tr>
<tr class="row-odd"><td>alfred_preferences_localhash</td>
<td>Machine-specific preferences are stored
in <code class="docutils literal"><span class="pre">Alfred.alfredpreferences/preferences/local/&lt;hash&gt;</span></code>
(see <code class="docutils literal"><span class="pre">alfred_preferences</span></code> above for
the path to <code class="docutils literal"><span class="pre">Alfred.alfredpreferences</span></code>)</td>
</tr>
<tr class="row-even"><td>alfred_theme</td>
<td>ID of selected theme</td>
</tr>
<tr class="row-odd"><td>alfred_theme_background</td>
<td>Background colour of selected theme in
format <code class="docutils literal"><span class="pre">rgba(r,g,b,a)</span></code></td>
</tr>
<tr class="row-even"><td>alfred_theme_subtext</td>
<td>Show result subtext.
<code class="docutils literal"><span class="pre">0</span></code> = Always,
<code class="docutils literal"><span class="pre">1</span></code> = Alternative actions only,
<code class="docutils literal"><span class="pre">2</span></code> = Selected result only,
<code class="docutils literal"><span class="pre">3</span></code> = Never</td>
</tr>
<tr class="row-odd"><td>alfred_version</td>
<td>Alfred version number, e.g. <code class="docutils literal"><span class="pre">'2.4'</span></code></td>
</tr>
<tr class="row-even"><td>alfred_version_build</td>
<td>Alfred build number, e.g. <code class="docutils literal"><span class="pre">277</span></code></td>
</tr>
<tr class="row-odd"><td>alfred_workflow_bundleid</td>
<td>Bundle ID, e.g.
<code class="docutils literal"><span class="pre">net.deanishe.alfred-mailto</span></code></td>
</tr>
<tr class="row-even"><td>alfred_workflow_cache</td>
<td>Path to workflow&#8217;s cache directory</td>
</tr>
<tr class="row-odd"><td>alfred_workflow_data</td>
<td>Path to workflow&#8217;s data directory</td>
</tr>
<tr class="row-even"><td>alfred_workflow_name</td>
<td>Name of current workflow</td>
</tr>
<tr class="row-odd"><td>alfred_workflow_uid</td>
<td>UID of workflow</td>
</tr>
</tbody>
</table>
<p><strong>Note:</strong> all values are Unicode strings except <code class="docutils literal"><span class="pre">version_build</span></code> and
<code class="docutils literal"><span class="pre">theme_subtext</span></code>, which are integers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><code class="docutils literal"><span class="pre">dict</span></code> of Alfred&#8217;s environmental variables without the
<code class="docutils literal"><span class="pre">alfred_</span></code> prefix, e.g. <code class="docutils literal"><span class="pre">preferences</span></code>, <code class="docutils literal"><span class="pre">workflow_data</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.args">
<code class="descname">args</code><a class="headerlink" href="#workflow.workflow.Workflow.args" title="Permalink to this definition">¶</a></dt>
<dd><p>Return command line args as normalised unicode.</p>
<p>Args are decoded and normalised via <a class="reference internal" href="#workflow.workflow.Workflow.decode" title="workflow.workflow.Workflow.decode"><code class="xref py py-meth docutils literal"><span class="pre">decode()</span></code></a>.</p>
<p>The encoding and normalisation are the <code class="docutils literal"><span class="pre">input_encoding</span></code> and
<code class="docutils literal"><span class="pre">normalization</span></code> arguments passed to <a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a> (<code class="docutils literal"><span class="pre">UTF-8</span></code>
and <code class="docutils literal"><span class="pre">NFC</span></code> are the defaults).</p>
<p>If <a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a> is called with <code class="docutils literal"><span class="pre">capture_args=True</span></code>
(the default), <a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a> will look for certain
<code class="docutils literal"><span class="pre">workflow:*</span></code> args and, if found, perform the corresponding
actions and exit the workflow.</p>
<p>See <a class="reference internal" href="../user-manual/magic-arguments.html#magic-arguments"><span>Magic arguments</span></a> for details.</p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.bundleid">
<code class="descname">bundleid</code><a class="headerlink" href="#workflow.workflow.Workflow.bundleid" title="Permalink to this definition">¶</a></dt>
<dd><p>Workflow bundle ID from environmental vars or <code class="docutils literal"><span class="pre">info.plist</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">bundle ID</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">unicode</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.cache_data">
<code class="descname">cache_data</code><span class="sig-paren">(</span><em>name</em>, <em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.cache_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Save <code class="docutils literal"><span class="pre">data</span></code> to cache under <code class="docutils literal"><span class="pre">name</span></code>.</p>
<p>If <code class="docutils literal"><span class="pre">data</span></code> is <code class="docutils literal"><span class="pre">None</span></code>, the corresponding cache file will be
deleted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; name of datastore</li>
<li><strong>data</strong> &#8211; data to store. This may be any object supported by
the cache serializer</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.cache_serializer">
<code class="descname">cache_serializer</code><a class="headerlink" href="#workflow.workflow.Workflow.cache_serializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of default cache serializer.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<p>This serializer is used by <a class="reference internal" href="#workflow.workflow.Workflow.cache_data" title="workflow.workflow.Workflow.cache_data"><code class="xref py py-meth docutils literal"><span class="pre">cache_data()</span></code></a> and
<a class="reference internal" href="#workflow.workflow.Workflow.cached_data" title="workflow.workflow.Workflow.cached_data"><code class="xref py py-meth docutils literal"><span class="pre">cached_data()</span></code></a></p>
<p>See <a class="reference internal" href="serialization.html#workflow.workflow.SerializerManager" title="workflow.workflow.SerializerManager"><code class="xref py py-class docutils literal"><span class="pre">SerializerManager</span></code></a> for details.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">serializer name</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">unicode</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.cached_data">
<code class="descname">cached_data</code><span class="sig-paren">(</span><em>name</em>, <em>data_func=None</em>, <em>max_age=60</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.cached_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve data from cache or re-generate and re-cache data if
stale/non-existant. If <code class="docutils literal"><span class="pre">max_age</span></code> is 0, return cached data no
matter how old.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> &#8211; name of datastore</li>
<li><strong>data_func</strong> (<code class="docutils literal"><span class="pre">callable</span></code>) &#8211; function to (re-)generate data.</li>
<li><strong>max_age</strong> (<code class="docutils literal"><span class="pre">int</span></code>) &#8211; maximum age of cached data in seconds</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">cached data, return value of <code class="docutils literal"><span class="pre">data_func</span></code> or <code class="docutils literal"><span class="pre">None</span></code>
if <code class="docutils literal"><span class="pre">data_func</span></code> is not set</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.cached_data_age">
<code class="descname">cached_data_age</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.cached_data_age" title="Permalink to this definition">¶</a></dt>
<dd><p>Return age of data cached at <cite>name</cite> in seconds or 0 if
cache doesn&#8217;t exist</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; name of datastore</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">age of datastore in seconds</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">int</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.cached_data_fresh">
<code class="descname">cached_data_fresh</code><span class="sig-paren">(</span><em>name</em>, <em>max_age</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.cached_data_fresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Is data cached at <cite>name</cite> less than <cite>max_age</cite> old?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> &#8211; name of datastore</li>
<li><strong>max_age</strong> (<code class="docutils literal"><span class="pre">int</span></code>) &#8211; maximum age of data in seconds</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">True</span></code> if data is less than <code class="docutils literal"><span class="pre">max_age</span></code> old, else
<code class="docutils literal"><span class="pre">False</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.cachedir">
<code class="descname">cachedir</code><a class="headerlink" href="#workflow.workflow.Workflow.cachedir" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to workflow&#8217;s cache directory.</p>
<p>The cache directory is a subdirectory of Alfred&#8217;s own cache directory in
<code class="docutils literal"><span class="pre">~/Library/Caches</span></code>. The full path is:</p>
<p><code class="docutils literal"><span class="pre">~/Library/Caches/com.runningwithcrayons.Alfred-2/Workflow</span> <span class="pre">Data/&lt;bundle</span> <span class="pre">id&gt;</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">full path to workflow&#8217;s cache directory</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">unicode</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.cachefile">
<code class="descname">cachefile</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.cachefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Return full path to <code class="docutils literal"><span class="pre">filename</span></code> within your workflow&#8217;s
<a class="reference internal" href="#workflow.workflow.Workflow.cachedir" title="workflow.workflow.Workflow.cachedir"><code class="xref py py-attr docutils literal"><span class="pre">cache</span> <span class="pre">directory</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; basename of file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">full path to file within cache directory</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">unicode</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.check_update">
<code class="descname">check_update</code><span class="sig-paren">(</span><em>force=False</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.check_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Call update script if it&#8217;s time to check for a new release</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.9.</span></p>
</div>
<p>The update script will be run in the background, so it won&#8217;t
interfere in the execution of your workflow.</p>
<p>See <a class="reference internal" href="../user-manual/update.html#manual-updates"><span>Self-updating</span></a> in the <a class="reference internal" href="../user-manual/index.html#user-manual"><span>User Manual</span></a> for detailed
information on how to enable your workflow to update itself.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>force</strong> (<code class="docutils literal"><span class="pre">Boolean</span></code>) &#8211; Force update check</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.clear_cache">
<code class="descname">clear_cache</code><span class="sig-paren">(</span><em>filter_func=&lt;function &lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.clear_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete all files in workflow&#8217;s <a class="reference internal" href="#workflow.workflow.Workflow.cachedir" title="workflow.workflow.Workflow.cachedir"><code class="xref py py-attr docutils literal"><span class="pre">cachedir</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filter_func</strong> (<code class="docutils literal"><span class="pre">callable</span></code>) &#8211; Callable to determine whether a file should be
deleted or not. <code class="docutils literal"><span class="pre">filter_func</span></code> is called with the filename
of each file in the data directory. If it returns <code class="docutils literal"><span class="pre">True</span></code>,
the file will be deleted.
By default, <em>all</em> files will be deleted.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.clear_data">
<code class="descname">clear_data</code><span class="sig-paren">(</span><em>filter_func=&lt;function &lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.clear_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete all files in workflow&#8217;s <a class="reference internal" href="#workflow.workflow.Workflow.datadir" title="workflow.workflow.Workflow.datadir"><code class="xref py py-attr docutils literal"><span class="pre">datadir</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filter_func</strong> (<code class="docutils literal"><span class="pre">callable</span></code>) &#8211; Callable to determine whether a file should be
deleted or not. <code class="docutils literal"><span class="pre">filter_func</span></code> is called with the filename
of each file in the data directory. If it returns <code class="docutils literal"><span class="pre">True</span></code>,
the file will be deleted.
By default, <em>all</em> files will be deleted.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.clear_settings">
<code class="descname">clear_settings</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.clear_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete workflow&#8217;s <a class="reference internal" href="#workflow.workflow.Workflow.settings_path" title="workflow.workflow.Workflow.settings_path"><code class="xref py py-attr docutils literal"><span class="pre">settings_path</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.data_serializer">
<code class="descname">data_serializer</code><a class="headerlink" href="#workflow.workflow.Workflow.data_serializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of default data serializer.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<p>This serializer is used by <a class="reference internal" href="#workflow.workflow.Workflow.store_data" title="workflow.workflow.Workflow.store_data"><code class="xref py py-meth docutils literal"><span class="pre">store_data()</span></code></a> and
<a class="reference internal" href="#workflow.workflow.Workflow.stored_data" title="workflow.workflow.Workflow.stored_data"><code class="xref py py-meth docutils literal"><span class="pre">stored_data()</span></code></a></p>
<p>See <a class="reference internal" href="serialization.html#workflow.workflow.SerializerManager" title="workflow.workflow.SerializerManager"><code class="xref py py-class docutils literal"><span class="pre">SerializerManager</span></code></a> for details.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">serializer name</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">unicode</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.datadir">
<code class="descname">datadir</code><a class="headerlink" href="#workflow.workflow.Workflow.datadir" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to workflow&#8217;s data directory.</p>
<p>The data directory is a subdirectory of Alfred&#8217;s own data directory in
<code class="docutils literal"><span class="pre">~/Library/Application</span> <span class="pre">Support</span></code>. The full path is:</p>
<p><code class="docutils literal"><span class="pre">~/Library/Application</span> <span class="pre">Support/Alfred</span> <span class="pre">2/Workflow</span> <span class="pre">Data/&lt;bundle</span> <span class="pre">id&gt;</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">full path to workflow data directory</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">unicode</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.datafile">
<code class="descname">datafile</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.datafile" title="Permalink to this definition">¶</a></dt>
<dd><p>Return full path to <code class="docutils literal"><span class="pre">filename</span></code> within your workflow&#8217;s
<a class="reference internal" href="#workflow.workflow.Workflow.datadir" title="workflow.workflow.Workflow.datadir"><code class="xref py py-attr docutils literal"><span class="pre">data</span> <span class="pre">directory</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; basename of file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">full path to file within data directory</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">unicode</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.decode">
<code class="descname">decode</code><span class="sig-paren">(</span><em>text</em>, <em>encoding=None</em>, <em>normalization=None</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.decode" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal"><span class="pre">text</span></code> as normalised unicode.</p>
<p>If <code class="docutils literal"><span class="pre">encoding</span></code> and/or <code class="docutils literal"><span class="pre">normalization</span></code> is <code class="docutils literal"><span class="pre">None</span></code>, the
<code class="docutils literal"><span class="pre">input_encoding``and</span> <span class="pre">``normalization</span></code> parameters passed to
<a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a> are used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>text</strong> (encoded or Unicode string. If <code class="docutils literal"><span class="pre">text</span></code> is already a
Unicode string, it will only be normalised.) &#8211; string</li>
<li><strong>encoding</strong> (<code class="docutils literal"><span class="pre">unicode</span></code> or <code class="docutils literal"><span class="pre">None</span></code>) &#8211; The text encoding to use to decode <code class="docutils literal"><span class="pre">text</span></code> to
Unicode.</li>
<li><strong>normalization</strong> (<code class="docutils literal"><span class="pre">unicode</span></code> or <code class="docutils literal"><span class="pre">None</span></code>) &#8211; The nomalisation form to apply to <code class="docutils literal"><span class="pre">text</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">decoded and normalised <code class="docutils literal"><span class="pre">unicode</span></code></p>
</td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a> uses &#8220;NFC&#8221; normalisation by default. This is the
standard for Python and will work well with data from the web (via
<a class="reference internal" href="web.html#module-workflow.web" title="workflow.web"><code class="xref py py-mod docutils literal"><span class="pre">web</span></code></a> or <a class="reference external" href="http://docs.python.org/2.7/library/json.html#module-json" title="(in Python v2.7)"><code class="xref py py-mod docutils literal"><span class="pre">json</span></code></a>).</p>
<p>OS X, on the other hand, uses &#8220;NFD&#8221; normalisation (nearly), so data
coming from the system (e.g. via <a class="reference external" href="http://docs.python.org/2.7/library/subprocess.html#module-subprocess" title="(in Python v2.7)"><code class="xref py py-mod docutils literal"><span class="pre">subprocess</span></code></a> or
<a class="reference external" href="http://docs.python.org/2.7/library/os.html#os.listdir" title="(in Python v2.7)"><code class="xref py py-func docutils literal"><span class="pre">os.listdir()</span></code></a>/<a class="reference external" href="http://docs.python.org/2.7/library/os.path.html#module-os.path" title="(in Python v2.7)"><code class="xref py py-mod docutils literal"><span class="pre">os.path</span></code></a>) may not match. You should either
normalise this data, too, or change the default normalisation used by
<a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.delete_password">
<code class="descname">delete_password</code><span class="sig-paren">(</span><em>account</em>, <em>service=None</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.delete_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the password stored at <code class="docutils literal"><span class="pre">service/account</span></code>. Raises
<a class="reference internal" href="#workflow.workflow.PasswordNotFound" title="workflow.workflow.PasswordNotFound"><code class="xref py py-class docutils literal"><span class="pre">PasswordNotFound</span></code></a> if account is unknown.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>account</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; name of the account the password is for, e.g.
&#8220;Pinboard&#8221;</li>
<li><strong>service</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; Name of the service. By default, this is the workflow&#8217;s
bundle ID</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.dumbify_punctuation">
<code class="descname">dumbify_punctuation</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.dumbify_punctuation" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert non-ASCII punctuation to closest ASCII equivalent.</p>
<p>This method replaces &#8220;smart&#8221; quotes and n- or m-dashes with their
workaday ASCII equivalents. This method is currently not used
internally, but exists as a helper method for workflow authors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; text to convert</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">text with only ASCII punctuation</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">unicode</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.filter">
<code class="descname">filter</code><span class="sig-paren">(</span><em>query</em>, <em>items</em>, <em>key=&lt;function &lt;lambda&gt;&gt;</em>, <em>ascending=False</em>, <em>include_score=False</em>, <em>min_score=0</em>, <em>max_results=0</em>, <em>match_on=127</em>, <em>fold_diacritics=True</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Fuzzy search filter. Returns list of <code class="docutils literal"><span class="pre">items</span></code> that match <code class="docutils literal"><span class="pre">query</span></code>.</p>
<p><code class="docutils literal"><span class="pre">query</span></code> is case-insensitive. Any item that does not contain the
entirety of <code class="docutils literal"><span class="pre">query</span></code> is rejected.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If <code class="docutils literal"><span class="pre">query</span></code> is an empty string or contains only whitespace,
a <code class="xref py py-class docutils literal"><span class="pre">ValueError</span></code> will be raised.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>query</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; query to test items against</li>
<li><strong>items</strong> (<code class="docutils literal"><span class="pre">list</span></code> or <code class="docutils literal"><span class="pre">tuple</span></code>) &#8211; iterable of items to test</li>
<li><strong>key</strong> (<code class="docutils literal"><span class="pre">callable</span></code>) &#8211; function to get comparison key from <code class="docutils literal"><span class="pre">items</span></code>.
Must return a <code class="docutils literal"><span class="pre">unicode</span></code> string. The default simply returns
the item.</li>
<li><strong>ascending</strong> (<code class="docutils literal"><span class="pre">Boolean</span></code>) &#8211; set to <code class="docutils literal"><span class="pre">True</span></code> to get worst matches first</li>
<li><strong>include_score</strong> (<code class="docutils literal"><span class="pre">Boolean</span></code>) &#8211; Useful for debugging the scoring algorithm.
If <code class="docutils literal"><span class="pre">True</span></code>, results will be a list of tuples
<code class="docutils literal"><span class="pre">(item,</span> <span class="pre">score,</span> <span class="pre">rule)</span></code>.</li>
<li><strong>min_score</strong> (<code class="docutils literal"><span class="pre">int</span></code>) &#8211; If non-zero, ignore results with a score lower
than this.</li>
<li><strong>max_results</strong> (<code class="docutils literal"><span class="pre">int</span></code>) &#8211; If non-zero, prune results list to this length.</li>
<li><strong>match_on</strong> (<code class="docutils literal"><span class="pre">int</span></code>) &#8211; Filter option flags. Bitwise-combined list of
<code class="docutils literal"><span class="pre">MATCH_*</span></code> constants (see below).</li>
<li><strong>fold_diacritics</strong> (<code class="docutils literal"><span class="pre">Boolean</span></code>) &#8211; Convert search keys to ASCII-only
characters if <code class="docutils literal"><span class="pre">query</span></code> only contains ASCII characters.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of <code class="docutils literal"><span class="pre">items</span></code> matching <code class="docutils literal"><span class="pre">query</span></code> or list of
<code class="docutils literal"><span class="pre">(item,</span> <span class="pre">score,</span> <span class="pre">rule)</span></code> <cite>tuples</cite> if <code class="docutils literal"><span class="pre">include_score</span></code> is <code class="docutils literal"><span class="pre">True</span></code>.
<code class="docutils literal"><span class="pre">rule</span></code> is the <code class="docutils literal"><span class="pre">MATCH_*</span></code> rule that matched the item.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">list</span></code></p>
</td>
</tr>
</tbody>
</table>
<p><strong>Matching rules</strong></p>
<p>By default, <a class="reference internal" href="#workflow.workflow.Workflow.filter" title="workflow.workflow.Workflow.filter"><code class="xref py py-meth docutils literal"><span class="pre">filter()</span></code></a> uses all of the following flags (i.e.
<code class="xref py py-const docutils literal"><span class="pre">MATCH_ALL</span></code>). The tests are always run in the given order:</p>
<ol class="arabic">
<li><dl class="first docutils">
<dt><code class="xref py py-const docutils literal"><span class="pre">MATCH_STARTSWITH</span></code> <span class="classifier-delimiter">:</span> <span class="classifier">Item search key startswith</span></dt>
<dd><p class="first last"><a href="#id1"><span class="problematic" id="id2">``</span></a>query``(case-insensitive).</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="xref py py-const docutils literal"><span class="pre">MATCH_CAPITALS</span></code> <span class="classifier-delimiter">:</span> <span class="classifier">The list of capital letters in item</span></dt>
<dd><p class="first last">search key starts with <code class="docutils literal"><span class="pre">query</span></code> (<code class="docutils literal"><span class="pre">query</span></code> may be
lower-case). E.g., <code class="docutils literal"><span class="pre">of</span></code> would match <code class="docutils literal"><span class="pre">OmniFocus</span></code>,
<code class="docutils literal"><span class="pre">gc</span></code> would match <code class="docutils literal"><span class="pre">Google</span> <span class="pre">Chrome</span></code></p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="xref py py-const docutils literal"><span class="pre">MATCH_ATOM</span></code> <span class="classifier-delimiter">:</span> <span class="classifier">Search key is split into &#8220;atoms&#8221; on</span></dt>
<dd><p class="first last">non-word characters (.,-,&#8217; etc.). Matches if <code class="docutils literal"><span class="pre">query</span></code> is
one of these atoms (case-insensitive).</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="xref py py-const docutils literal"><span class="pre">MATCH_INITIALS_STARTSWITH</span></code> <span class="classifier-delimiter">:</span> <span class="classifier">Initials are the first</span></dt>
<dd><p class="first last">characters of the above-described &#8220;atoms&#8221; (case-insensitive).</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="xref py py-const docutils literal"><span class="pre">MATCH_INITIALS_CONTAIN</span></code> <span class="classifier-delimiter">:</span> <span class="classifier"><code class="docutils literal"><span class="pre">query</span></code> is a substring of</span></dt>
<dd><p class="first last">the above-described initials.</p>
</dd>
</dl>
</li>
<li><p class="first"><code class="xref py py-const docutils literal"><span class="pre">MATCH_INITIALS</span></code> : Combination of (4) and (5).</p>
</li>
<li><dl class="first docutils">
<dt><code class="xref py py-const docutils literal"><span class="pre">MATCH_SUBSTRING</span></code> <span class="classifier-delimiter">:</span> <span class="classifier">Match if <code class="docutils literal"><span class="pre">query</span></code> is a substring</span></dt>
<dd><p class="first last">of item search key (case-insensitive).</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="xref py py-const docutils literal"><span class="pre">MATCH_ALLCHARS</span></code> <span class="classifier-delimiter">:</span> <span class="classifier">Matches if all characters in</span></dt>
<dd><p class="first last"><code class="docutils literal"><span class="pre">query</span></code> appear in item search key in the same order
(case-insensitive).</p>
</dd>
</dl>
</li>
<li><p class="first"><code class="xref py py-const docutils literal"><span class="pre">MATCH_ALL</span></code> : Combination of all the above.</p>
</li>
</ol>
<p><code class="xref py py-const docutils literal"><span class="pre">MATCH_ALLCHARS</span></code> is considerably slower than the other
tests and provides much less accurate results.</p>
<p><strong>Examples:</strong></p>
<p>To ignore <code class="xref py py-const docutils literal"><span class="pre">MATCH_ALLCHARS</span></code> (tends to provide the worst
matches and is expensive to run), use
<code class="docutils literal"><span class="pre">match_on=MATCH_ALL</span> <span class="pre">^</span> <span class="pre">MATCH_ALLCHARS</span></code>.</p>
<p>To match only on capitals, use <code class="docutils literal"><span class="pre">match_on=MATCH_CAPITALS</span></code>.</p>
<p>To match only on startswith and substring, use
<code class="docutils literal"><span class="pre">match_on=MATCH_STARTSWITH</span> <span class="pre">|</span> <span class="pre">MATCH_SUBSTRING</span></code>.</p>
<p><strong>Diacritic folding</strong></p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.3.</span></p>
</div>
<p>If <code class="docutils literal"><span class="pre">fold_diacritics</span></code> is <code class="docutils literal"><span class="pre">True</span></code> (the default), and <code class="docutils literal"><span class="pre">query</span></code>
contains only ASCII characters, non-ASCII characters in search keys
will be converted to ASCII equivalents (e.g. <strong>ü</strong> -&gt; <strong>u</strong>,
<strong>ß</strong> -&gt; <strong>ss</strong>, <strong>é</strong> -&gt; <strong>e</strong>).</p>
<p>See <code class="xref py py-const docutils literal"><span class="pre">ASCII_REPLACEMENTS</span></code> for all replacements.</p>
<p>If <code class="docutils literal"><span class="pre">query</span></code> contains non-ASCII characters, search keys will not be
altered.</p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.first_run">
<code class="descname">first_run</code><a class="headerlink" href="#workflow.workflow.Workflow.first_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal"><span class="pre">True</span></code> if it&#8217;s the first time this version has run.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.9.10.</span></p>
</div>
<p>Raises a <code class="xref py py-class docutils literal"><span class="pre">ValueError</span></code> if <a class="reference internal" href="#workflow.workflow.Workflow.version" title="workflow.workflow.Workflow.version"><code class="xref py py-attr docutils literal"><span class="pre">version</span></code></a> isn&#8217;t set.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.fold_to_ascii">
<code class="descname">fold_to_ascii</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.fold_to_ascii" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert non-ASCII characters to closest ASCII equivalent.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.3.</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This only works for a subset of European languages.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; text to convert</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">text containing only ASCII characters</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">unicode</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.get_password">
<code class="descname">get_password</code><span class="sig-paren">(</span><em>account</em>, <em>service=None</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.get_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the password saved at <code class="docutils literal"><span class="pre">service/account</span></code>. Raise
<a class="reference internal" href="#workflow.workflow.PasswordNotFound" title="workflow.workflow.PasswordNotFound"><code class="xref py py-class docutils literal"><span class="pre">PasswordNotFound</span></code></a> exception if password doesn&#8217;t exist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>account</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; name of the account the password is for, e.g.
&#8220;Pinboard&#8221;</li>
<li><strong>service</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; Name of the service. By default, this is the workflow&#8217;s
bundle ID</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">account password</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">unicode</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.info">
<code class="descname">info</code><a class="headerlink" href="#workflow.workflow.Workflow.info" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">dict</span></code></a> of <code class="docutils literal"><span class="pre">info.plist</span></code> contents.</p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.item_class">
<code class="descname">item_class</code><a class="headerlink" href="#workflow.workflow.Workflow.item_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal"><span class="pre">Item</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.last_version_run">
<code class="descname">last_version_run</code><a class="headerlink" href="#workflow.workflow.Workflow.last_version_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Return version of last version to run (or <code class="docutils literal"><span class="pre">None</span></code>)</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.9.10.</span></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference internal" href="update.html#workflow.update.Version" title="workflow.update.Version"><code class="xref py py-class docutils literal"><span class="pre">Version</span></code></a> instance
or <code class="docutils literal"><span class="pre">None</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.logfile">
<code class="descname">logfile</code><a class="headerlink" href="#workflow.workflow.Workflow.logfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Return path to logfile</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">path to logfile within workflow&#8217;s cache directory</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">unicode</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.logger">
<code class="descname">logger</code><a class="headerlink" href="#workflow.workflow.Workflow.logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and return a logger that logs to both console and
a log file.</p>
<p>Use <a class="reference internal" href="#workflow.workflow.Workflow.open_log" title="workflow.workflow.Workflow.open_log"><code class="xref py py-meth docutils literal"><span class="pre">open_log()</span></code></a> to open the log file in Console.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an initialised <a class="reference external" href="http://docs.python.org/2.7/library/logging.html#logging.Logger" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">Logger</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.magic_arguments">
<code class="descname">magic_arguments</code><em class="property"> = None</em><a class="headerlink" href="#workflow.workflow.Workflow.magic_arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>Mapping of available magic arguments. The built-in magic
arguments are registered by default. To add your own magic arguments
(or override built-ins), add a key:value pair where the key is
what the user should enter (prefixed with <a class="reference internal" href="#workflow.workflow.Workflow.magic_prefix" title="workflow.workflow.Workflow.magic_prefix"><code class="xref py py-attr docutils literal"><span class="pre">magic_prefix</span></code></a>)
and the value is a callable that will be called when the argument
is entered. If you would like to display a message in Alfred, the
function should return a <code class="docutils literal"><span class="pre">unicode</span></code> string.</p>
<p>By default, the magic arguments documented
<a class="reference internal" href="../user-manual/magic-arguments.html#magic-arguments"><span>here</span></a> are registered.</p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.magic_prefix">
<code class="descname">magic_prefix</code><em class="property"> = None</em><a class="headerlink" href="#workflow.workflow.Workflow.magic_prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>The prefix for all magic arguments. Default is <code class="docutils literal"><span class="pre">workflow:</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.name">
<code class="descname">name</code><a class="headerlink" href="#workflow.workflow.Workflow.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Workflow name from Alfred&#8217;s environmental vars or <code class="docutils literal"><span class="pre">info.plist</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">workflow name</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">unicode</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.open_cachedir">
<code class="descname">open_cachedir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.open_cachedir" title="Permalink to this definition">¶</a></dt>
<dd><p>Open the workflow&#8217;s <a class="reference internal" href="#workflow.workflow.Workflow.cachedir" title="workflow.workflow.Workflow.cachedir"><code class="xref py py-attr docutils literal"><span class="pre">cachedir</span></code></a> in Finder.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.open_datadir">
<code class="descname">open_datadir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.open_datadir" title="Permalink to this definition">¶</a></dt>
<dd><p>Open the workflow&#8217;s <a class="reference internal" href="#workflow.workflow.Workflow.datadir" title="workflow.workflow.Workflow.datadir"><code class="xref py py-attr docutils literal"><span class="pre">datadir</span></code></a> in Finder.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.open_help">
<code class="descname">open_help</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.open_help" title="Permalink to this definition">¶</a></dt>
<dd><p>Open <code class="xref py py-attr docutils literal"><span class="pre">help_url</span></code> in default browser</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.open_log">
<code class="descname">open_log</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.open_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Open workflows <a class="reference internal" href="#workflow.workflow.Workflow.logfile" title="workflow.workflow.Workflow.logfile"><code class="xref py py-attr docutils literal"><span class="pre">logfile</span></code></a> in standard
application (usually Console.app).</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.open_terminal">
<code class="descname">open_terminal</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.open_terminal" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a Terminal window at workflow&#8217;s <a class="reference internal" href="#workflow.workflow.Workflow.workflowdir" title="workflow.workflow.Workflow.workflowdir"><code class="xref py py-attr docutils literal"><span class="pre">workflowdir</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.open_workflowdir">
<code class="descname">open_workflowdir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.open_workflowdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Open the workflow&#8217;s <a class="reference internal" href="#workflow.workflow.Workflow.workflowdir" title="workflow.workflow.Workflow.workflowdir"><code class="xref py py-attr docutils literal"><span class="pre">workflowdir</span></code></a> in Finder.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete <a class="reference internal" href="#workflow.workflow.Workflow.settings_path" title="workflow.workflow.Workflow.settings_path"><code class="xref py py-attr docutils literal"><span class="pre">settings</span></code></a>, <a class="reference internal" href="#workflow.workflow.Workflow.cachedir" title="workflow.workflow.Workflow.cachedir"><code class="xref py py-attr docutils literal"><span class="pre">cache</span></code></a>
and <a class="reference internal" href="#workflow.workflow.Workflow.datadir" title="workflow.workflow.Workflow.datadir"><code class="xref py py-attr docutils literal"><span class="pre">data</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Call <code class="docutils literal"><span class="pre">func</span></code> to run your workflow</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> &#8211; Callable to call with <code class="docutils literal"><span class="pre">self</span></code> (i.e. the <a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a>
instance) as first argument.</td>
</tr>
</tbody>
</table>
<p><code class="docutils literal"><span class="pre">func</span></code> will be called with <a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a> instance as first
argument.</p>
<p><code class="docutils literal"><span class="pre">func</span></code> should be the main entry point to your workflow.</p>
<p>Any exceptions raised will be logged and an error message will be
output to Alfred.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.save_password">
<code class="descname">save_password</code><span class="sig-paren">(</span><em>account</em>, <em>password</em>, <em>service=None</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.save_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Save account credentials.</p>
<p>If the account exists, the old password will first be deleted
(Keychain throws an error otherwise).</p>
<p>If something goes wrong, a <a class="reference internal" href="#workflow.workflow.KeychainError" title="workflow.workflow.KeychainError"><code class="xref py py-class docutils literal"><span class="pre">KeychainError</span></code></a> exception will
be raised.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>account</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; name of the account the password is for, e.g.
&#8220;Pinboard&#8221;</li>
<li><strong>password</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; the password to secure</li>
<li><strong>service</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; Name of the service. By default, this is the
workflow&#8217;s bundle ID</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.send_feedback">
<code class="descname">send_feedback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.send_feedback" title="Permalink to this definition">¶</a></dt>
<dd><p>Print stored items to console/Alfred as XML.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.set_last_version">
<code class="descname">set_last_version</code><span class="sig-paren">(</span><em>version=None</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.set_last_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Set <a class="reference internal" href="#workflow.workflow.Workflow.last_version_run" title="workflow.workflow.Workflow.last_version_run"><code class="xref py py-attr docutils literal"><span class="pre">last_version_run</span></code></a> to current version</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.9.10.</span></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>version</strong> (<a class="reference internal" href="update.html#workflow.update.Version" title="workflow.update.Version"><code class="xref py py-class docutils literal"><span class="pre">Version</span></code></a> instance
or <code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; version to store (default is current version)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><code class="docutils literal"><span class="pre">True</span></code> if version is saved, else <code class="docutils literal"><span class="pre">False</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.settings">
<code class="descname">settings</code><a class="headerlink" href="#workflow.workflow.Workflow.settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary subclass that saves itself when changed.</p>
<p>See <a class="reference internal" href="../user-manual/persistent-data.html#manual-settings"><span>Settings</span></a> in the <a class="reference internal" href="../user-manual/index.html#user-manual"><span>User Manual</span></a> for more
information on how to use <a class="reference internal" href="#workflow.workflow.Workflow.settings" title="workflow.workflow.Workflow.settings"><code class="xref py py-attr docutils literal"><span class="pre">settings</span></code></a> and <strong>important
limitations</strong> on what it can do.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">Settings</span></code> instance
initialised from the data in JSON file at
<a class="reference internal" href="#workflow.workflow.Workflow.settings_path" title="workflow.workflow.Workflow.settings_path"><code class="xref py py-attr docutils literal"><span class="pre">settings_path</span></code></a> or if that doesn&#8217;t exist, with the
<code class="docutils literal"><span class="pre">default_settings</span></code> <a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">dict</span></code></a> passed to
<a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a> on instantiation.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">Settings</span></code> instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.settings_path">
<code class="descname">settings_path</code><a class="headerlink" href="#workflow.workflow.Workflow.settings_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to settings file within workflow&#8217;s data directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">path to <code class="docutils literal"><span class="pre">settings.json</span></code> file</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">unicode</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.start_update">
<code class="descname">start_update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.start_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for update and download and install new workflow file</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.9.</span></p>
</div>
<p>See <a class="reference internal" href="../user-manual/update.html#manual-updates"><span>Self-updating</span></a> in the <a class="reference internal" href="../user-manual/index.html#user-manual"><span>User Manual</span></a> for detailed
information on how to enable your workflow to update itself.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><code class="docutils literal"><span class="pre">True</span></code> if an update is available and will be
installed, else <code class="docutils literal"><span class="pre">False</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.store_data">
<code class="descname">store_data</code><span class="sig-paren">(</span><em>name</em>, <em>data</em>, <em>serializer=None</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.store_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Save data to data directory.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<p>If <code class="docutils literal"><span class="pre">data</span></code> is <code class="docutils literal"><span class="pre">None</span></code>, the datastore will be deleted.</p>
<p>Note that the datastore does NOT support mutliple threads.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> &#8211; name of datastore</li>
<li><strong>data</strong> &#8211; object(s) to store. <strong>Note:</strong> some serializers
can only handled certain types of data.</li>
<li><strong>serializer</strong> &#8211; name of serializer to use. If no serializer
is specified, the default will be used. See
<a class="reference internal" href="serialization.html#workflow.workflow.SerializerManager" title="workflow.workflow.SerializerManager"><code class="xref py py-class docutils literal"><span class="pre">SerializerManager</span></code></a> for more information.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">data in datastore or <code class="docutils literal"><span class="pre">None</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.stored_data">
<code class="descname">stored_data</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.stored_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve data from data directory. Returns <code class="docutils literal"><span class="pre">None</span></code> if there
are no data stored.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> &#8211; name of datastore</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.update_available">
<code class="descname">update_available</code><a class="headerlink" href="#workflow.workflow.Workflow.update_available" title="Permalink to this definition">¶</a></dt>
<dd><p>Is an update available?</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.9.</span></p>
</div>
<p>See <a class="reference internal" href="../user-manual/update.html#manual-updates"><span>Self-updating</span></a> in the <a class="reference internal" href="../user-manual/index.html#user-manual"><span>User Manual</span></a> for detailed
information on how to enable your workflow to update itself.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><code class="docutils literal"><span class="pre">True</span></code> if an update is available, else <code class="docutils literal"><span class="pre">False</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.version">
<code class="descname">version</code><a class="headerlink" href="#workflow.workflow.Workflow.version" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the version of the workflow</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.9.10.</span></p>
</div>
<p>Get the version from the <code class="docutils literal"><span class="pre">update_settings</span></code> dict passed on
instantiation or the <code class="docutils literal"><span class="pre">version</span></code> file located in the workflow&#8217;s
root directory. Return <code class="docutils literal"><span class="pre">None</span></code> if neither exist or
<code class="xref py py-class docutils literal"><span class="pre">ValueError</span></code> if the version number is invalid (i.e. not
semantic).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Version of the workflow (not Alfred-Workflow)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="update.html#workflow.update.Version" title="workflow.update.Version"><code class="xref py py-class docutils literal"><span class="pre">Version</span></code></a> object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.workflowdir">
<code class="descname">workflowdir</code><a class="headerlink" href="#workflow.workflow.Workflow.workflowdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to workflow&#8217;s root directory (where <code class="docutils literal"><span class="pre">info.plist</span></code> is).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">full path to workflow root directory</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">unicode</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.workflowfile">
<code class="descname">workflowfile</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.Workflow.workflowfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Return full path to <code class="docutils literal"><span class="pre">filename</span></code> in workflow&#8217;s root dir
(where <code class="docutils literal"><span class="pre">info.plist</span></code> is).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; basename of file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">full path to file within data directory</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">unicode</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="workflow.workflow.atomic_writer">
<code class="descclassname">workflow.workflow.</code><code class="descname">atomic_writer</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.atomic_writer" title="Permalink to this definition">¶</a></dt>
<dd><p>Atomic file writer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file_path</strong> (<code class="docutils literal"><span class="pre">unicode</span></code>) &#8211; path of file to write to.</li>
<li><strong>mode</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; sames as for <cite>func:open</cite></li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.12.</span></p>
</div>
<p>Context manager that ensures the file is only written if the write
succeeds. The data is first written to a temporary file.</p>
</dd></dl>

<dl class="class">
<dt id="workflow.workflow.uninterruptible">
<em class="property">class </em><code class="descclassname">workflow.workflow.</code><code class="descname">uninterruptible</code><span class="sig-paren">(</span><em>func</em>, <em>class_name=u''</em><span class="sig-paren">)</span><a class="headerlink" href="#workflow.workflow.uninterruptible" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator that postpones SIGTERM until wrapped function is complete.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.12.</span></p>
</div>
<p>Since version 2.7, Alfred allows Script Filters to be killed. If
your workflow is killed in the middle of critical code (e.g.
writing data to disk), this may corrupt your workflow&#8217;s data.</p>
<p>Use this decorator to wrap critical functions that <em>must</em> complete.
If the script is killed while a wrapped function is executing,
the SIGTERM will be caught and handled after your function has
finished executing.</p>
<p>Alfred-Workflow uses this internally to ensure its settings, data
and cache writes complete.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">This decorator is NOT thread-safe.</p>
</div>
</dd></dl>

<dl class="class">
<dt id="workflow.workflow.KeychainError">
<em class="property">class </em><code class="descclassname">workflow.workflow.</code><code class="descname">KeychainError</code><a class="headerlink" href="#workflow.workflow.KeychainError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised by methods <a class="reference internal" href="#workflow.workflow.Workflow.save_password" title="workflow.workflow.Workflow.save_password"><code class="xref py py-meth docutils literal"><span class="pre">Workflow.save_password()</span></code></a>,
<a class="reference internal" href="#workflow.workflow.Workflow.get_password" title="workflow.workflow.Workflow.get_password"><code class="xref py py-meth docutils literal"><span class="pre">Workflow.get_password()</span></code></a> and <a class="reference internal" href="#workflow.workflow.Workflow.delete_password" title="workflow.workflow.Workflow.delete_password"><code class="xref py py-meth docutils literal"><span class="pre">Workflow.delete_password()</span></code></a>
when <code class="docutils literal"><span class="pre">security</span></code> CLI app returns an unknown error code.</p>
</dd></dl>

<dl class="class">
<dt id="workflow.workflow.PasswordNotFound">
<em class="property">class </em><code class="descclassname">workflow.workflow.</code><code class="descname">PasswordNotFound</code><a class="headerlink" href="#workflow.workflow.PasswordNotFound" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised by method <a class="reference internal" href="#workflow.workflow.Workflow.get_password" title="workflow.workflow.Workflow.get_password"><code class="xref py py-meth docutils literal"><span class="pre">Workflow.get_password()</span></code></a> when <code class="docutils literal"><span class="pre">account</span></code>
is unknown to the Keychain.</p>
</dd></dl>

<dl class="class">
<dt id="workflow.workflow.PasswordExists">
<em class="property">class </em><code class="descclassname">workflow.workflow.</code><code class="descname">PasswordExists</code><a class="headerlink" href="#workflow.workflow.PasswordExists" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when trying to overwrite an existing account password.</p>
<p>You should never receive this error: it is used internally
by the <a class="reference internal" href="#workflow.workflow.Workflow.save_password" title="workflow.workflow.Workflow.save_password"><code class="xref py py-meth docutils literal"><span class="pre">Workflow.save_password()</span></code></a> method to know if it needs
to delete the old password first (a Keychain implementation detail).</p>
</dd></dl>

</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="web.html" class="btn btn-neutral float-right" title="Fetching Data from the Web" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Alfred-Workflow API" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Dean Jackson.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.14',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
<div class="github-fork-ribbon-wrapper right">
    <div class="github-fork-ribbon">
        <a href="https://github.com/deanishe/alfred-workflow">Fork me on GitHub</a>
    </div>
</div>
 


</body>
</html>