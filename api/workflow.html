


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>The Workflow Object &mdash; Alfred-Workflow 1.10.2 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Alfred-Workflow 1.10.2 documentation" href="../index.html"/>
        <link rel="up" title="Alfred-Workflow API" href="index.html"/>
        <link rel="next" title="Fetching Data from the Web" href="web.html"/>
        <link rel="prev" title="Alfred-Workflow API" href="index.html"/>
 
<!-- Only one of these will work. Seems a better solution than symlinking
the _static path in each subdirectory -->
<link rel="stylesheet" href="_static/gh-fork-ribbon.css">
<link rel="stylesheet" href="../_static/gh-fork-ribbon.css">
<link rel="stylesheet" href="_static/custom.css">
<link rel="stylesheet" href="../_static/custom.css">
<!--[if lt IE 9]>
	<link rel="stylesheet" href="_static/gh-fork-ribbon.ie.css">
<![endif]-->
<!-- <link rel="stylesheet" href="_static/custom.css"> -->
<!-- <link rel="shortcut icon" href="_static/favicon.ico"> -->


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../index.html" class="fa fa-home"> Alfred-Workflow</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#pip-pypi">pip / PyPi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#github">GitHub</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial.html#part-1-a-basic-pinboard-workflow">Part 1: A Basic Pinboard Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial.html#part-2-a-distribution-ready-pinboard-workflow">Part 2: A Distribution-Ready Pinboard Workflow</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user-manual/index.html">User Manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../user-manual/setup.html">Workflow setup and skeleton</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user-manual/third-party.html">Including 3rd party libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user-manual/persistent-data.html">Persistent data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user-manual/filtering.html">Searching/filtering data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user-manual/web.html">Retrieving data from the web</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user-manual/background.html">Background processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user-manual/update.html">Self-updating</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user-manual/versioning.html">Versioning and migration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user-manual/icons.html">System icons</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user-manual/magic-arguments.html">&#8220;Magic&#8221; arguments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user-manual/serialization.html">Serialization of stored/cached data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user-manual/text-encoding.html">Encoded strings and Unicode</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Alfred-Workflow API</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="">The Workflow Object</a></li>
<li class="toctree-l2"><a class="reference internal" href="web.html">Fetching Data from the Web</a></li>
<li class="toctree-l2"><a class="reference internal" href="background.html">Background Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="update.html">Self-Updating</a></li>
<li class="toctree-l2"><a class="reference internal" href="serialization.html">Serialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#index">Index</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../xml_format.html">Script Filter Results and the XML Format</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../xml_format.html#xml-format-available-parameters">XML format / available parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../xml_format.html#basic-example">Basic example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../xml_format.html#item-parameters">Item parameters</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../aw-workflows.html">Workflows using Alfred-Workflow</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../aw-workflows.html#adding-your-own-workflow-to-the-list">Adding your own workflow to the list</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Alfred-Workflow</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Alfred-Workflow API</a> &raquo;</li>
      
    <li>The Workflow Object</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/api/workflow.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="module-workflow">
<span id="the-workflow-object"></span><span id="workflow"></span><h1>The Workflow Object<a class="headerlink" href="#module-workflow" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-workflow.workflow"></span><p>The <a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> object is the main interface to this library.</p>
<p>See <a class="reference internal" href="../user-manual/setup.html#setup"><em>Workflow setup and skeleton</em></a> in the <a class="reference internal" href="../user-manual/index.html#user-manual"><em>User Manual</em></a> for an example of how to set
up your Python script to best utilise the <a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> object.</p>
<dl class="class">
<dt id="workflow.workflow.Workflow">
<em class="property">class </em><tt class="descclassname">workflow.workflow.</tt><tt class="descname">Workflow</tt><big>(</big><em>default_settings=None</em>, <em>update_settings=None</em>, <em>input_encoding=u'utf-8'</em>, <em>normalization=u'NFC'</em>, <em>capture_args=True</em>, <em>libraries=None</em>, <em>help_url=None</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Create new <a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>default_settings</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></a>) &#8211; default workflow settings. If no settings file
exists, <a class="reference internal" href="#workflow.workflow.Workflow.settings" title="workflow.workflow.Workflow.settings"><tt class="xref py py-class docutils literal"><span class="pre">Workflow.settings</span></tt></a> will be pre-populated with
<tt class="docutils literal"><span class="pre">default_settings</span></tt>.</li>
<li><strong>update_settings</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></a>) &#8211; settings for updating your workflow from GitHub.
This must be a <a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></a> that contains <tt class="docutils literal"><span class="pre">github_slug</span></tt> and
<tt class="docutils literal"><span class="pre">version</span></tt> keys. <tt class="docutils literal"><span class="pre">github_slug</span></tt> is of the form <tt class="docutils literal"><span class="pre">username/repo</span></tt>
and <tt class="docutils literal"><span class="pre">version</span></tt> <strong>must</strong> correspond to the tag of a release.
See <a class="reference internal" href="update.html#updates"><em>Self-Updating</em></a> for more information.</li>
<li><strong>input_encoding</strong> (<tt class="xref py py-class docutils literal"><span class="pre">unicode</span></tt>) &#8211; encoding of command line arguments</li>
<li><strong>normalization</strong> (<tt class="xref py py-class docutils literal"><span class="pre">unicode</span></tt>) &#8211; normalisation to apply to CLI args.
See <a class="reference internal" href="#workflow.workflow.Workflow.decode" title="workflow.workflow.Workflow.decode"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.decode()</span></tt></a> for more details.</li>
<li><strong>capture_args</strong> (<tt class="xref py py-class docutils literal"><span class="pre">Boolean</span></tt>) &#8211; capture and act on <tt class="docutils literal"><span class="pre">workflow:*</span></tt> arguments. See
<a class="reference internal" href="../user-manual/magic-arguments.html#magic-arguments"><em>Magic arguments</em></a> for details.</li>
<li><strong>libraries</strong> (<tt class="xref py py-class docutils literal"><span class="pre">tuple</span></tt> or <a class="reference external" href="http://docs.python.org/2.7/library/functions.html#list" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">list</span></tt></a>) &#8211; sequence of paths to directories containing
libraries. These paths will be prepended to <tt class="docutils literal"><span class="pre">sys.path</span></tt>.</li>
<li><strong>help_url</strong> (<tt class="xref py py-class docutils literal"><span class="pre">unicode</span></tt> or <a class="reference external" href="http://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">str</span></tt></a>) &#8211; URL to webpage where a user can ask for help with
the workflow, report bugs, etc. This could be the GitHub repo
or a page on AlfredForum.com. If your workflow throws an error,
this URL will be displayed in the log and Alfred&#8217;s debugger. It can
also be opened directly in a web browser with the <tt class="docutils literal"><span class="pre">workflow:help</span></tt>
<a class="reference internal" href="../user-manual/magic-arguments.html#magic-arguments"><em>magic argument</em></a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="workflow.workflow.Workflow.add_item">
<tt class="descname">add_item</tt><big>(</big><em>title</em>, <em>subtitle=u''</em>, <em>modifier_subtitles=None</em>, <em>arg=None</em>, <em>autocomplete=None</em>, <em>valid=False</em>, <em>uid=None</em>, <em>icon=None</em>, <em>icontype=None</em>, <em>type=None</em>, <em>largetext=None</em>, <em>copytext=None</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.add_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an item to be output to Alfred</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>title</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; Title shown in Alfred</li>
<li><strong>subtitle</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; Subtitle shown in Alfred</li>
<li><strong>modifier_subtitles</strong> (<tt class="docutils literal"><span class="pre">dict</span></tt>) &#8211; Subtitles shown when modifier
(CMD, OPT etc.) is pressed. Use a <tt class="docutils literal"><span class="pre">dict</span></tt> with the lowercase
keys <tt class="docutils literal"><span class="pre">cmd</span></tt>, <tt class="docutils literal"><span class="pre">ctrl</span></tt>, <tt class="docutils literal"><span class="pre">shift</span></tt>, <tt class="docutils literal"><span class="pre">alt</span></tt> and <tt class="docutils literal"><span class="pre">fn</span></tt></li>
<li><strong>arg</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; Argument passed by Alfred as <tt class="docutils literal"><span class="pre">{query}</span></tt> when item is
actioned</li>
<li><strong>autocomplete</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; Text expanded in Alfred when item is TABbed</li>
<li><strong>valid</strong> (<tt class="docutils literal"><span class="pre">Boolean</span></tt>) &#8211; Whether or not item can be actioned</li>
<li><strong>uid</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; Used by Alfred to remember/sort items</li>
<li><strong>icon</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; Filename of icon to use</li>
<li><strong>icontype</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; Type of icon. Must be one of <tt class="docutils literal"><span class="pre">None</span></tt> , <tt class="docutils literal"><span class="pre">'filetype'</span></tt>
or <tt class="docutils literal"><span class="pre">'fileicon'</span></tt>. Use <tt class="docutils literal"><span class="pre">'filetype'</span></tt> when <tt class="docutils literal"><span class="pre">icon</span></tt> is a filetype
such as <tt class="docutils literal"><span class="pre">'public.folder'</span></tt>. Use <tt class="docutils literal"><span class="pre">'fileicon'</span></tt> when you wish to
use the icon of the file specified as <tt class="docutils literal"><span class="pre">icon</span></tt>, e.g.
<tt class="docutils literal"><span class="pre">icon='/Applications/Safari.app',</span> <span class="pre">icontype='fileicon'</span></tt>.
Leave as <cite>None</cite> if <tt class="docutils literal"><span class="pre">icon</span></tt> points to an actual
icon file.</li>
<li><strong>type</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; Result type. Currently only <tt class="docutils literal"><span class="pre">'file'</span></tt> is supported
(by Alfred). This will tell Alfred to enable file actions for
this item.</li>
<li><strong>largetext</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; Text to be displayed in Alfred&#8217;s large text box
if user presses CMD+L on item.</li>
<li><strong>copytext</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; Text to be copied to pasteboard if user presses
CMD+C on item.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><tt class="xref py py-class docutils literal"><span class="pre">Item</span></tt> instance</p>
</td>
</tr>
</tbody>
</table>
<p>See the <a class="reference internal" href="../xml_format.html#script-filter-results"><em>Script Filter Results and the XML Format</em></a> section of the documentation
for a detailed description of what the various parameters do and how
they interact with one another.</p>
<p>See <a class="reference internal" href="../user-manual/icons.html#icons"><em>System icons</em></a> for a list of the supported system icons.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Although this method returns an <tt class="xref py py-class docutils literal"><span class="pre">Item</span></tt> instance, you don&#8217;t
need to hold onto it or worry about it. All generated <tt class="xref py py-class docutils literal"><span class="pre">Item</span></tt>
instances are also collected internally and sent to Alfred when
<a class="reference internal" href="#workflow.workflow.Workflow.send_feedback" title="workflow.workflow.Workflow.send_feedback"><tt class="xref py py-meth docutils literal"><span class="pre">send_feedback()</span></tt></a> is called.</p>
<p class="last">The generated <tt class="xref py py-class docutils literal"><span class="pre">Item</span></tt> is only returned in case you want to
edit it or do something with it other than send it to Alfred.</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.alfred_env">
<tt class="descname">alfred_env</tt><a class="headerlink" href="#workflow.workflow.Workflow.alfred_env" title="Permalink to this definition">¶</a></dt>
<dd><p>Alfred&#8217;s environmental variables minus the <tt class="docutils literal"><span class="pre">alfred_</span></tt> prefix.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.7.</span></p>
</div>
<p>The variables Alfred 2.4+ exports are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Variable</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>alfred_preferences</td>
<td>Path to Alfred.alfredpreferences
(where your workflows and settings are
stored).</td>
</tr>
<tr class="row-odd"><td>alfred_preferences_localhash</td>
<td>Machine-specific preferences are stored
in <tt class="docutils literal"><span class="pre">Alfred.alfredpreferences/preferences/local/&lt;hash&gt;</span></tt>
(see <tt class="docutils literal"><span class="pre">alfred_preferences</span></tt> above for
the path to <tt class="docutils literal"><span class="pre">Alfred.alfredpreferences</span></tt>)</td>
</tr>
<tr class="row-even"><td>alfred_theme</td>
<td>ID of selected theme</td>
</tr>
<tr class="row-odd"><td>alfred_theme_background</td>
<td>Background colour of selected theme in
format <tt class="docutils literal"><span class="pre">rgba(r,g,b,a)</span></tt></td>
</tr>
<tr class="row-even"><td>alfred_theme_subtext</td>
<td>Show result subtext.
<tt class="docutils literal"><span class="pre">0</span></tt> = Always,
<tt class="docutils literal"><span class="pre">1</span></tt> = Alternative actions only,
<tt class="docutils literal"><span class="pre">2</span></tt> = Selected result only,
<tt class="docutils literal"><span class="pre">3</span></tt> = Never</td>
</tr>
<tr class="row-odd"><td>alfred_version</td>
<td>Alfred version number, e.g. <tt class="docutils literal"><span class="pre">'2.4'</span></tt></td>
</tr>
<tr class="row-even"><td>alfred_version_build</td>
<td>Alfred build number, e.g. <tt class="docutils literal"><span class="pre">277</span></tt></td>
</tr>
<tr class="row-odd"><td>alfred_workflow_bundleid</td>
<td>Bundle ID, e.g.
<tt class="docutils literal"><span class="pre">net.deanishe.alfred-mailto</span></tt></td>
</tr>
<tr class="row-even"><td>alfred_workflow_cache</td>
<td>Path to workflow&#8217;s cache directory</td>
</tr>
<tr class="row-odd"><td>alfred_workflow_data</td>
<td>Path to workflow&#8217;s data directory</td>
</tr>
<tr class="row-even"><td>alfred_workflow_name</td>
<td>Name of current workflow</td>
</tr>
<tr class="row-odd"><td>alfred_workflow_uid</td>
<td>UID of workflow</td>
</tr>
</tbody>
</table>
<p><strong>Note:</strong> all values are Unicode strings except <tt class="docutils literal"><span class="pre">version_build</span></tt> and
<tt class="docutils literal"><span class="pre">theme_subtext</span></tt>, which are integers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><tt class="docutils literal"><span class="pre">dict</span></tt> of Alfred&#8217;s environmental variables without the
<tt class="docutils literal"><span class="pre">alfred_</span></tt> prefix, e.g. <tt class="docutils literal"><span class="pre">preferences</span></tt>, <tt class="docutils literal"><span class="pre">workflow_data</span></tt>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.args">
<tt class="descname">args</tt><a class="headerlink" href="#workflow.workflow.Workflow.args" title="Permalink to this definition">¶</a></dt>
<dd><p>Return command line args as normalised unicode.</p>
<p>Args are decoded and normalised via <a class="reference internal" href="#workflow.workflow.Workflow.decode" title="workflow.workflow.Workflow.decode"><tt class="xref py py-meth docutils literal"><span class="pre">decode()</span></tt></a>.</p>
<p>The encoding and normalisation are the <tt class="docutils literal"><span class="pre">input_encoding</span></tt> and
<tt class="docutils literal"><span class="pre">normalization</span></tt> arguments passed to <a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> (<tt class="docutils literal"><span class="pre">UTF-8</span></tt>
and <tt class="docutils literal"><span class="pre">NFC</span></tt> are the defaults).</p>
<p>If <a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> is called with <tt class="docutils literal"><span class="pre">capture_args=True</span></tt>
(the default), <a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> will look for certain
<tt class="docutils literal"><span class="pre">workflow:*</span></tt> args and, if found, perform the corresponding
actions and exit the workflow.</p>
<p>See <a class="reference internal" href="../user-manual/magic-arguments.html#magic-arguments"><em>Magic arguments</em></a> for details.</p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.bundleid">
<tt class="descname">bundleid</tt><a class="headerlink" href="#workflow.workflow.Workflow.bundleid" title="Permalink to this definition">¶</a></dt>
<dd><p>Workflow bundle ID from environmental vars or <tt class="docutils literal"><span class="pre">info.plist</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">bundle ID</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">unicode</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.cache_data">
<tt class="descname">cache_data</tt><big>(</big><em>name</em>, <em>data</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.cache_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Save <tt class="docutils literal"><span class="pre">data</span></tt> to cache under <tt class="docutils literal"><span class="pre">name</span></tt>.</p>
<p>If <tt class="docutils literal"><span class="pre">data</span></tt> is <tt class="docutils literal"><span class="pre">None</span></tt>, the corresponding cache file will be
deleted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; name of datastore</li>
<li><strong>data</strong> &#8211; data to store. This may be any object supported by
the cache serializer</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.cache_serializer">
<tt class="descname">cache_serializer</tt><a class="headerlink" href="#workflow.workflow.Workflow.cache_serializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of default cache serializer.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<p>This serializer is used by <a class="reference internal" href="#workflow.workflow.Workflow.cache_data" title="workflow.workflow.Workflow.cache_data"><tt class="xref py py-meth docutils literal"><span class="pre">cache_data()</span></tt></a> and
<a class="reference internal" href="#workflow.workflow.Workflow.cached_data" title="workflow.workflow.Workflow.cached_data"><tt class="xref py py-meth docutils literal"><span class="pre">cached_data()</span></tt></a></p>
<p>See <a class="reference internal" href="serialization.html#workflow.workflow.SerializerManager" title="workflow.workflow.SerializerManager"><tt class="xref py py-class docutils literal"><span class="pre">SerializerManager</span></tt></a> for details.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">serializer name</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">unicode</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.cached_data">
<tt class="descname">cached_data</tt><big>(</big><em>name</em>, <em>data_func=None</em>, <em>max_age=60</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.cached_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve data from cache or re-generate and re-cache data if
stale/non-existant. If <tt class="docutils literal"><span class="pre">max_age</span></tt> is 0, return cached data no
matter how old.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> &#8211; name of datastore</li>
<li><strong>data_func</strong> (<tt class="docutils literal"><span class="pre">callable</span></tt>) &#8211; function to (re-)generate data.</li>
<li><strong>max_age</strong> (<tt class="docutils literal"><span class="pre">int</span></tt>) &#8211; maximum age of cached data in seconds</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">cached data, return value of <tt class="docutils literal"><span class="pre">data_func</span></tt> or <tt class="docutils literal"><span class="pre">None</span></tt>
if <tt class="docutils literal"><span class="pre">data_func</span></tt> is not set</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.cached_data_age">
<tt class="descname">cached_data_age</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.cached_data_age" title="Permalink to this definition">¶</a></dt>
<dd><p>Return age of data cached at <cite>name</cite> in seconds or 0 if
cache doesn&#8217;t exist</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; name of datastore</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">age of datastore in seconds</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">int</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.cached_data_fresh">
<tt class="descname">cached_data_fresh</tt><big>(</big><em>name</em>, <em>max_age</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.cached_data_fresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Is data cached at <cite>name</cite> less than <cite>max_age</cite> old?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> &#8211; name of datastore</li>
<li><strong>max_age</strong> (<tt class="docutils literal"><span class="pre">int</span></tt>) &#8211; maximum age of data in seconds</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><tt class="docutils literal"><span class="pre">True</span></tt> if data is less than <tt class="docutils literal"><span class="pre">max_age</span></tt> old, else
<tt class="docutils literal"><span class="pre">False</span></tt></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.cachedir">
<tt class="descname">cachedir</tt><a class="headerlink" href="#workflow.workflow.Workflow.cachedir" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to workflow&#8217;s cache directory.</p>
<p>The cache directory is a subdirectory of Alfred&#8217;s own cache directory in
<tt class="docutils literal"><span class="pre">~/Library/Caches</span></tt>. The full path is:</p>
<p><tt class="docutils literal"><span class="pre">~/Library/Caches/com.runningwithcrayons.Alfred-2/Workflow</span> <span class="pre">Data/&lt;bundle</span> <span class="pre">id&gt;</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">full path to workflow&#8217;s cache directory</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">unicode</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.cachefile">
<tt class="descname">cachefile</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.cachefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Return full path to <tt class="docutils literal"><span class="pre">filename</span></tt> within your workflow&#8217;s
<a class="reference internal" href="#workflow.workflow.Workflow.cachedir" title="workflow.workflow.Workflow.cachedir"><tt class="xref py py-attr docutils literal"><span class="pre">cache</span> <span class="pre">directory</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; basename of file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">full path to file within cache directory</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">unicode</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.check_update">
<tt class="descname">check_update</tt><big>(</big><em>force=False</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.check_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Call update script if it&#8217;s time to check for a new release</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.9.</span></p>
</div>
<p>The update script will be run in the background, so it won&#8217;t
interfere in the execution of your workflow.</p>
<p>See <a class="reference internal" href="../user-manual/update.html#manual-updates"><em>Self-updating</em></a> in the <a class="reference internal" href="../user-manual/index.html#user-manual"><em>User Manual</em></a> for detailed
information on how to enable your workflow to update itself.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>force</strong> (<tt class="docutils literal"><span class="pre">Boolean</span></tt>) &#8211; Force update check</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.clear_cache">
<tt class="descname">clear_cache</tt><big>(</big><em>filter_func=&lt;function &lt;lambda&gt; at 0x103e65d70&gt;</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.clear_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete all files in workflow&#8217;s <a class="reference internal" href="#workflow.workflow.Workflow.cachedir" title="workflow.workflow.Workflow.cachedir"><tt class="xref py py-attr docutils literal"><span class="pre">cachedir</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filter_func</strong> (<tt class="docutils literal"><span class="pre">callable</span></tt>) &#8211; Callable to determine whether a file should be
deleted or not. <tt class="docutils literal"><span class="pre">filter_func</span></tt> is called with the filename
of each file in the data directory. If it returns <tt class="docutils literal"><span class="pre">True</span></tt>,
the file will be deleted.
By default, <em>all</em> files will be deleted.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.clear_data">
<tt class="descname">clear_data</tt><big>(</big><em>filter_func=&lt;function &lt;lambda&gt; at 0x103e65e60&gt;</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.clear_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete all files in workflow&#8217;s <a class="reference internal" href="#workflow.workflow.Workflow.datadir" title="workflow.workflow.Workflow.datadir"><tt class="xref py py-attr docutils literal"><span class="pre">datadir</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filter_func</strong> (<tt class="docutils literal"><span class="pre">callable</span></tt>) &#8211; Callable to determine whether a file should be
deleted or not. <tt class="docutils literal"><span class="pre">filter_func</span></tt> is called with the filename
of each file in the data directory. If it returns <tt class="docutils literal"><span class="pre">True</span></tt>,
the file will be deleted.
By default, <em>all</em> files will be deleted.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.clear_settings">
<tt class="descname">clear_settings</tt><big>(</big><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.clear_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete workflow&#8217;s <a class="reference internal" href="#workflow.workflow.Workflow.settings_path" title="workflow.workflow.Workflow.settings_path"><tt class="xref py py-attr docutils literal"><span class="pre">settings_path</span></tt></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.data_serializer">
<tt class="descname">data_serializer</tt><a class="headerlink" href="#workflow.workflow.Workflow.data_serializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of default data serializer.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<p>This serializer is used by <a class="reference internal" href="#workflow.workflow.Workflow.store_data" title="workflow.workflow.Workflow.store_data"><tt class="xref py py-meth docutils literal"><span class="pre">store_data()</span></tt></a> and
<a class="reference internal" href="#workflow.workflow.Workflow.stored_data" title="workflow.workflow.Workflow.stored_data"><tt class="xref py py-meth docutils literal"><span class="pre">stored_data()</span></tt></a></p>
<p>See <a class="reference internal" href="serialization.html#workflow.workflow.SerializerManager" title="workflow.workflow.SerializerManager"><tt class="xref py py-class docutils literal"><span class="pre">SerializerManager</span></tt></a> for details.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">serializer name</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">unicode</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.datadir">
<tt class="descname">datadir</tt><a class="headerlink" href="#workflow.workflow.Workflow.datadir" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to workflow&#8217;s data directory.</p>
<p>The data directory is a subdirectory of Alfred&#8217;s own data directory in
<tt class="docutils literal"><span class="pre">~/Library/Application</span> <span class="pre">Support</span></tt>. The full path is:</p>
<p><tt class="docutils literal"><span class="pre">~/Library/Application</span> <span class="pre">Support/Alfred</span> <span class="pre">2/Workflow</span> <span class="pre">Data/&lt;bundle</span> <span class="pre">id&gt;</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">full path to workflow data directory</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">unicode</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.datafile">
<tt class="descname">datafile</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.datafile" title="Permalink to this definition">¶</a></dt>
<dd><p>Return full path to <tt class="docutils literal"><span class="pre">filename</span></tt> within your workflow&#8217;s
<a class="reference internal" href="#workflow.workflow.Workflow.datadir" title="workflow.workflow.Workflow.datadir"><tt class="xref py py-attr docutils literal"><span class="pre">data</span> <span class="pre">directory</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; basename of file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">full path to file within data directory</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">unicode</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.decode">
<tt class="descname">decode</tt><big>(</big><em>text</em>, <em>encoding=None</em>, <em>normalization=None</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.decode" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">text</span></tt> as normalised unicode.</p>
<p>If <tt class="docutils literal"><span class="pre">encoding</span></tt> and/or <tt class="docutils literal"><span class="pre">normalization</span></tt> is <tt class="docutils literal"><span class="pre">None</span></tt>, the
<tt class="docutils literal"><span class="pre">input_encoding``and</span> <span class="pre">``normalization</span></tt> parameters passed to
<a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> are used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>text</strong> (encoded or Unicode string. If <tt class="docutils literal"><span class="pre">text</span></tt> is already a
Unicode string, it will only be normalised.) &#8211; string</li>
<li><strong>encoding</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt> or <tt class="docutils literal"><span class="pre">None</span></tt>) &#8211; The text encoding to use to decode <tt class="docutils literal"><span class="pre">text</span></tt> to
Unicode.</li>
<li><strong>normalization</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt> or <tt class="docutils literal"><span class="pre">None</span></tt>) &#8211; The nomalisation form to apply to <tt class="docutils literal"><span class="pre">text</span></tt>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">decoded and normalised <tt class="docutils literal"><span class="pre">unicode</span></tt></p>
</td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> uses &#8220;NFC&#8221; normalisation by default. This is the
standard for Python and will work well with data from the web (via
<a class="reference internal" href="web.html#module-workflow.web" title="workflow.web"><tt class="xref py py-mod docutils literal"><span class="pre">web</span></tt></a> or <a class="reference external" href="http://docs.python.org/2.7/library/json.html#module-json" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">json</span></tt></a>).</p>
<p>OS X, on the other hand, uses &#8220;NFD&#8221; normalisation (nearly), so data
coming from the system (e.g. via <a class="reference external" href="http://docs.python.org/2.7/library/subprocess.html#module-subprocess" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">subprocess</span></tt></a> or
<a class="reference external" href="http://docs.python.org/2.7/library/os.html#os.listdir" title="(in Python v2.7)"><tt class="xref py py-func docutils literal"><span class="pre">os.listdir()</span></tt></a>/<a class="reference external" href="http://docs.python.org/2.7/library/os.path.html#module-os.path" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">os.path</span></tt></a>) may not match. You should either
normalise this data, too, or change the default normalisation used by
<a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.delete_password">
<tt class="descname">delete_password</tt><big>(</big><em>account</em>, <em>service=None</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.delete_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the password stored at <tt class="docutils literal"><span class="pre">service/account</span></tt>. Raises
<a class="reference internal" href="#workflow.workflow.PasswordNotFound" title="workflow.workflow.PasswordNotFound"><tt class="xref py py-class docutils literal"><span class="pre">PasswordNotFound</span></tt></a> if account is unknown.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>account</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; name of the account the password is for, e.g.
&#8220;Pinboard&#8221;</li>
<li><strong>service</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; Name of the service. By default, this is the workflow&#8217;s
bundle ID</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.dumbify_punctuation">
<tt class="descname">dumbify_punctuation</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.dumbify_punctuation" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert non-ASCII punctuation to closest ASCII equivalent.</p>
<p>This method replaces &#8220;smart&#8221; quotes and n- or m-dashes with their
workaday ASCII equivalents. This method is currently not used
internally, but exists as a helper method for workflow authors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; text to convert</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">text with only ASCII punctuation</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">unicode</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.filter">
<tt class="descname">filter</tt><big>(</big><em>query</em>, <em>items</em>, <em>key=&lt;function &lt;lambda&gt; at 0x103e65578&gt;</em>, <em>ascending=False</em>, <em>include_score=False</em>, <em>min_score=0</em>, <em>max_results=0</em>, <em>match_on=127</em>, <em>fold_diacritics=True</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Fuzzy search filter. Returns list of <tt class="docutils literal"><span class="pre">items</span></tt> that match <tt class="docutils literal"><span class="pre">query</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">query</span></tt> is case-insensitive. Any item that does not contain the
entirety of <tt class="docutils literal"><span class="pre">query</span></tt> is rejected.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If <tt class="docutils literal"><span class="pre">query</span></tt> is an empty string or contains only whitespace,
a <tt class="xref py py-class docutils literal"><span class="pre">ValueError</span></tt> will be raised.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>query</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; query to test items against</li>
<li><strong>items</strong> (<tt class="docutils literal"><span class="pre">list</span></tt> or <tt class="docutils literal"><span class="pre">tuple</span></tt>) &#8211; iterable of items to test</li>
<li><strong>key</strong> (<tt class="docutils literal"><span class="pre">callable</span></tt>) &#8211; function to get comparison key from <tt class="docutils literal"><span class="pre">items</span></tt>.
Must return a <tt class="docutils literal"><span class="pre">unicode</span></tt> string. The default simply returns
the item.</li>
<li><strong>ascending</strong> (<tt class="docutils literal"><span class="pre">Boolean</span></tt>) &#8211; set to <tt class="docutils literal"><span class="pre">True</span></tt> to get worst matches first</li>
<li><strong>include_score</strong> (<tt class="docutils literal"><span class="pre">Boolean</span></tt>) &#8211; Useful for debugging the scoring algorithm.
If <tt class="docutils literal"><span class="pre">True</span></tt>, results will be a list of tuples
<tt class="docutils literal"><span class="pre">(item,</span> <span class="pre">score,</span> <span class="pre">rule)</span></tt>.</li>
<li><strong>min_score</strong> (<tt class="docutils literal"><span class="pre">int</span></tt>) &#8211; If non-zero, ignore results with a score lower
than this.</li>
<li><strong>max_results</strong> (<tt class="docutils literal"><span class="pre">int</span></tt>) &#8211; If non-zero, prune results list to this length.</li>
<li><strong>match_on</strong> (<tt class="docutils literal"><span class="pre">int</span></tt>) &#8211; Filter option flags. Bitwise-combined list of
<tt class="docutils literal"><span class="pre">MATCH_*</span></tt> constants (see below).</li>
<li><strong>fold_diacritics</strong> (<tt class="docutils literal"><span class="pre">Boolean</span></tt>) &#8211; Convert search keys to ASCII-only
characters if <tt class="docutils literal"><span class="pre">query</span></tt> only contains ASCII characters.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of <tt class="docutils literal"><span class="pre">items</span></tt> matching <tt class="docutils literal"><span class="pre">query</span></tt> or list of
<tt class="docutils literal"><span class="pre">(item,</span> <span class="pre">score,</span> <span class="pre">rule)</span></tt> <cite>tuples</cite> if <tt class="docutils literal"><span class="pre">include_score</span></tt> is <tt class="docutils literal"><span class="pre">True</span></tt>.
<tt class="docutils literal"><span class="pre">rule</span></tt> is the <tt class="docutils literal"><span class="pre">MATCH_*</span></tt> rule that matched the item.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="docutils literal"><span class="pre">list</span></tt></p>
</td>
</tr>
</tbody>
</table>
<p><strong>Matching rules</strong></p>
<p>By default, <a class="reference internal" href="#workflow.workflow.Workflow.filter" title="workflow.workflow.Workflow.filter"><tt class="xref py py-meth docutils literal"><span class="pre">filter()</span></tt></a> uses all of the following flags (i.e.
<tt class="xref py py-const docutils literal"><span class="pre">MATCH_ALL</span></tt>). The tests are always run in the given order:</p>
<ol class="arabic">
<li><dl class="first docutils">
<dt><tt class="xref py py-const docutils literal"><span class="pre">MATCH_STARTSWITH</span></tt> <span class="classifier-delimiter">:</span> <span class="classifier">Item search key startswith</span></dt>
<dd><p class="first last"><a href="#id1"><span class="problematic" id="id2">``</span></a>query``(case-insensitive).</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><tt class="xref py py-const docutils literal"><span class="pre">MATCH_CAPITALS</span></tt> <span class="classifier-delimiter">:</span> <span class="classifier">The list of capital letters in item</span></dt>
<dd><p class="first last">search key starts with <tt class="docutils literal"><span class="pre">query</span></tt> (<tt class="docutils literal"><span class="pre">query</span></tt> may be
lower-case). E.g., <tt class="docutils literal"><span class="pre">of</span></tt> would match <tt class="docutils literal"><span class="pre">OmniFocus</span></tt>,
<tt class="docutils literal"><span class="pre">gc</span></tt> would match <tt class="docutils literal"><span class="pre">Google</span> <span class="pre">Chrome</span></tt></p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><tt class="xref py py-const docutils literal"><span class="pre">MATCH_ATOM</span></tt> <span class="classifier-delimiter">:</span> <span class="classifier">Search key is split into &#8220;atoms&#8221; on</span></dt>
<dd><p class="first last">non-word characters (.,-,&#8217; etc.). Matches if <tt class="docutils literal"><span class="pre">query</span></tt> is
one of these atoms (case-insensitive).</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><tt class="xref py py-const docutils literal"><span class="pre">MATCH_INITIALS_STARTSWITH</span></tt> <span class="classifier-delimiter">:</span> <span class="classifier">Initials are the first</span></dt>
<dd><p class="first last">characters of the above-described &#8220;atoms&#8221; (case-insensitive).</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><tt class="xref py py-const docutils literal"><span class="pre">MATCH_INITIALS_CONTAIN</span></tt> <span class="classifier-delimiter">:</span> <span class="classifier"><tt class="docutils literal"><span class="pre">query</span></tt> is a substring of</span></dt>
<dd><p class="first last">the above-described initials.</p>
</dd>
</dl>
</li>
<li><p class="first"><tt class="xref py py-const docutils literal"><span class="pre">MATCH_INITIALS</span></tt> : Combination of (4) and (5).</p>
</li>
<li><dl class="first docutils">
<dt><tt class="xref py py-const docutils literal"><span class="pre">MATCH_SUBSTRING</span></tt> <span class="classifier-delimiter">:</span> <span class="classifier">Match if <tt class="docutils literal"><span class="pre">query</span></tt> is a substring</span></dt>
<dd><p class="first last">of item search key (case-insensitive).</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><tt class="xref py py-const docutils literal"><span class="pre">MATCH_ALLCHARS</span></tt> <span class="classifier-delimiter">:</span> <span class="classifier">Matches if all characters in</span></dt>
<dd><p class="first last"><tt class="docutils literal"><span class="pre">query</span></tt> appear in item search key in the same order
(case-insensitive).</p>
</dd>
</dl>
</li>
<li><p class="first"><tt class="xref py py-const docutils literal"><span class="pre">MATCH_ALL</span></tt> : Combination of all the above.</p>
</li>
</ol>
<p><tt class="xref py py-const docutils literal"><span class="pre">MATCH_ALLCHARS</span></tt> is considerably slower than the other
tests and provides much less accurate results.</p>
<p><strong>Examples:</strong></p>
<p>To ignore <tt class="xref py py-const docutils literal"><span class="pre">MATCH_ALLCHARS</span></tt> (tends to provide the worst
matches and is expensive to run), use
<tt class="docutils literal"><span class="pre">match_on=MATCH_ALL</span> <span class="pre">^</span> <span class="pre">MATCH_ALLCHARS</span></tt>.</p>
<p>To match only on capitals, use <tt class="docutils literal"><span class="pre">match_on=MATCH_CAPITALS</span></tt>.</p>
<p>To match only on startswith and substring, use
<tt class="docutils literal"><span class="pre">match_on=MATCH_STARTSWITH</span> <span class="pre">|</span> <span class="pre">MATCH_SUBSTRING</span></tt>.</p>
<p><strong>Diacritic folding</strong></p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.3.</span></p>
</div>
<p>If <tt class="docutils literal"><span class="pre">fold_diacritics</span></tt> is <tt class="docutils literal"><span class="pre">True</span></tt> (the default), and <tt class="docutils literal"><span class="pre">query</span></tt>
contains only ASCII characters, non-ASCII characters in search keys
will be converted to ASCII equivalents (e.g. <strong>ü</strong> -&gt; <strong>u</strong>,
<strong>ß</strong> -&gt; <strong>ss</strong>, <strong>é</strong> -&gt; <strong>e</strong>).</p>
<p>See <tt class="xref py py-const docutils literal"><span class="pre">ASCII_REPLACEMENTS</span></tt> for all replacements.</p>
<p>If <tt class="docutils literal"><span class="pre">query</span></tt> contains non-ASCII characters, search keys will not be
altered.</p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.first_run">
<tt class="descname">first_run</tt><a class="headerlink" href="#workflow.workflow.Workflow.first_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if it&#8217;s the first time this version has run.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.9.10.</span></p>
</div>
<p>Raises a <tt class="xref py py-class docutils literal"><span class="pre">ValueError</span></tt> if <a class="reference internal" href="#workflow.workflow.Workflow.version" title="workflow.workflow.Workflow.version"><tt class="xref py py-attr docutils literal"><span class="pre">version</span></tt></a> isn&#8217;t set.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.fold_to_ascii">
<tt class="descname">fold_to_ascii</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.fold_to_ascii" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert non-ASCII characters to closest ASCII equivalent.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.3.</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This only works for a subset of European languages.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; text to convert</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">text containing only ASCII characters</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">unicode</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.get_password">
<tt class="descname">get_password</tt><big>(</big><em>account</em>, <em>service=None</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.get_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the password saved at <tt class="docutils literal"><span class="pre">service/account</span></tt>. Raise
<a class="reference internal" href="#workflow.workflow.PasswordNotFound" title="workflow.workflow.PasswordNotFound"><tt class="xref py py-class docutils literal"><span class="pre">PasswordNotFound</span></tt></a> exception if password doesn&#8217;t exist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>account</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; name of the account the password is for, e.g.
&#8220;Pinboard&#8221;</li>
<li><strong>service</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; Name of the service. By default, this is the workflow&#8217;s
bundle ID</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">account password</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="docutils literal"><span class="pre">unicode</span></tt></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.info">
<tt class="descname">info</tt><a class="headerlink" href="#workflow.workflow.Workflow.info" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></a> of <tt class="docutils literal"><span class="pre">info.plist</span></tt> contents.</p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.item_class">
<tt class="descname">item_class</tt><a class="headerlink" href="#workflow.workflow.Workflow.item_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <tt class="xref py py-class docutils literal"><span class="pre">Item</span></tt></p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.last_version_run">
<tt class="descname">last_version_run</tt><a class="headerlink" href="#workflow.workflow.Workflow.last_version_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Return version of last version to run (or <tt class="docutils literal"><span class="pre">None</span></tt>)</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.9.10.</span></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference internal" href="update.html#workflow.update.Version" title="workflow.update.Version"><tt class="xref py py-class docutils literal"><span class="pre">Version</span></tt></a> instance
or <tt class="docutils literal"><span class="pre">None</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.logfile">
<tt class="descname">logfile</tt><a class="headerlink" href="#workflow.workflow.Workflow.logfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Return path to logfile</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">path to logfile within workflow&#8217;s cache directory</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">unicode</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.logger">
<tt class="descname">logger</tt><a class="headerlink" href="#workflow.workflow.Workflow.logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and return a logger that logs to both console and
a log file.</p>
<p>Use <a class="reference internal" href="#workflow.workflow.Workflow.open_log" title="workflow.workflow.Workflow.open_log"><tt class="xref py py-meth docutils literal"><span class="pre">open_log()</span></tt></a> to open the log file in Console.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an initialised <a class="reference external" href="http://docs.python.org/2.7/library/logging.html#logging.Logger" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">Logger</span></tt></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.magic_arguments">
<tt class="descname">magic_arguments</tt><em class="property"> = None</em><a class="headerlink" href="#workflow.workflow.Workflow.magic_arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>Mapping of available magic arguments. The built-in magic
arguments are registered by default. To add your own magic arguments
(or override built-ins), add a key:value pair where the key is
what the user should enter (prefixed with <a class="reference internal" href="#workflow.workflow.Workflow.magic_prefix" title="workflow.workflow.Workflow.magic_prefix"><tt class="xref py py-attr docutils literal"><span class="pre">magic_prefix</span></tt></a>)
and the value is a callable that will be called when the argument
is entered. If you would like to display a message in Alfred, the
function should return a <tt class="docutils literal"><span class="pre">unicode</span></tt> string.</p>
<p>By default, the magic arguments documented
<a class="reference internal" href="../user-manual/magic-arguments.html#magic-arguments"><em>here</em></a> are registered.</p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.magic_prefix">
<tt class="descname">magic_prefix</tt><em class="property"> = None</em><a class="headerlink" href="#workflow.workflow.Workflow.magic_prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>The prefix for all magic arguments. Default is <tt class="docutils literal"><span class="pre">workflow:</span></tt></p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.name">
<tt class="descname">name</tt><a class="headerlink" href="#workflow.workflow.Workflow.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Workflow name from Alfred&#8217;s environmental vars or <tt class="docutils literal"><span class="pre">info.plist</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">workflow name</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">unicode</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.open_cachedir">
<tt class="descname">open_cachedir</tt><big>(</big><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.open_cachedir" title="Permalink to this definition">¶</a></dt>
<dd><p>Open the workflow&#8217;s <a class="reference internal" href="#workflow.workflow.Workflow.cachedir" title="workflow.workflow.Workflow.cachedir"><tt class="xref py py-attr docutils literal"><span class="pre">cachedir</span></tt></a> in Finder.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.open_datadir">
<tt class="descname">open_datadir</tt><big>(</big><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.open_datadir" title="Permalink to this definition">¶</a></dt>
<dd><p>Open the workflow&#8217;s <a class="reference internal" href="#workflow.workflow.Workflow.datadir" title="workflow.workflow.Workflow.datadir"><tt class="xref py py-attr docutils literal"><span class="pre">datadir</span></tt></a> in Finder.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.open_help">
<tt class="descname">open_help</tt><big>(</big><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.open_help" title="Permalink to this definition">¶</a></dt>
<dd><p>Open <tt class="xref py py-attr docutils literal"><span class="pre">help_url</span></tt> in default browser</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.open_log">
<tt class="descname">open_log</tt><big>(</big><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.open_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Open workflows <a class="reference internal" href="#workflow.workflow.Workflow.logfile" title="workflow.workflow.Workflow.logfile"><tt class="xref py py-attr docutils literal"><span class="pre">logfile</span></tt></a> in standard
application (usually Console.app).</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.open_terminal">
<tt class="descname">open_terminal</tt><big>(</big><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.open_terminal" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a Terminal window at workflow&#8217;s <a class="reference internal" href="#workflow.workflow.Workflow.workflowdir" title="workflow.workflow.Workflow.workflowdir"><tt class="xref py py-attr docutils literal"><span class="pre">workflowdir</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.open_workflowdir">
<tt class="descname">open_workflowdir</tt><big>(</big><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.open_workflowdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Open the workflow&#8217;s <a class="reference internal" href="#workflow.workflow.Workflow.workflowdir" title="workflow.workflow.Workflow.workflowdir"><tt class="xref py py-attr docutils literal"><span class="pre">workflowdir</span></tt></a> in Finder.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.reset">
<tt class="descname">reset</tt><big>(</big><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete <a class="reference internal" href="#workflow.workflow.Workflow.settings_path" title="workflow.workflow.Workflow.settings_path"><tt class="xref py py-attr docutils literal"><span class="pre">settings</span></tt></a>, <a class="reference internal" href="#workflow.workflow.Workflow.cachedir" title="workflow.workflow.Workflow.cachedir"><tt class="xref py py-attr docutils literal"><span class="pre">cache</span></tt></a>
and <a class="reference internal" href="#workflow.workflow.Workflow.datadir" title="workflow.workflow.Workflow.datadir"><tt class="xref py py-attr docutils literal"><span class="pre">data</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.run">
<tt class="descname">run</tt><big>(</big><em>func</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Call <tt class="docutils literal"><span class="pre">func</span></tt> to run your workflow</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> &#8211; Callable to call with <tt class="docutils literal"><span class="pre">self</span></tt> (i.e. the <a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a>
instance) as first argument.</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">func</span></tt> will be called with <a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> instance as first
argument.</p>
<p><tt class="docutils literal"><span class="pre">func</span></tt> should be the main entry point to your workflow.</p>
<p>Any exceptions raised will be logged and an error message will be
output to Alfred.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.save_password">
<tt class="descname">save_password</tt><big>(</big><em>account</em>, <em>password</em>, <em>service=None</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.save_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Save account credentials.</p>
<p>If the account exists, the old password will first be deleted
(Keychain throws an error otherwise).</p>
<p>If something goes wrong, a <a class="reference internal" href="#workflow.workflow.KeychainError" title="workflow.workflow.KeychainError"><tt class="xref py py-class docutils literal"><span class="pre">KeychainError</span></tt></a> exception will
be raised.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>account</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; name of the account the password is for, e.g.
&#8220;Pinboard&#8221;</li>
<li><strong>password</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; the password to secure</li>
<li><strong>service</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; Name of the service. By default, this is the
workflow&#8217;s bundle ID</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.send_feedback">
<tt class="descname">send_feedback</tt><big>(</big><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.send_feedback" title="Permalink to this definition">¶</a></dt>
<dd><p>Print stored items to console/Alfred as XML.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.set_last_version">
<tt class="descname">set_last_version</tt><big>(</big><em>version=None</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.set_last_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Set <a class="reference internal" href="#workflow.workflow.Workflow.last_version_run" title="workflow.workflow.Workflow.last_version_run"><tt class="xref py py-attr docutils literal"><span class="pre">last_version_run</span></tt></a> to current version</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.9.10.</span></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>version</strong> (<a class="reference internal" href="update.html#workflow.update.Version" title="workflow.update.Version"><tt class="xref py py-class docutils literal"><span class="pre">Version</span></tt></a> instance
or <tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; version to store (default is current version)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><tt class="docutils literal"><span class="pre">True</span></tt> if version is saved, else <tt class="docutils literal"><span class="pre">False</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.settings">
<tt class="descname">settings</tt><a class="headerlink" href="#workflow.workflow.Workflow.settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary subclass that saves itself when changed.</p>
<p>See <a class="reference internal" href="../user-manual/persistent-data.html#manual-settings"><em>Settings</em></a> in the <a class="reference internal" href="../user-manual/index.html#user-manual"><em>User Manual</em></a> for more
information on how to use <a class="reference internal" href="#workflow.workflow.Workflow.settings" title="workflow.workflow.Workflow.settings"><tt class="xref py py-attr docutils literal"><span class="pre">settings</span></tt></a> and <strong>important
limitations</strong> on what it can do.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">Settings</span></tt> instance
initialised from the data in JSON file at
<a class="reference internal" href="#workflow.workflow.Workflow.settings_path" title="workflow.workflow.Workflow.settings_path"><tt class="xref py py-attr docutils literal"><span class="pre">settings_path</span></tt></a> or if that doesn&#8217;t exist, with the
<tt class="docutils literal"><span class="pre">default_settings</span></tt> <a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></a> passed to
<a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> on instantiation.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">Settings</span></tt> instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.settings_path">
<tt class="descname">settings_path</tt><a class="headerlink" href="#workflow.workflow.Workflow.settings_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to settings file within workflow&#8217;s data directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">path to <tt class="docutils literal"><span class="pre">settings.json</span></tt> file</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">unicode</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.start_update">
<tt class="descname">start_update</tt><big>(</big><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.start_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for update and download and install new workflow file</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.9.</span></p>
</div>
<p>See <a class="reference internal" href="../user-manual/update.html#manual-updates"><em>Self-updating</em></a> in the <a class="reference internal" href="../user-manual/index.html#user-manual"><em>User Manual</em></a> for detailed
information on how to enable your workflow to update itself.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><tt class="docutils literal"><span class="pre">True</span></tt> if an update is available and will be
installed, else <tt class="docutils literal"><span class="pre">False</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.store_data">
<tt class="descname">store_data</tt><big>(</big><em>name</em>, <em>data</em>, <em>serializer=None</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.store_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Save data to data directory.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<p>If <tt class="docutils literal"><span class="pre">data</span></tt> is <tt class="docutils literal"><span class="pre">None</span></tt>, the datastore will be deleted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> &#8211; name of datastore</li>
<li><strong>data</strong> &#8211; object(s) to store. <strong>Note:</strong> some serializers
can only handled certain types of data.</li>
<li><strong>serializer</strong> &#8211; name of serializer to use. If no serializer
is specified, the default will be used. See
<a class="reference internal" href="serialization.html#workflow.workflow.SerializerManager" title="workflow.workflow.SerializerManager"><tt class="xref py py-class docutils literal"><span class="pre">SerializerManager</span></tt></a> for more information.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">data in datastore or <tt class="docutils literal"><span class="pre">None</span></tt></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.stored_data">
<tt class="descname">stored_data</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.stored_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve data from data directory. Returns <tt class="docutils literal"><span class="pre">None</span></tt> if there
are no data stored.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> &#8211; name of datastore</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.update_available">
<tt class="descname">update_available</tt><a class="headerlink" href="#workflow.workflow.Workflow.update_available" title="Permalink to this definition">¶</a></dt>
<dd><p>Is an update available?</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.9.</span></p>
</div>
<p>See <a class="reference internal" href="../user-manual/update.html#manual-updates"><em>Self-updating</em></a> in the <a class="reference internal" href="../user-manual/index.html#user-manual"><em>User Manual</em></a> for detailed
information on how to enable your workflow to update itself.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><tt class="docutils literal"><span class="pre">True</span></tt> if an update is available, else <tt class="docutils literal"><span class="pre">False</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.version">
<tt class="descname">version</tt><a class="headerlink" href="#workflow.workflow.Workflow.version" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the version of the workflow</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.9.10.</span></p>
</div>
<p>Get the version from the <tt class="docutils literal"><span class="pre">update_settings</span></tt> dict passed on
instantiation or the <tt class="docutils literal"><span class="pre">version</span></tt> file located in the workflow&#8217;s
root directory. Return <tt class="docutils literal"><span class="pre">None</span></tt> if neither exist or
<tt class="xref py py-class docutils literal"><span class="pre">ValueError</span></tt> if the version number is invalid (i.e. not
semantic).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Version of the workflow (not Alfred-Workflow)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="update.html#workflow.update.Version" title="workflow.update.Version"><tt class="xref py py-class docutils literal"><span class="pre">Version</span></tt></a> object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.workflowdir">
<tt class="descname">workflowdir</tt><a class="headerlink" href="#workflow.workflow.Workflow.workflowdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to workflow&#8217;s root directory (where <tt class="docutils literal"><span class="pre">info.plist</span></tt> is).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">full path to workflow root directory</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">unicode</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.workflowfile">
<tt class="descname">workflowfile</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.workflowfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Return full path to <tt class="docutils literal"><span class="pre">filename</span></tt> in workflow&#8217;s root dir
(where <tt class="docutils literal"><span class="pre">info.plist</span></tt> is).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; basename of file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">full path to file within data directory</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">unicode</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="workflow.workflow.KeychainError">
<em class="property">class </em><tt class="descclassname">workflow.workflow.</tt><tt class="descname">KeychainError</tt><a class="headerlink" href="#workflow.workflow.KeychainError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised by methods <a class="reference internal" href="#workflow.workflow.Workflow.save_password" title="workflow.workflow.Workflow.save_password"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.save_password()</span></tt></a>,
<a class="reference internal" href="#workflow.workflow.Workflow.get_password" title="workflow.workflow.Workflow.get_password"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.get_password()</span></tt></a> and <a class="reference internal" href="#workflow.workflow.Workflow.delete_password" title="workflow.workflow.Workflow.delete_password"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.delete_password()</span></tt></a>
when <tt class="docutils literal"><span class="pre">security</span></tt> CLI app returns an unknown error code.</p>
</dd></dl>

<dl class="class">
<dt id="workflow.workflow.PasswordNotFound">
<em class="property">class </em><tt class="descclassname">workflow.workflow.</tt><tt class="descname">PasswordNotFound</tt><a class="headerlink" href="#workflow.workflow.PasswordNotFound" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised by method <a class="reference internal" href="#workflow.workflow.Workflow.get_password" title="workflow.workflow.Workflow.get_password"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.get_password()</span></tt></a> when <tt class="docutils literal"><span class="pre">account</span></tt>
is unknown to the Keychain.</p>
</dd></dl>

<dl class="class">
<dt id="workflow.workflow.PasswordExists">
<em class="property">class </em><tt class="descclassname">workflow.workflow.</tt><tt class="descname">PasswordExists</tt><a class="headerlink" href="#workflow.workflow.PasswordExists" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when trying to overwrite an existing account password.</p>
<p>You should never receive this error: it is used internally
by the <a class="reference internal" href="#workflow.workflow.Workflow.save_password" title="workflow.workflow.Workflow.save_password"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.save_password()</span></tt></a> method to know if it needs
to delete the old password first (a Keychain implementation detail).</p>
</dd></dl>

</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="web.html" class="btn btn-neutral float-right" title="Fetching Data from the Web"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Alfred-Workflow API"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Dean Jackson.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.10.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
<div class="github-fork-ribbon-wrapper right">
    <div class="github-fork-ribbon">
        <a href="https://github.com/deanishe/alfred-workflow">Fork me on GitHub</a>
    </div>
</div>
 


</body>
</html>