
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Howto &mdash; Alfred-Workflow 1.8.4 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootswatch-3.1.0/readable/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.8.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="Alfred-Workflow 1.8.4 documentation" href="index.html" />
    <link rel="next" title="workflow.workflow" href="workflow.html" />
    <link rel="prev" title="Writing A Pinboard Workflow, Part 2" href="tutorial2.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

<link rel="stylesheet" href="_static/gh-fork-ribbon.css">
<!--[if lt IE 9]>
	<link rel="stylesheet" href="_static/gh-fork-ribbon.ie.css">
<![endif]-->
<link rel="stylesheet" href="_static/custom.css">

  </head>
  <body>
<div class="github-fork-ribbon-wrapper right">
    <div class="github-fork-ribbon">
        <a href="https://github.com/deanishe/alfred-workflow">Fork me on GitHub</a>
    </div>
</div>


  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          Alfred-Workflow</a>
        <span class="navbar-text navbar-version pull-left"><b>1.8.4</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Documentation <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Writing A Pinboard Workflow, Part 1</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorial2.html">Writing A Pinboard Workflow, Part 2</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">Howto</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">workflow.workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="web.html">workflow.web</a></li>
<li class="toctree-l1"><a class="reference internal" href="background.html">workflow.background</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Howto</a><ul>
<li><a class="reference internal" href="#workflow-setup-and-skeleton">Workflow setup and skeleton</a></li>
<li><a class="reference internal" href="#including-3rd-party-libraries">Including 3rd party libraries</a></li>
<li><a class="reference internal" href="#persistent-data">Persistent data</a><ul>
<li><a class="reference internal" href="#caching-data">Caching data</a></li>
<li><a class="reference internal" href="#storing-data">Storing data</a></li>
<li><a class="reference internal" href="#settings">Settings</a></li>
<li><a class="reference internal" href="#keychain-access">Keychain access</a></li>
</ul>
</li>
<li><a class="reference internal" href="#searching-filtering-data">Searching/filtering data</a><ul>
<li><a class="reference internal" href="#restricting-results">Restricting results</a></li>
<li><a class="reference internal" href="#diacritic-folding">Diacritic folding</a></li>
</ul>
</li>
<li><a class="reference internal" href="#text-encoding-decoding">Text encoding/decoding</a></li>
<li><a class="reference internal" href="#background-processes">Background processes</a></li>
<li><a class="reference internal" href="#serialization">Serialization</a></li>
<li><a class="reference internal" href="#built-in-icons">Built-in icons</a><ul>
<li><a class="reference internal" href="#list-of-icons">List of icons</a></li>
</ul>
</li>
<li><a class="reference internal" href="#magic-arguments">&#8220;Magic&#8221; arguments</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">Howto</a><ul>
<li><a class="reference internal" href="#workflow-setup-and-skeleton">Workflow setup and skeleton</a></li>
<li><a class="reference internal" href="#including-3rd-party-libraries">Including 3rd party libraries</a></li>
<li><a class="reference internal" href="#persistent-data">Persistent data</a><ul>
<li><a class="reference internal" href="#caching-data">Caching data</a></li>
<li><a class="reference internal" href="#storing-data">Storing data</a></li>
<li><a class="reference internal" href="#settings">Settings</a></li>
<li><a class="reference internal" href="#keychain-access">Keychain access</a></li>
</ul>
</li>
<li><a class="reference internal" href="#searching-filtering-data">Searching/filtering data</a><ul>
<li><a class="reference internal" href="#restricting-results">Restricting results</a></li>
<li><a class="reference internal" href="#diacritic-folding">Diacritic folding</a></li>
</ul>
</li>
<li><a class="reference internal" href="#text-encoding-decoding">Text encoding/decoding</a></li>
<li><a class="reference internal" href="#background-processes">Background processes</a></li>
<li><a class="reference internal" href="#serialization">Serialization</a></li>
<li><a class="reference internal" href="#built-in-icons">Built-in icons</a><ul>
<li><a class="reference internal" href="#list-of-icons">List of icons</a></li>
</ul>
</li>
<li><a class="reference internal" href="#magic-arguments">&#8220;Magic&#8221; arguments</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    <div class="col-md-9">
      
  <div class="section" id="howto">
<h1>Howto<a class="headerlink" href="#howto" title="Permalink to this headline">¶</a></h1>
<p>This document serves as a quick reference on using the features of
<strong>Alfred-Python</strong>.</p>
<p>If you&#8217;re new to writing Workflows or coding in general, start with the
<a class="reference internal" href="tutorial.html#tutorial"><em>Tutorial</em></a>.</p>
<div class="section" id="workflow-setup-and-skeleton">
<h2>Workflow setup and skeleton<a class="headerlink" href="#workflow-setup-and-skeleton" title="Permalink to this headline">¶</a></h2>
<p><strong>Alfred-Python</strong> is aimed particularly at authors of so-called
<strong>Script Filters</strong>. These are activated by a keyword in Alfred, receive
user input and return results to Alfred.</p>
<p>To write a Script Filter with <strong>Alfred-Workflow</strong>, make sure your Script Filter
is set to use <tt class="docutils literal"><span class="pre">/bin/bash</span></tt> as the <strong>Language</strong>, and select the
following (and only the following) <strong>Escaping</strong> options:</p>
<ul class="simple">
<li>Backquotes</li>
<li>Double Quotes</li>
<li>Dollars</li>
<li>Backslashes</li>
</ul>
<p>The <strong>Script</strong> field should contain the following:</p>
<div class="highlight-python"><div class="highlight"><pre>python yourscript.py &quot;{query}&quot;
</pre></div>
</div>
<p>where <tt class="docutils literal"><span class="pre">yourscript.py</span></tt> is the name of your script.</p>
<p>Your workflow should start out like this. This enables <tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt>
to capture any errors thrown by your scripts:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</pre></div></td><td class="code"><div class="highlight"><pre> <span class="c">#!/usr/bin/python</span>
 <span class="c"># encoding: utf-8</span>

 <span class="kn">import</span> <span class="nn">sys</span>

 <span class="kn">from</span> <span class="nn">workflow</span> <span class="kn">import</span> <span class="n">Workflow</span>

 <span class="n">log</span> <span class="o">=</span> <span class="bp">None</span>


 <span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">wf</span><span class="p">):</span>
     <span class="c"># The Workflow instance will be passed to the function</span>
     <span class="c"># you call from `Workflow.run`</span>

     <span class="c"># Your imports here if you want to catch import errors</span>
     <span class="kn">import</span> <span class="nn">somemodule</span>
     <span class="kn">import</span> <span class="nn">anothermodule</span>

     <span class="c"># Get args from Workflow as normalised Unicode</span>
     <span class="n">args</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">args</span>

     <span class="c"># Do stuff here ...</span>

     <span class="c"># Add an item to Alfred feedback</span>
     <span class="n">wf</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="s">&#39;Item title&#39;</span><span class="p">,</span> <span class="s">&#39;Item subtitle&#39;</span><span class="p">)</span>

     <span class="c"># Send output to Alfred</span>
     <span class="n">wf</span><span class="o">.</span><span class="n">send_feedback</span><span class="p">()</span>


 <span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
     <span class="n">wf</span> <span class="o">=</span> <span class="n">Workflow</span><span class="p">()</span>
     <span class="c"># Assign Workflow logger to a global variable, so all module</span>
     <span class="c"># functions can access it without having to pass the Workflow</span>
     <span class="c"># instance around</span>
     <span class="n">log</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">logger</span>
     <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">wf</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="including-3rd-party-libraries">
<h2>Including 3rd party libraries<a class="headerlink" href="#including-3rd-party-libraries" title="Permalink to this headline">¶</a></h2>
<p>It&#8217;s a Very Bad Idea ™ to install (or ask users to install) 3rd-party libraries
in the OS X system Python. <strong>Alfred-Workflow</strong> makes it easy to include them in
your Workflow.</p>
<p>Simply create a <tt class="docutils literal"><span class="pre">lib</span></tt> subdirectory under your Workflow&#8217;s root directory
(or call it whatever you want), install your dependencies there with</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre> pip install --target<span class="o">=</span>my-workflow-root-dir/lib python-lib-name
</pre></div>
</td></tr></table></div>
<p>and instantiate <a class="reference internal" href="workflow.html#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a>
with the <tt class="docutils literal"><span class="pre">libraries</span></tt> argument:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre> <span class="kn">from</span> <span class="nn">workflow</span> <span class="kn">import</span> <span class="n">Workflow</span>

 <span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">wf</span><span class="p">):</span>
     <span class="kn">import</span> <span class="nn">module_from_lib_subdirectory_here</span>

 <span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
     <span class="n">wf</span> <span class="o">=</span> <span class="n">Workflow</span><span class="p">(</span><span class="n">libraries</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;./lib&#39;</span><span class="p">])</span>
     <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">wf</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="persistent-data">
<span id="id1"></span><h2>Persistent data<a class="headerlink" href="#persistent-data" title="Permalink to this headline">¶</a></h2>
<p>Alfred provides special data and cache directories for each Workflow (in
<tt class="docutils literal"><span class="pre">~/Library/Application</span> <span class="pre">Support</span></tt> and <tt class="docutils literal"><span class="pre">~/Library/Caches</span></tt> respectively).
<a class="reference internal" href="workflow.html#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> provides the following
attributes/methods to make it easier to access these directories:</p>
<ul class="simple">
<li><a class="reference internal" href="workflow.html#workflow.workflow.Workflow.datadir" title="workflow.workflow.Workflow.datadir"><tt class="xref py py-attr docutils literal"><span class="pre">datadir</span></tt></a> — The full path to your Workflow&#8217;s data directory.</li>
<li><a class="reference internal" href="workflow.html#workflow.workflow.Workflow.cachedir" title="workflow.workflow.Workflow.cachedir"><tt class="xref py py-attr docutils literal"><span class="pre">cachedir</span></tt></a> — The full path to your Workflow&#8217;s cache directory.</li>
<li><a class="reference internal" href="workflow.html#workflow.workflow.Workflow.datafile" title="workflow.workflow.Workflow.datafile"><tt class="xref py py-meth docutils literal"><span class="pre">datafile(filename)</span></tt></a> — The full path to <tt class="docutils literal"><span class="pre">filename</span></tt> under the data directory.</li>
<li><a class="reference internal" href="workflow.html#workflow.workflow.Workflow.cachefile" title="workflow.workflow.Workflow.cachefile"><tt class="xref py py-meth docutils literal"><span class="pre">cachefile(filename)</span></tt></a> — The full path to <tt class="docutils literal"><span class="pre">filename</span></tt> under the cache directory.</li>
</ul>
<p>The cache directory may be deleted during system maintenance, and is thus only
suitable for temporary data or data that is easily recreated.
<a class="reference internal" href="workflow.html#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a>&#8216;s cache methods reflect this,
and make it easy to replace cached data that are too old.
See <a class="reference internal" href="#caching-data"><em>Caching data</em></a> for more details.</p>
<p>The data directory is intended for more permanent, user-generated data, or data
that cannot be otherwise easily recreated. See <a class="reference internal" href="#storing-data"><em>Storing data</em></a>
for details.</p>
<p>It is easy to specify a custom file format for your stored data
via the <tt class="docutils literal"><span class="pre">serializer</span></tt> argument if you want your data to be readable by the user
or by other software. See <a class="reference internal" href="#serialization"><em>Serialization</em></a> for more details.</p>
<p>There are also simliar methods related to the root directory of your Workflow
(where <tt class="docutils literal"><span class="pre">info.plist</span></tt> and your code are):</p>
<ul class="simple">
<li><a class="reference internal" href="workflow.html#workflow.workflow.Workflow.workflowdir" title="workflow.workflow.Workflow.workflowdir"><tt class="xref py py-attr docutils literal"><span class="pre">workflowdir</span></tt></a> — The full path to your Workflow&#8217;s root directory.</li>
<li><a class="reference internal" href="workflow.html#workflow.workflow.Workflow.workflowfile" title="workflow.workflow.Workflow.workflowfile"><tt class="xref py py-meth docutils literal"><span class="pre">workflowfile(filename)</span></tt></a> — The full path to <tt class="docutils literal"><span class="pre">filename</span></tt> under your Workflow&#8217;s root directory.</li>
</ul>
<p>These are used internally to implement <a class="reference internal" href="#magic-arguments"><em>magic arguments</em></a>, which
may help you with development/debugging.</p>
<p>In addition, <a class="reference internal" href="workflow.html#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> also provides a
convenient interface for storing persistent settings with
<a class="reference internal" href="workflow.html#workflow.workflow.Workflow.settings" title="workflow.workflow.Workflow.settings"><tt class="xref py py-attr docutils literal"><span class="pre">Workflow.settings</span></tt></a>.
See <a class="reference internal" href="tutorial2.html#settings"><em>Settings</em></a> and <a class="reference internal" href="#keychain"><em>Keychain access</em></a> for more
information on storing settings and sensitive data.</p>
<div class="section" id="caching-data">
<span id="id2"></span><h3>Caching data<a class="headerlink" href="#caching-data" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="workflow.html#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> provides a few methods to simplify
caching data that is slow to retrieve or expensive to generate (e.g. downloaded
from a web API). These data are cached in your workflow&#8217;s cache directory (see
<a class="reference internal" href="workflow.html#workflow.workflow.Workflow.cachedir" title="workflow.workflow.Workflow.cachedir"><tt class="xref py py-attr docutils literal"><span class="pre">cachedir</span></tt></a>). The main method is
<a class="reference internal" href="workflow.html#workflow.workflow.Workflow.cached_data" title="workflow.workflow.Workflow.cached_data"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.cached_data()</span></tt></a>, which
takes a name under which the data should be cached, a callable to retrieve
the data if they aren&#8217;t in the cache (or are too old), and a maximum age in seconds
for the cached data:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre> <span class="kn">from</span> <span class="nn">workflow</span> <span class="kn">import</span> <span class="n">web</span><span class="p">,</span> <span class="n">Workflow</span>

 <span class="k">def</span> <span class="nf">get_data</span><span class="p">():</span>
     <span class="k">return</span> <span class="n">web</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;https://example.com/api/stuff&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

 <span class="n">wf</span> <span class="o">=</span> <span class="n">Workflow</span><span class="p">()</span>
 <span class="n">data</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">cached_data</span><span class="p">(</span><span class="s">&#39;stuff&#39;</span><span class="p">,</span> <span class="n">get_data</span><span class="p">,</span> <span class="n">max_age</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>To retrieve data only if they are in the cache, call with <tt class="docutils literal"><span class="pre">None</span></tt> as the
data-retrieval function (which is the default):</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre> <span class="n">data</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">cached_data</span><span class="p">(</span><span class="s">&#39;stuff&#39;</span><span class="p">,</span> <span class="n">max_age</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p><strong>Note</strong>: This will return <tt class="docutils literal"><span class="pre">None</span></tt> if there are no corresponding data in the
cache.</p>
<p>This is useful if you want to update your cache in the background, so it doesn&#8217;t
impact your Workflow&#8217;s responsiveness in Alfred. (See
<a class="reference internal" href="tutorial2.html#background-updates"><em>the tutorial</em></a> for an example of how to run an update
script in the background.)</p>
<p>Passing <tt class="docutils literal"><span class="pre">max_age=0</span></tt> will return the cached data regardless of age.</p>
</div>
<div class="section" id="storing-data">
<span id="id3"></span><h3>Storing data<a class="headerlink" href="#storing-data" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="workflow.html#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> provides two methods to store
and retrieve permanent data:
<a class="reference internal" href="workflow.html#workflow.workflow.Workflow.store_data" title="workflow.workflow.Workflow.store_data"><tt class="xref py py-meth docutils literal"><span class="pre">store_data()</span></tt></a> and
<a class="reference internal" href="workflow.html#workflow.workflow.Workflow.stored_data" title="workflow.workflow.Workflow.stored_data"><tt class="xref py py-meth docutils literal"><span class="pre">stored_data()</span></tt></a>.</p>
<p>These data are stored in your workflow&#8217;s data directory
(see <a class="reference internal" href="workflow.html#workflow.workflow.Workflow.datadir" title="workflow.workflow.Workflow.datadir"><tt class="xref py py-attr docutils literal"><span class="pre">datadir</span></tt></a>).</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">workflow</span> <span class="kn">import</span> <span class="n">Workflow</span>

<span class="n">wf</span> <span class="o">=</span> <span class="n">Workflow</span><span class="p">()</span>
<span class="n">wf</span><span class="o">.</span><span class="n">store_data</span><span class="p">(</span><span class="s">&#39;name&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
<span class="c"># data will be `None` if there is nothing stored under `name`</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">stored_data</span><span class="p">(</span><span class="s">&#39;name&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>These methods do not support the data expiry features of the cached data methods,
but you can specify your own serializer for each datastore, making it simple
to store data in, e.g., JSON or YAML format.</p>
<p>You should use these methods (and not the data caching ones) if the data you
are saving should not be deleted as part of system maintenance.</p>
<p>If you want to specify your own file format/serializer, please see
<a class="reference internal" href="#serialization"><em>Serialization</em></a> for details.</p>
</div>
<div class="section" id="settings">
<span id="id4"></span><h3>Settings<a class="headerlink" href="#settings" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="workflow.html#workflow.workflow.Workflow.settings" title="workflow.workflow.Workflow.settings"><tt class="xref py py-attr docutils literal"><span class="pre">Workflow.settings</span></tt></a> is a subclass
of <a class="reference external" href="http://docs.python.org/library/stdtypes.html#dict" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></a> that automatically saves its contents to the <tt class="docutils literal"><span class="pre">settings.json</span></tt>
file in your Workflow&#8217;s data directory when it is changed.</p>
<p><a class="reference internal" href="workflow.html#workflow.workflow.Settings" title="workflow.workflow.Settings"><tt class="xref py py-class docutils literal"><span class="pre">Settings</span></tt></a> can be used just like a normal <a class="reference external" href="http://docs.python.org/library/stdtypes.html#dict" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></a>
with the caveat that all keys and values must be serializable to JSON.</p>
<p><strong>Note:</strong> A <a class="reference internal" href="workflow.html#workflow.workflow.Settings" title="workflow.workflow.Settings"><tt class="xref py py-class docutils literal"><span class="pre">Settings</span></tt></a> instance can only automatically
recognise when you directly alter the values of its own keys:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="n">wf</span> <span class="o">=</span> <span class="n">Workflow</span><span class="p">()</span>
<span class="n">wf</span><span class="o">.</span><span class="n">settings</span><span class="p">[</span><span class="s">&#39;key&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;key2&#39;</span><span class="p">:</span> <span class="s">&#39;value&#39;</span><span class="p">}</span>  <span class="c"># will be automatically saved</span>
<span class="n">wf</span><span class="o">.</span><span class="n">settings</span><span class="p">[</span><span class="s">&#39;key&#39;</span><span class="p">][</span><span class="s">&#39;key2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;value2&#39;</span>  <span class="c"># will *not* be automatically saved</span>
</pre></div>
</td></tr></table></div>
<p>If you&#8217;ve altered a data structure stored within your workflow&#8217;s
<a class="reference internal" href="workflow.html#workflow.workflow.Workflow.settings" title="workflow.workflow.Workflow.settings"><tt class="xref py py-attr docutils literal"><span class="pre">Workflow.settings</span></tt></a>, you need to
explicitly call <a class="reference internal" href="workflow.html#workflow.workflow.Settings.save" title="workflow.workflow.Settings.save"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.settings.save()</span></tt></a>.</p>
<p>If you need to store arbitrary data, you can use the <a class="reference internal" href="#caching-data"><em>cached data API</em></a>.</p>
<p>If you need to store data securely (such as passwords and API keys),
<a class="reference internal" href="workflow.html#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> also provides simple access to
the OS X Keychain.</p>
</div>
<div class="section" id="keychain-access">
<span id="keychain"></span><h3>Keychain access<a class="headerlink" href="#keychain-access" title="Permalink to this headline">¶</a></h3>
<p>Methods <a class="reference internal" href="workflow.html#workflow.workflow.Workflow.save_password" title="workflow.workflow.Workflow.save_password"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.save_password(account,</span> <span class="pre">password)</span></tt></a>,
<a class="reference internal" href="workflow.html#workflow.workflow.Workflow.get_password" title="workflow.workflow.Workflow.get_password"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.get_password(account)</span></tt></a>
and <a class="reference internal" href="workflow.html#workflow.workflow.Workflow.delete_password" title="workflow.workflow.Workflow.delete_password"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.delete_password(account)</span></tt></a>
allow access to the Keychain. They may raise
<tt class="xref py py-class docutils literal"><span class="pre">PasswordNotFound</span></tt> if
no password is set for the given <tt class="docutils literal"><span class="pre">account</span></tt> or
<tt class="xref py py-class docutils literal"><span class="pre">KeychainError</span></tt> if there is
a problem accessing the Keychain. Passwords are stored in the user&#8217;s default
Keychain. By default, the Workflow&#8217;s Bundle ID will be used as the service name,
but this can be overridden by setting the <tt class="docutils literal"><span class="pre">service</span></tt> argument to the above
methods.</p>
<p>Example usage:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre> <span class="kn">from</span> <span class="nn">workflow</span> <span class="kn">import</span> <span class="n">Workflow</span>

 <span class="n">wf</span> <span class="o">=</span> <span class="n">Workflow</span><span class="p">()</span>

 <span class="n">wf</span><span class="o">.</span><span class="n">save_password</span><span class="p">(</span><span class="s">&#39;hotmail-password&#39;</span><span class="p">,</span> <span class="s">&#39;password1lolz&#39;</span><span class="p">)</span>

 <span class="n">password</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">get_password</span><span class="p">(</span><span class="s">&#39;hotmail-password&#39;</span><span class="p">)</span>

 <span class="n">wf</span><span class="o">.</span><span class="n">delete_password</span><span class="p">(</span><span class="s">&#39;hotmail-password&#39;</span><span class="p">)</span>

 <span class="c"># raises PasswordNotFound exception</span>
 <span class="n">password</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">get_password</span><span class="p">(</span><span class="s">&#39;hotmail-password&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>See <a class="reference internal" href="tutorial2.html#secure-settings"><em>the relevant part of the tutorial</em></a> for a full example.</p>
</div>
</div>
<div class="section" id="searching-filtering-data">
<span id="filtering"></span><h2>Searching/filtering data<a class="headerlink" href="#searching-filtering-data" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="workflow.html#workflow.workflow.Workflow.filter" title="workflow.workflow.Workflow.filter"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.filter()</span></tt></a> provides an
Alfred-like search algorithm for filtering your Workflow&#8217;s data. By default,
<a class="reference internal" href="workflow.html#workflow.workflow.Workflow.filter" title="workflow.workflow.Workflow.filter"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.filter()</span></tt></a> will try to match
your search query via CamelCase, substring, initials and all characters, applying
different weightings to the various kind of matches (see
<a class="reference internal" href="workflow.html#workflow.workflow.Workflow.filter" title="workflow.workflow.Workflow.filter"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.filter()</span></tt></a> for a detailed
description of the algorithm and match flags).</p>
<p><strong>Note:</strong> By default, <a class="reference internal" href="workflow.html#workflow.workflow.Workflow.filter" title="workflow.workflow.Workflow.filter"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.filter()</span></tt></a>
will match and return anything that contains all the characters in <tt class="docutils literal"><span class="pre">query</span></tt>
in the same order, regardless of case. Not only can this lead to unacceptable
performance when working with thousands of results, but it&#8217;s also very likely
that you&#8217;ll want to set the standard a little higher.
See <a class="reference internal" href="#restricting-results"><em>Restricting results</em></a> for info on how to do that.</p>
<p>To use <a class="reference internal" href="workflow.html#workflow.workflow.Workflow.filter" title="workflow.workflow.Workflow.filter"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.filter()</span></tt></a>, pass it
a query, a list of items to filter and sort, and if your list contains items
other than strings, a <tt class="docutils literal"><span class="pre">key</span></tt> function that generates a string search key for
each item:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre> <span class="kn">from</span> <span class="nn">workflow</span> <span class="kn">import</span> <span class="n">Workflow</span>

 <span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Bob Smith&#39;</span><span class="p">,</span> <span class="s">&#39;Carrie Jones&#39;</span><span class="p">,</span> <span class="s">&#39;Harry Johnson&#39;</span><span class="p">,</span> <span class="s">&#39;Sam Butterkeks&#39;</span><span class="p">]</span>

 <span class="n">wf</span> <span class="o">=</span> <span class="n">Workflow</span><span class="p">()</span>

 <span class="n">hits</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="s">&#39;bs&#39;</span><span class="p">,</span> <span class="n">names</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Which returns:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="s">&#39;Bob Smith&#39;</span><span class="p">,</span> <span class="s">&#39;Sam Butterkeks&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>(<tt class="docutils literal"><span class="pre">bs</span></tt> are Bob Smith&#8217;s initials and <tt class="docutils literal"><span class="pre">Butterkeks</span></tt> contains both letters in that order.)</p>
<p>If your data are not strings:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre> <span class="kn">from</span> <span class="nn">workflow</span> <span class="kn">import</span> <span class="n">Workflow</span>

 <span class="n">books</span> <span class="o">=</span> <span class="p">[</span>
     <span class="p">{</span><span class="s">&#39;title&#39;</span><span class="p">:</span> <span class="s">&#39;A damn fine afternoon&#39;</span><span class="p">,</span> <span class="s">&#39;author&#39;</span><span class="p">:</span> <span class="s">&#39;Bob Smith&#39;</span><span class="p">},</span>
     <span class="p">{</span><span class="s">&#39;title&#39;</span><span class="p">:</span> <span class="s">&#39;My splendid adventure&#39;</span><span class="p">,</span> <span class="s">&#39;author&#39;</span><span class="p">:</span> <span class="s">&#39;Carrie Jones&#39;</span><span class="p">},</span>
     <span class="p">{</span><span class="s">&#39;title&#39;</span><span class="p">:</span> <span class="s">&#39;Bollards and other street treasures&#39;</span><span class="p">,</span> <span class="s">&#39;author&#39;</span><span class="p">:</span> <span class="s">&#39;Harry Johnson&#39;</span><span class="p">},</span>
     <span class="p">{</span><span class="s">&#39;title&#39;</span><span class="p">:</span> <span class="s">&#39;The horrors of Tuesdays&#39;</span><span class="p">,</span> <span class="s">&#39;author&#39;</span><span class="p">:</span> <span class="s">&#39;Sam Butterkeks&#39;</span><span class="p">}</span>
 <span class="p">]</span>


<span class="hll"> <span class="k">def</span> <span class="nf">key_for_book</span><span class="p">(</span><span class="n">book</span><span class="p">):</span>
</span><span class="hll">     <span class="k">return</span> <span class="s">&#39;{} {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">book</span><span class="p">[</span><span class="s">&#39;title&#39;</span><span class="p">],</span> <span class="n">book</span><span class="p">[</span><span class="s">&#39;author&#39;</span><span class="p">])</span>
</span>
 <span class="n">wf</span> <span class="o">=</span> <span class="n">Workflow</span><span class="p">()</span>

<span class="hll"> <span class="n">hits</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="s">&#39;bot&#39;</span><span class="p">,</span> <span class="n">books</span><span class="p">,</span> <span class="n">key_for_book</span><span class="p">)</span>
</span></pre></div>
</td></tr></table></div>
<p>Which returns:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[{</span><span class="s">&#39;author&#39;</span><span class="p">:</span> <span class="s">&#39;Harry Johnson&#39;</span><span class="p">,</span> <span class="s">&#39;title&#39;</span><span class="p">:</span> <span class="s">&#39;Bollards and other street treasures&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s">&#39;author&#39;</span><span class="p">:</span> <span class="s">&#39;Bob Smith&#39;</span><span class="p">,</span> <span class="s">&#39;title&#39;</span><span class="p">:</span> <span class="s">&#39;A damn fine afternoon&#39;</span><span class="p">}]</span>
</pre></div>
</div>
<div class="section" id="restricting-results">
<span id="id5"></span><h3>Restricting results<a class="headerlink" href="#restricting-results" title="Permalink to this headline">¶</a></h3>
<p>Chances are, you would not want <tt class="docutils literal"><span class="pre">bot</span></tt> to match <tt class="docutils literal"><span class="pre">Bob</span> <span class="pre">Smith</span> <span class="pre">A</span> <span class="pre">damn</span> <span class="pre">fine</span> <span class="pre">afternoon</span></tt>
at all, or indeed any of the other books. Indeed, they have very low scores:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre> <span class="n">hits</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="s">&#39;bot&#39;</span><span class="p">,</span> <span class="n">books</span><span class="p">,</span> <span class="n">key_for_book</span><span class="p">,</span> <span class="n">include_score</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>produces:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[({</span><span class="s">&#39;author&#39;</span><span class="p">:</span> <span class="s">&#39;Bob Smith&#39;</span><span class="p">,</span> <span class="s">&#39;title&#39;</span><span class="p">:</span> <span class="s">&#39;A damn fine afternoon&#39;</span><span class="p">},</span>
  <span class="mf">11.11111111111111</span><span class="p">,</span>
  <span class="mi">64</span><span class="p">),</span>
 <span class="p">({</span><span class="s">&#39;author&#39;</span><span class="p">:</span> <span class="s">&#39;Harry Johnson&#39;</span><span class="p">,</span> <span class="s">&#39;title&#39;</span><span class="p">:</span> <span class="s">&#39;Bollards and other street treasures&#39;</span><span class="p">},</span>
  <span class="mf">3.3333333333333335</span><span class="p">,</span>
  <span class="mi">64</span><span class="p">),</span>
 <span class="p">({</span><span class="s">&#39;author&#39;</span><span class="p">:</span> <span class="s">&#39;Sam Butterkeks&#39;</span><span class="p">,</span> <span class="s">&#39;title&#39;</span><span class="p">:</span> <span class="s">&#39;The horrors of Tuesdays&#39;</span><span class="p">},</span> <span class="mf">3.125</span><span class="p">,</span> <span class="mi">64</span><span class="p">)]</span>
</pre></div>
</div>
<p>(<tt class="docutils literal"><span class="pre">64</span></tt> is the rule that matched, <tt class="docutils literal"><span class="pre">MATCH_ALLCHARS</span></tt>, which matches
if all the characters in <tt class="docutils literal"><span class="pre">query</span></tt> appear in order in the search key, regardless
of case).</p>
<p>If we filter <tt class="docutils literal"><span class="pre">{'author':</span> <span class="pre">'Brienne</span> <span class="pre">of</span> <span class="pre">Tarth',</span> <span class="pre">'title':</span> <span class="pre">'How</span> <span class="pre">to</span> <span class="pre">beat</span> <span class="pre">up</span> <span class="pre">men'}</span></tt> and
<tt class="docutils literal"><span class="pre">{'author':</span> <span class="pre">'Zoltar',</span> <span class="pre">'title':</span> <span class="pre">'Battle</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">Planets'}</span></tt>, which we probably
would want to match <tt class="docutils literal"><span class="pre">bot</span></tt>, we get:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[({</span><span class="s">&#39;author&#39;</span><span class="p">:</span> <span class="s">&#39;Zoltar&#39;</span><span class="p">,</span> <span class="s">&#39;title&#39;</span><span class="p">:</span> <span class="s">&#39;Battle of the Planets&#39;</span><span class="p">},</span> <span class="mf">98.0</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
 <span class="p">({</span><span class="s">&#39;author&#39;</span><span class="p">:</span> <span class="s">&#39;Brienne of Tarth&#39;</span><span class="p">,</span> <span class="s">&#39;title&#39;</span><span class="p">:</span> <span class="s">&#39;How to beat up men&#39;</span><span class="p">},</span> <span class="mf">90.0</span><span class="p">,</span> <span class="mi">16</span><span class="p">)]</span>
</pre></div>
</div>
<p>(The ranking would be reversed if <tt class="docutils literal"><span class="pre">key_for_book()</span></tt> returned <tt class="docutils literal"><span class="pre">author</span> <span class="pre">title</span></tt>
instead of <tt class="docutils literal"><span class="pre">title</span> <span class="pre">author</span></tt>.)</p>
<p>So in all likelihood, you&#8217;ll want to pass a <tt class="docutils literal"><span class="pre">min_score</span></tt> argument to
<a class="reference internal" href="workflow.html#workflow.workflow.Workflow.filter" title="workflow.workflow.Workflow.filter"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.filter()</span></tt></a>:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre> <span class="n">hits</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="s">&#39;bot&#39;</span><span class="p">,</span> <span class="n">books</span><span class="p">,</span> <span class="n">key_for_book</span><span class="p">,</span> <span class="n">min_score</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>and/or exclude some of the matching rules:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre> <span class="kn">from</span> <span class="nn">workflow</span> <span class="kn">import</span> <span class="n">Workflow</span><span class="p">,</span> <span class="n">MATCH_ALL</span><span class="p">,</span> <span class="n">MATCH_ALLCHARS</span>

 <span class="c"># [...]</span>

 <span class="n">hits</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="s">&#39;bot&#39;</span><span class="p">,</span> <span class="n">books</span><span class="p">,</span> <span class="n">key_for_book</span><span class="p">,</span> <span class="n">match_on</span><span class="o">=</span><span class="n">MATCH_ALL</span> <span class="o">^</span> <span class="n">MATCH_ALLCHARS</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>You can set match rules using bitwise operators, so <tt class="docutils literal"><span class="pre">|</span></tt> to combine them or
<tt class="docutils literal"><span class="pre">^</span></tt> to remove them from <tt class="docutils literal"><span class="pre">MATCH_ALL</span></tt>:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre> <span class="c"># match only CamelCase and initials</span>
 <span class="n">match_on</span><span class="o">=</span><span class="n">MATCH_CAPITALS</span> <span class="o">|</span> <span class="n">MATCH_INITIALS</span>

 <span class="c"># match everything but all-characters-in-item and substring</span>
 <span class="n">match_on</span><span class="o">=</span><span class="n">MATCH_ALL</span> <span class="o">^</span> <span class="n">MATCH_ALLCHARS</span> <span class="o">^</span> <span class="n">MATCH_SUBSTRING</span>
</pre></div>
</td></tr></table></div>
<p><strong>Note:</strong> <tt class="docutils literal"><span class="pre">MATCH_ALLCHARS</span></tt> is particularly slow and provides the
worst matches. You should consider excluding it, especially if you&#8217;re calling
<a class="reference internal" href="workflow.html#workflow.workflow.Workflow.filter" title="workflow.workflow.Workflow.filter"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.filter()</span></tt></a> with more than a
few hundred items or expect multi-word queries.</p>
</div>
<div class="section" id="diacritic-folding">
<h3>Diacritic folding<a class="headerlink" href="#diacritic-folding" title="Permalink to this headline">¶</a></h3>
<p>By default, <a class="reference internal" href="workflow.html#workflow.workflow.Workflow.filter" title="workflow.workflow.Workflow.filter"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.filter()</span></tt></a>
will fold non-ASCII characters to ASCII equivalents (e.g. <em>é</em> -&gt; <em>e</em>, <em>ü</em> -&gt; <em>u</em>)
if the <tt class="docutils literal"><span class="pre">query</span></tt> contains only ASCII characters. This behaviour can be turned
off by passing <tt class="docutils literal"><span class="pre">fold_diacritics=False</span></tt> to
<a class="reference internal" href="workflow.html#workflow.workflow.Workflow.filter" title="workflow.workflow.Workflow.filter"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.filter()</span></tt></a>.</p>
<p><strong>Note:</strong> To keep the library small, only a subset of European languages are
supported. The <a class="reference external" href="https://pypi.python.org/pypi/Unidecode">Unidecode</a> library
should be used for comprehensive support of non-European alphabets.</p>
<p>Users may override a Workflow&#8217;s default settings via <tt class="docutils literal"><span class="pre">workflow:folding…</span></tt>
<a class="reference internal" href="#magic-arguments"><em>magic arguments</em></a>.</p>
</div>
</div>
<div class="section" id="text-encoding-decoding">
<h2>Text encoding/decoding<a class="headerlink" href="#text-encoding-decoding" title="Permalink to this headline">¶</a></h2>
<p>By default, <a class="reference internal" href="workflow.html#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> (and <a class="reference internal" href="web.html#module-workflow.web" title="workflow.web"><tt class="xref py py-mod docutils literal"><span class="pre">workflow.web</span></tt></a>)
return command line arguments from Alfred as NFC-normalised Unicode strings.
This is the default for Python. You can change this via the <tt class="docutils literal"><span class="pre">input_encoding</span></tt>
and <tt class="docutils literal"><span class="pre">normalization</span></tt> keywords to <a class="reference internal" href="workflow.html#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a>
(this will not affect <a class="reference internal" href="web.html#module-workflow.web" title="workflow.web"><tt class="xref py py-mod docutils literal"><span class="pre">workflow.web</span></tt></a>).</p>
<p>If your Workflow works with data from the system (via <a class="reference external" href="http://docs.python.org/library/subprocess.html#module-subprocess" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">subprocess</span></tt></a>,
<a class="reference external" href="http://docs.python.org/library/os.html#os.listdir" title="(in Python v2.7)"><tt class="xref py py-func docutils literal"><span class="pre">os.listdir()</span></tt></a> etc.), you should consider also NFC-normalising those strings
or changing the default normalisation to <strong>NFD</strong>, which is (more or less) what
OS X uses. <a class="reference internal" href="workflow.html#workflow.workflow.Workflow.decode" title="workflow.workflow.Workflow.decode"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.decode()</span></tt></a> can
help with this.</p>
<p>If you pass a Unicode string to <a class="reference internal" href="workflow.html#workflow.workflow.Workflow.decode" title="workflow.workflow.Workflow.decode"><tt class="xref py py-meth docutils literal"><span class="pre">decode()</span></tt></a>,
it will just be normalised using the form passed in the <tt class="docutils literal"><span class="pre">normalization</span></tt> argument
to <a class="reference internal" href="workflow.html#workflow.workflow.Workflow.decode" title="workflow.workflow.Workflow.decode"><tt class="xref py py-meth docutils literal"><span class="pre">decode()</span></tt></a>
or to <a class="reference internal" href="workflow.html#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> on instantiation.</p>
<p>If you pass an encoded string, it will be decoded to Unicode with the encoding
passed in the <tt class="docutils literal"><span class="pre">encoding</span></tt> argument to <a class="reference internal" href="workflow.html#workflow.workflow.Workflow.decode" title="workflow.workflow.Workflow.decode"><tt class="xref py py-meth docutils literal"><span class="pre">decode()</span></tt></a>
or to <a class="reference internal" href="workflow.html#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> on instantiation and then
normalised.</p>
</div>
<div class="section" id="background-processes">
<span id="id6"></span><h2>Background processes<a class="headerlink" href="#background-processes" title="Permalink to this headline">¶</a></h2>
<p>Many workflows provide a convenient interface to applications and/or web services.</p>
<p>For performance reasons, it&#8217;s common for workflows to cache data locally, but
updating this cache typically takes a few seconds, making your workflow
unresponsive while an update is occurring, which is very un-Alfred-like.</p>
<p>To avoid such delays, <strong>Alfred-Workflow</strong> provides the <tt class="xref py py-mod docutils literal"><span class="pre">background</span></tt>
module to allow you to easily run scripts in the background.</p>
<p>There are two functions, <tt class="xref py py-func docutils literal"><span class="pre">run_in_background()</span></tt> and
<tt class="xref py py-func docutils literal"><span class="pre">is_running()</span></tt>, that provide the interface. The
processes started are proper background daemon processes, so you can start
proper servers as easily as simple scripts.</p>
<p>Here&#8217;s an example of a common usage pattern (updating cached data in the
background). What we&#8217;re doing is:</p>
<ol class="arabic">
<li><dl class="first docutils">
<dt>Check the age of the cached data and run the update script via</dt>
<dd><p class="first last"><tt class="xref py py-func docutils literal"><span class="pre">run_in_background()</span></tt> if the cached data are too old
or don&#8217;t exist.</p>
</dd>
</dl>
</li>
<li><p class="first">(Optionally) inform the user that data are being updated.</p>
</li>
<li><p class="first">Load the cached data regardless of age.</p>
</li>
<li><p class="first">Display the cached data (if any).</p>
</li>
</ol>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">workflow</span> <span class="kn">import</span> <span class="n">Workflow</span><span class="p">,</span> <span class="n">ICON_INFO</span>
<span class="kn">from</span> <span class="nn">workflow.background</span> <span class="kn">import</span> <span class="n">run_in_background</span><span class="p">,</span> <span class="n">is_running</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">wf</span><span class="p">):</span>
   <span class="c"># Is cache over 6 hours old or non-existent?</span>
   <span class="k">if</span> <span class="ow">not</span> <span class="n">wf</span><span class="o">.</span><span class="n">cached_data_fresh</span><span class="p">(</span><span class="s">&#39;exchange-rates&#39;</span><span class="p">,</span> <span class="mi">3600</span><span class="p">):</span>
       <span class="n">run_in_background</span><span class="p">(</span><span class="s">&#39;update&#39;</span><span class="p">,</span>
                         <span class="p">[</span><span class="s">&#39;/usr/bin/python&#39;</span><span class="p">,</span>
                          <span class="n">wf</span><span class="o">.</span><span class="n">workflowfile</span><span class="p">(</span><span class="s">&#39;update_exchange_rates.py&#39;</span><span class="p">)])</span>

   <span class="c"># Add a notification if the script is running</span>
   <span class="k">if</span> <span class="n">is_running</span><span class="p">(</span><span class="s">&#39;update&#39;</span><span class="p">):</span>
       <span class="n">wf</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="s">&#39;Updating exchange rates...&#39;</span><span class="p">,</span> <span class="n">icon</span><span class="o">=</span><span class="n">ICON_INFO</span><span class="p">)</span>

   <span class="n">exchange_rates</span> <span class="o">=</span> <span class="n">wf</span><span class="o">.</span><span class="n">cached_data</span><span class="p">(</span><span class="s">&#39;exchage-rates&#39;</span><span class="p">)</span>

   <span class="c"># Display (possibly stale) cache data</span>
   <span class="k">if</span> <span class="n">exchange_rates</span><span class="p">:</span>
       <span class="k">for</span> <span class="n">rate</span> <span class="ow">in</span> <span class="n">exchange_rates</span><span class="p">:</span>
           <span class="n">wf</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="n">rate</span><span class="p">)</span>

   <span class="c"># Send results to Alfred</span>
   <span class="n">wf</span><span class="o">.</span><span class="n">send_feedback</span><span class="p">()</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
   <span class="n">wf</span> <span class="o">=</span> <span class="n">Workflow</span><span class="p">()</span>
   <span class="n">wf</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>For a working example, see <a class="reference internal" href="tutorial2.html#background-updates"><em>Part 2 of the Tutorial</em></a> or
the <a class="reference external" href="https://github.com/deanishe/alfred-repos/blob/master/src/repos.py">source code</a>
of my <a class="reference external" href="https://github.com/deanishe/alfred-repos">Git Repos</a> workflow,
which is a bit smarter about showing the user update information.</p>
</div>
<div class="section" id="serialization">
<span id="id7"></span><h2>Serialization<a class="headerlink" href="#serialization" title="Permalink to this headline">¶</a></h2>
<p>By default, both cache and data files are cached using <a class="reference external" href="http://docs.python.org/library/pickle.html#module-cPickle" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">cPickle</span></tt></a>. This
provides a great compromise in terms of speed and ability to store arbitrary
objects.</p>
<p>When it comes to cache data, it is strongly recommended to stick with
the default. <a class="reference external" href="http://docs.python.org/library/pickle.html#module-cPickle" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">cPickle</span></tt></a> is very fast and fully supports standard Python
data structures (<tt class="docutils literal"><span class="pre">dict</span></tt>, <tt class="docutils literal"><span class="pre">list</span></tt>, <tt class="docutils literal"><span class="pre">tuple</span></tt>, <tt class="docutils literal"><span class="pre">set</span></tt> etc.).</p>
<p>If you need the ability to customise caching, you can change the default
cache serialization format to <a class="reference external" href="http://docs.python.org/library/pickle.html#module-pickle" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">pickle</span></tt></a> thus:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre> <span class="n">wf</span> <span class="o">=</span> <span class="n">Workflow</span><span class="p">()</span>
 <span class="n">wf</span><span class="o">.</span><span class="n">cache_serializer</span> <span class="o">=</span> <span class="s">&#39;pickle&#39;</span>
</pre></div>
</td></tr></table></div>
<p>In the case of stored data, you are free to specify either a global default
serializer of one for each individual datastore:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre> <span class="n">wf</span> <span class="o">=</span> <span class="n">Workflow</span><span class="p">()</span>
 <span class="c"># Use `pickle` as the global default serializer</span>
 <span class="n">wf</span><span class="o">.</span><span class="n">data_serializer</span> <span class="o">=</span> <span class="s">&#39;pickle&#39;</span>

 <span class="c"># Use the JSON serializer only for these data</span>
 <span class="n">wf</span><span class="o">.</span><span class="n">store_data</span><span class="p">(</span><span class="s">&#39;name&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">serializer</span><span class="o">=</span><span class="s">&#39;json&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>This is primarily so you can create files that are human-readable or useable
by non-Python programs.</p>
<p>By default, <tt class="docutils literal"><span class="pre">cpickle</span></tt>, <tt class="docutils literal"><span class="pre">pickle</span></tt> and <tt class="docutils literal"><span class="pre">json</span></tt> serializers are available.</p>
<p>You can also register your own custom serializers using the
<a class="reference internal" href="workflow.html#workflow.workflow.SerializerManager" title="workflow.workflow.SerializerManager"><tt class="xref py py-class docutils literal"><span class="pre">SerializerManager</span></tt></a> interface.</p>
<p>To register a new serializer, call the <tt class="docutils literal"><span class="pre">register</span></tt> method of the <tt class="docutils literal"><span class="pre">workflow.manager</span></tt>
object:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre> <span class="kn">from</span> <span class="nn">workflow</span> <span class="kn">import</span> <span class="n">Workflow</span><span class="p">,</span> <span class="n">manager</span>

 <span class="n">wf</span> <span class="o">=</span> <span class="n">Workflow</span><span class="p">()</span>
 <span class="n">manager</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="s">&#39;myformat&#39;</span><span class="p">,</span> <span class="n">object_with_load_and_dump_methods</span><span class="p">)</span>

 <span class="n">wf</span><span class="o">.</span><span class="n">store_data</span><span class="p">(</span><span class="s">&#39;name&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">serializer</span><span class="o">=</span><span class="s">&#39;myformat&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>A serializer <em>must</em> conform to this interface (like <a class="reference external" href="http://docs.python.org/library/json.html#module-json" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">json</span></tt></a> and <a class="reference external" href="http://docs.python.org/library/pickle.html#module-pickle" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">pickle</span></tt></a>):</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre> <span class="n">serializer</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file_obj</span><span class="p">)</span>
 <span class="n">serializer</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">file_obj</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p><strong>Note:</strong> The name you use for your serializer will be the file extension
of the stored file.</p>
<p>The <a class="reference internal" href="workflow.html#workflow.workflow.Workflow.stored_data" title="workflow.workflow.Workflow.stored_data"><tt class="xref py py-meth docutils literal"><span class="pre">stored_data()</span></tt></a> method can
automatically determine the serialization of the stored data, provided the
corresponding serializer is registered. If it isn&#8217;t, an exception will be raised.</p>
</div>
<div class="section" id="built-in-icons">
<h2>Built-in icons<a class="headerlink" href="#built-in-icons" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="workflow.html#module-workflow.workflow" title="workflow.workflow"><tt class="xref py py-mod docutils literal"><span class="pre">workflow</span></tt></a> module provides access to a number of default
OS X icons via <tt class="docutils literal"><span class="pre">ICON_*</span></tt> constants for use when generating Alfred feedback:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre> <span class="kn">from</span> <span class="nn">workflow</span> <span class="kn">import</span> <span class="n">Workflow</span><span class="p">,</span> <span class="n">ICON_INFO</span>

 <span class="n">wf</span> <span class="o">=</span> <span class="n">Workflow</span><span class="p">()</span>
 <span class="n">wf</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="s">&#39;For your information&#39;</span><span class="p">,</span> <span class="n">icon</span><span class="o">=</span><span class="n">ICON_INFO</span><span class="p">)</span>
 <span class="n">wf</span><span class="o">.</span><span class="n">send_feedback</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<div class="section" id="list-of-icons">
<span id="icon-list"></span><h3>List of icons<a class="headerlink" href="#list-of-icons" title="Permalink to this headline">¶</a></h3>
<p>These are all the icons accessible in <a class="reference internal" href="workflow.html#module-workflow.workflow" title="workflow.workflow"><tt class="xref py py-mod docutils literal"><span class="pre">workflow</span></tt></a>. They (and more) can
be found in <tt class="docutils literal"><span class="pre">/System/Library/CoreServices/CoreTypes.bundle/Contents/Resources/</span></tt>.</p>
<table border="1" class="docutils">
<colgroup>
<col width="34%" />
<col width="66%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Preview</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">ICON_ACCOUNT</span></tt></td>
<td><img alt="_images/ICON_ACCOUNT.png" class="first last" src="_images/ICON_ACCOUNT.png" />
</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">ICON_BURN</span></tt></td>
<td><img alt="_images/ICON_BURN.png" class="first last" src="_images/ICON_BURN.png" />
</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">ICON_COLOR</span></tt></td>
<td><img alt="_images/ICON_COLOR.png" class="first last" src="_images/ICON_COLOR.png" />
</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">ICON_COLOUR</span></tt></td>
<td><img alt="_images/ICON_COLOUR.png" class="first last" src="_images/ICON_COLOUR.png" />
</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">ICON_ERROR</span></tt></td>
<td><img alt="_images/ICON_ERROR.png" class="first last" src="_images/ICON_ERROR.png" />
</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">ICON_FAVORITE</span></tt></td>
<td><img alt="_images/ICON_FAVORITE.png" class="first last" src="_images/ICON_FAVORITE.png" />
</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">ICON_FAVOURITE</span></tt></td>
<td><img alt="_images/ICON_FAVOURITE.png" class="first last" src="_images/ICON_FAVOURITE.png" />
</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">ICON_GROUP</span></tt></td>
<td><img alt="_images/ICON_GROUP.png" class="first last" src="_images/ICON_GROUP.png" />
</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">ICON_HELP</span></tt></td>
<td><img alt="_images/ICON_HELP.png" class="first last" src="_images/ICON_HELP.png" />
</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">ICON_INFO</span></tt></td>
<td><img alt="_images/ICON_INFO.png" class="first last" src="_images/ICON_INFO.png" />
</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">ICON_MUSIC</span></tt></td>
<td><img alt="_images/ICON_MUSIC.png" class="first last" src="_images/ICON_MUSIC.png" />
</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">ICON_NETWORK</span></tt></td>
<td><img alt="_images/ICON_NETWORK.png" class="first last" src="_images/ICON_NETWORK.png" />
</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">ICON_NOTE</span></tt></td>
<td><img alt="_images/ICON_NOTE.png" class="first last" src="_images/ICON_NOTE.png" />
</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">ICON_SETTINGS</span></tt></td>
<td><img alt="_images/ICON_SETTINGS.png" class="first last" src="_images/ICON_SETTINGS.png" />
</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">ICON_SYNC</span></tt></td>
<td><img alt="_images/ICON_SYNC.png" class="first last" src="_images/ICON_SYNC.png" />
</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">ICON_TRASH</span></tt></td>
<td><img alt="_images/ICON_TRASH.png" class="first last" src="_images/ICON_TRASH.png" />
</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">ICON_USER</span></tt></td>
<td><img alt="_images/ICON_USER.png" class="first last" src="_images/ICON_USER.png" />
</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">ICON_WARNING</span></tt></td>
<td><img alt="_images/ICON_WARNING.png" class="first last" src="_images/ICON_WARNING.png" />
</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">ICON_WEB</span></tt></td>
<td><img alt="_images/ICON_WEB.png" class="first last" src="_images/ICON_WEB.png" />
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="magic-arguments">
<span id="id8"></span><h2>&#8220;Magic&#8221; arguments<a class="headerlink" href="#magic-arguments" title="Permalink to this headline">¶</a></h2>
<p>If your Script Filter (or script) accepts a query (or command line arguments),
you can pass it so-called magic arguments that instruct
<a class="reference internal" href="workflow.html#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> to perform certain actions, such as
opening the log file or clearing the cache/settings.</p>
<p>These can be a big help while developing and debugging and especially when
debugging problems your Workflow&#8217;s users may be having.</p>
<p>The <tt class="xref py py-meth docutils literal"><span class="pre">Workflow.run()</span></tt> method
(which you should &#8220;wrap&#8221; your Workflow&#8217;s entry functions in) will catch any
raised exceptions, log them and display them in Alfred. You can call your
Workflow with <tt class="docutils literal"><span class="pre">workflow:openlog</span></tt> as an Alfred query/command line argument
and <a class="reference internal" href="workflow.html#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> will open the Workflow&#8217;s log file
in the default app (usually <strong>Console.app</strong>).</p>
<p>This makes it easy for you to get at the log file and data and cache directories
(hidden away in <tt class="docutils literal"><span class="pre">~/Library</span></tt>), and for your users to send you their logs
for debugging.</p>
<p><strong>Note:</strong> Magic arguments will only work with scripts that accept arguments <em>and</em>
use the <a class="reference internal" href="workflow.html#workflow.workflow.Workflow.args" title="workflow.workflow.Workflow.args"><tt class="xref py py-attr docutils literal"><span class="pre">args</span></tt></a> property (where magic arguments
are parsed).</p>
<p><a class="reference internal" href="workflow.html#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> supports the following magic args:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">workflow:openlog</span></tt> — Open the Workflow&#8217;s log file in the default app.</li>
<li><tt class="docutils literal"><span class="pre">workflow:opencache</span></tt> — Open the Workflow&#8217;s cache directory.</li>
<li><tt class="docutils literal"><span class="pre">workflow:opendata</span></tt> — Open the Workflow&#8217;s data directory.</li>
<li><tt class="docutils literal"><span class="pre">workflow:openworkflow</span></tt> — Open the Workflow&#8217;s root directory (where <tt class="docutils literal"><span class="pre">info.plist</span></tt> is).</li>
<li><tt class="docutils literal"><span class="pre">workflow:openterm</span></tt> — Open a Terminal window in the Workflow&#8217;s root directory.</li>
<li><tt class="docutils literal"><span class="pre">workflow:reset</span></tt> — Delete the Workflow&#8217;s settings, cache and saved data.</li>
<li><tt class="docutils literal"><span class="pre">workflow:delcache</span></tt> — Delete the Workflow&#8217;s cache.</li>
<li><tt class="docutils literal"><span class="pre">workflow:deldata</span></tt> — Delete the Workflow&#8217;s saved data.</li>
<li><tt class="docutils literal"><span class="pre">workflow:delsettings</span></tt> — Delete the Workflow&#8217;s settings file (which contains the data stored using <a class="reference internal" href="workflow.html#workflow.workflow.Workflow.settings" title="workflow.workflow.Workflow.settings"><tt class="xref py py-attr docutils literal"><span class="pre">Workflow.settings</span></tt></a>).</li>
<li><tt class="docutils literal"><span class="pre">workflow:foldingon</span></tt> — Force diacritic folding in search keys (e.g. convert <em>ü</em> to <em>ue</em>)</li>
<li><tt class="docutils literal"><span class="pre">workflow:foldingoff</span></tt> — Never fold diacritics in search keys</li>
<li><tt class="docutils literal"><span class="pre">workflow:foldingdefault</span></tt> — Reset diacritic folding to workflow default</li>
</ul>
<p>The three <tt class="docutils literal"><span class="pre">workflow:folding…</span></tt> settings allow users to override the diacritic
folding set by a workflow&#8217;s author. This may be useful if the author&#8217;s choice
does not correspond with a user&#8217;s usage pattern.</p>
<p>You can turn off magic arguments by passing <tt class="docutils literal"><span class="pre">capture_args=False</span></tt> to
<a class="reference internal" href="workflow.html#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> on instantiation, or call the corresponding
<a class="reference internal" href="workflow.html#workflow.workflow.Workflow.open_log" title="workflow.workflow.Workflow.open_log"><tt class="xref py py-meth docutils literal"><span class="pre">open_log()</span></tt></a>, <a class="reference internal" href="workflow.html#workflow.workflow.Workflow.clear_cache" title="workflow.workflow.Workflow.clear_cache"><tt class="xref py py-meth docutils literal"><span class="pre">clear_cache()</span></tt></a>
and <a class="reference internal" href="workflow.html#workflow.workflow.Workflow.clear_settings" title="workflow.workflow.Workflow.clear_settings"><tt class="xref py py-meth docutils literal"><span class="pre">clear_settings()</span></tt></a> methods directly, perhaps
assigning them to your own Keywords.</p>
</div>
</div>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="_sources/howto.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2014, Dean Jackson &lt;deanishe@deanishe.net&gt;.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>