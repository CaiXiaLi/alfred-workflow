


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Script Filter Results and the XML Format &mdash; Alfred-Workflow 1.11.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Alfred-Workflow 1.11.1 documentation" href="index.html"/>
        <link rel="next" title="Workflows using Alfred-Workflow" href="aw-workflows.html"/>
        <link rel="prev" title="Serialization" href="api/serialization.html"/>
 
<!-- Only one of these will work. Seems a better solution than symlinking
the _static path in each subdirectory -->
<link rel="stylesheet" href="_static/gh-fork-ribbon.css">
<link rel="stylesheet" href="../_static/gh-fork-ribbon.css">
<link rel="stylesheet" href="_static/custom.css">
<link rel="stylesheet" href="../_static/custom.css">
<!--[if lt IE 9]>
	<link rel="stylesheet" href="_static/gh-fork-ribbon.ie.css">
<![endif]-->
<!-- <link rel="stylesheet" href="_static/custom.css"> -->
<!-- <link rel="shortcut icon" href="_static/favicon.ico"> -->


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> Alfred-Workflow</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#pip-pypi">pip / PyPi</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#github">GitHub</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#part-1-a-basic-pinboard-workflow">Part 1: A Basic Pinboard Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#part-2-a-distribution-ready-pinboard-workflow">Part 2: A Distribution-Ready Pinboard Workflow</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="user-manual/index.html">User Manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="user-manual/osx-version-support.html">Supported OS X versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="user-manual/setup.html">Workflow setup and skeleton</a></li>
<li class="toctree-l2"><a class="reference internal" href="user-manual/third-party.html">Including 3rd party libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="user-manual/persistent-data.html">Persistent data</a></li>
<li class="toctree-l2"><a class="reference internal" href="user-manual/filtering.html">Searching/filtering data</a></li>
<li class="toctree-l2"><a class="reference internal" href="user-manual/web.html">Retrieving data from the web</a></li>
<li class="toctree-l2"><a class="reference internal" href="user-manual/background.html">Background processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="user-manual/update.html">Self-updating</a></li>
<li class="toctree-l2"><a class="reference internal" href="user-manual/versioning.html">Versioning and migration</a></li>
<li class="toctree-l2"><a class="reference internal" href="user-manual/icons.html">System icons</a></li>
<li class="toctree-l2"><a class="reference internal" href="user-manual/magic-arguments.html">&#8220;Magic&#8221; arguments</a></li>
<li class="toctree-l2"><a class="reference internal" href="user-manual/serialization.html">Serialization of stored/cached data</a></li>
<li class="toctree-l2"><a class="reference internal" href="user-manual/text-encoding.html">Encoded strings and Unicode</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">Alfred-Workflow API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api/workflow.html">The Workflow Object</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/web.html">Fetching Data from the Web</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/background.html">Background Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/update.html">Self-Updating</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/serialization.html">Serialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/index.html#index">Index</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">Script Filter Results and the XML Format</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#xml-format-available-parameters">XML format / available parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#basic-example">Basic example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#item-parameters">Item parameters</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="aw-workflows.html">Workflows using Alfred-Workflow</a><ul>
<li class="toctree-l2"><a class="reference internal" href="aw-workflows.html#adding-your-own-workflow-to-the-list">Adding your own workflow to the list</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Alfred-Workflow</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Script Filter Results and the XML Format</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/xml_format.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="script-filter-results-and-the-xml-format">
<span id="script-filter-results"></span><h1>Script Filter Results and the XML Format<a class="headerlink" href="#script-filter-results-and-the-xml-format" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This document is valid as of version 2.5 of Alfred and 1.8.5 of
Alfred-Workflow.</p>
</div>
<p>Alfred&#8217;s Script Filters are its most powerful workflow API and a main focus
of Alfred-Workflow. Script Filters work by receiving a <tt class="docutils literal"><span class="pre">{query}</span></tt> from
Alfred and returning a list of results as XML.</p>
<p>To build this list of results use the
<a class="reference internal" href="api/workflow.html#workflow.workflow.Workflow.add_item" title="workflow.workflow.Workflow.add_item"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.add_item()</span></tt></a>
method, and then
<a class="reference internal" href="api/workflow.html#workflow.workflow.Workflow.send_feedback" title="workflow.workflow.Workflow.send_feedback"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.send_feedback()</span></tt></a>
to send the results back to Alfred.</p>
<p>This document is an attempt to explain how the many options available in the
XML format and <a class="reference internal" href="api/workflow.html#workflow.workflow.Workflow.add_item" title="workflow.workflow.Workflow.add_item"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.add_item()</span></tt></a>&#8216;s
arguments work.</p>
<div class="admonition danger">
<p class="first admonition-title">Danger</p>
<p class="last">As Script Filters use <tt class="docutils literal"><span class="pre">STDOUT</span></tt> to send their results to Alfred
as XML, you <strong>must not</strong> <a class="reference external" href="http://docs.python.org/2.7/library/functions.html#print" title="(in Python v2.7)"><tt class="xref py py-func docutils literal"><span class="pre">print()</span></tt></a> or log any output to <tt class="docutils literal"><span class="pre">STDOUT</span></tt> or it
will break the XML, and Alfred will show no results.</p>
</div>
<div class="section" id="xml-format-available-parameters">
<span id="xml-format"></span><h2>XML format / available parameters<a class="headerlink" href="#xml-format-available-parameters" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If you&#8217;re not using Alfred-Workflow to generate your Script Filter&#8217;s
output, you should use a real XML library to do so. XML is a lot more
finicky that it looks, and it&#8217;s fairly easy to create invalid XML. Unless
your XML is hard-coded (i.e. never changes), it&#8217;s much safer and more
reliable to use a proper XML library than to generate your own XML.</p>
</div>
<p>This is a valid and complete XML result list containing just one result with
all possible options.
<a class="reference internal" href="api/workflow.html#workflow.workflow.Workflow.send_feedback" title="workflow.workflow.Workflow.send_feedback"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.send_feedback()</span></tt></a>
will print something much like this to <tt class="docutils literal"><span class="pre">STDOUT</span></tt> when called (though it won&#8217;t
be as pretty as it will all be on one line).</p>
<div class="highlight-xml" id="xml-example"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;items&gt;</span>
    <span class="nt">&lt;item</span> <span class="na">uid=</span><span class="s">&quot;home&quot;</span> <span class="na">valid=</span><span class="s">&quot;YES&quot;</span> <span class="na">autocomplete=</span><span class="s">&quot;Home Folder&quot;</span> <span class="na">type=</span><span class="s">&quot;file&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;title&gt;</span>Home Folder<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;subtitle&gt;</span>Home folder ~/<span class="nt">&lt;/subtitle&gt;</span>
        <span class="nt">&lt;subtitle</span> <span class="na">mod=</span><span class="s">&quot;shift&quot;</span><span class="nt">&gt;</span>Subtext when shift is pressed<span class="nt">&lt;/subtitle&gt;</span>
        <span class="nt">&lt;subtitle</span> <span class="na">mod=</span><span class="s">&quot;fn&quot;</span><span class="nt">&gt;</span>Subtext when fn is pressed<span class="nt">&lt;/subtitle&gt;</span>
        <span class="nt">&lt;subtitle</span> <span class="na">mod=</span><span class="s">&quot;ctrl&quot;</span><span class="nt">&gt;</span>Subtext when ctrl is pressed<span class="nt">&lt;/subtitle&gt;</span>
        <span class="nt">&lt;subtitle</span> <span class="na">mod=</span><span class="s">&quot;alt&quot;</span><span class="nt">&gt;</span>Subtext when alt is pressed<span class="nt">&lt;/subtitle&gt;</span>
        <span class="nt">&lt;subtitle</span> <span class="na">mod=</span><span class="s">&quot;cmd&quot;</span><span class="nt">&gt;</span>Subtext when cmd is pressed<span class="nt">&lt;/subtitle&gt;</span>
        <span class="nt">&lt;text</span> <span class="na">type=</span><span class="s">&quot;copy&quot;</span><span class="nt">&gt;</span>Text when copying<span class="nt">&lt;/text&gt;</span>
        <span class="nt">&lt;text</span> <span class="na">type=</span><span class="s">&quot;largetype&quot;</span><span class="nt">&gt;</span>Text for LargeType<span class="nt">&lt;/text&gt;</span>
        <span class="nt">&lt;icon</span> <span class="na">type=</span><span class="s">&quot;fileicon&quot;</span><span class="nt">&gt;</span>~/<span class="nt">&lt;/icon&gt;</span>
        <span class="nt">&lt;arg&gt;</span>~/<span class="nt">&lt;/arg&gt;</span>
    <span class="nt">&lt;/item&gt;</span>
<span class="nt">&lt;/items&gt;</span>
</pre></div>
</td></tr></table></div>
<p>The first line is the standard XML declaration. If you&#8217;re generating your own
XML, you should probably use a declaration exactly as shown here and
ensure your XML is encoded as UTF-8 text. If you&#8217;re using Alfred-Workflow,
the XML declaration will be generated for you and it will ensure that the
XML output is UTF-8-encoded.</p>
<p>The root element <strong>must</strong> be <tt class="docutils literal"><span class="pre">&lt;items&gt;</span></tt> (lines 2 and 16).</p>
<p>The <tt class="docutils literal"><span class="pre">&lt;items&gt;</span></tt> element contains one or more <tt class="docutils literal"><span class="pre">&lt;item&gt;</span></tt> elements.</p>
<p>To generate the above XML with Alfred-Workflow you would use:</p>
<div class="highlight-python" id="code-example"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">workflow</span> <span class="kn">import</span> <span class="n">Workflow</span>

<span class="n">wf</span> <span class="o">=</span> <span class="n">Workflow</span><span class="p">()</span>

<span class="n">wf</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="s">u&#39;Home Folder&#39;</span><span class="p">,</span>     <span class="c"># title</span>
            <span class="s">u&#39;Home folder ~/&#39;</span><span class="p">,</span>  <span class="c"># subtitle</span>
            <span class="n">modifier_subtitles</span><span class="o">=</span><span class="p">{</span>
                <span class="s">u&#39;shift&#39;</span><span class="p">:</span> <span class="s">u&#39;Subtext when shift is pressed&#39;</span><span class="p">,</span>
                <span class="s">u&#39;fn&#39;</span><span class="p">:</span> <span class="s">u&#39;Subtext when fn is pressed&#39;</span><span class="p">,</span>
                <span class="s">u&#39;ctrl&#39;</span><span class="p">:</span> <span class="s">u&#39;Subtext when ctrl is pressed&#39;</span><span class="p">,</span>
                <span class="s">u&#39;alt&#39;</span><span class="p">:</span> <span class="s">u&#39;Subtext when alt is pressed&#39;</span><span class="p">,</span>
                <span class="s">u&#39;cmd&#39;</span><span class="p">:</span> <span class="s">u&#39;Subtext when cmd is pressed&#39;</span>
            <span class="p">},</span>
            <span class="n">arg</span><span class="o">=</span><span class="s">u&#39;~/&#39;</span><span class="p">,</span>
            <span class="n">autocomplete</span><span class="o">=</span><span class="s">u&#39;Home Folder&#39;</span><span class="p">,</span>
            <span class="n">valid</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="n">uid</span><span class="o">=</span><span class="s">u&#39;home&#39;</span><span class="p">,</span>
            <span class="n">icon</span><span class="o">=</span><span class="s">u&#39;~/&#39;</span><span class="p">,</span>
            <span class="n">icontype</span><span class="o">=</span><span class="s">u&#39;fileicon&#39;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="s">u&#39;file&#39;</span><span class="p">,</span>
            <span class="n">largetext</span><span class="o">=</span><span class="s">u&#39;Text for LargeType&#39;</span><span class="p">,</span>
            <span class="n">copytext</span><span class="o">=</span><span class="s">u&#39;Text when copying&#39;</span><span class="p">)</span>

<span class="c"># Print XML to STDOUT</span>
<span class="n">wf</span><span class="o">.</span><span class="n">send_feedback</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="basic-example">
<h2>Basic example<a class="headerlink" href="#basic-example" title="Permalink to this headline">¶</a></h2>
<p>A minimal, valid result looks like this:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;item&gt;</span>
    <span class="nt">&lt;title&gt;</span>My super title<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/item&gt;</span>
</pre></div>
</div>
<p>Generated with:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">wf</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="s">u&#39;My super title&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This will show a result in Alfred with Alfred&#8217;s blank workflow icon and &#8220;My
super title&#8221; as its text.</p>
<p>Everything else is optional, but some parameters don&#8217;t make much sense without
other complementary parameters. Let&#8217;s have a look.</p>
</div>
<div class="section" id="item-parameters">
<h2>Item parameters<a class="headerlink" href="#item-parameters" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="#param-title"><em>title</em></a></li>
<li><a class="reference internal" href="#param-subtitle"><em>subtitle</em></a></li>
<li><a class="reference internal" href="#param-autocomplete"><em>autocomplete</em></a></li>
<li><a class="reference internal" href="#param-arg"><em>arg</em></a></li>
<li><a class="reference internal" href="#param-valid"><em>valid</em></a></li>
<li><a class="reference internal" href="#param-uid"><em>uid</em></a></li>
<li><a class="reference internal" href="#param-type"><em>type</em></a></li>
<li><a class="reference internal" href="#param-copytext"><em>copy text</em></a></li>
<li><a class="reference internal" href="#param-largetext"><em>large text</em></a></li>
<li><a class="reference internal" href="#param-icon"><em>icon</em></a></li>
</ul>
<div class="section" id="title">
<span id="param-title"></span><h3>title<a class="headerlink" href="#title" title="Permalink to this headline">¶</a></h3>
<p>This is the large text shown for each result in Alfred&#8217;s results list.</p>
<p>Pass to <a class="reference internal" href="api/workflow.html#workflow.workflow.Workflow.add_item" title="workflow.workflow.Workflow.add_item"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.add_item()</span></tt></a> as
the <tt class="docutils literal"><span class="pre">title</span></tt> argument or the first unnamed argument. This is the only
required argument and must be <tt class="xref py py-class docutils literal"><span class="pre">unicode</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">wf</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="s">u&#39;My title&#39;</span><span class="p">[,</span> <span class="o">...</span><span class="p">])</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">wf</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s">u&#39;My title&#39;</span><span class="p">[,</span> <span class="o">...</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="section" id="subtitle">
<span id="param-subtitle"></span><h3>subtitle<a class="headerlink" href="#subtitle" title="Permalink to this headline">¶</a></h3>
<p>This is the smaller text shown under each result in Alfred&#8217;s results list.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Remember that users can turn off subtitles in Alfred&#8217;s settings. If you
don&#8217;t want to confuse minimalists, don&#8217;t relegate essential information to
the <tt class="docutils literal"><span class="pre">subtitle</span></tt>. On the other hand, you could argue that users who think
turning off subtitles is okay deserve what they get…</p>
</div>
<p>Pass to <a class="reference internal" href="api/workflow.html#workflow.workflow.Workflow.add_item" title="workflow.workflow.Workflow.add_item"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.add_item()</span></tt></a> as
the <tt class="docutils literal"><span class="pre">subtitle</span></tt> argument or the second unnamed argument (the first, <tt class="docutils literal"><span class="pre">title</span></tt>,
is required and must therefore be present.</p>
<p>It&#8217;s also possible to specify custom subtitles to be shown when a result is
selected and the user presses one of the modifier keys (<tt class="docutils literal"><span class="pre">cmd</span></tt>, <tt class="docutils literal"><span class="pre">opt</span></tt>,
<tt class="docutils literal"><span class="pre">ctrl</span></tt>, <tt class="docutils literal"><span class="pre">shift</span></tt>, <tt class="docutils literal"><span class="pre">fn</span></tt>).</p>
<p>These are specified in the XML file as additional <tt class="docutils literal"><span class="pre">&lt;subtitle&gt;</span></tt> elements with
<tt class="docutils literal"><span class="pre">mod=&quot;&lt;key&gt;&quot;</span></tt> attributes (see lines 6–10 in the
<a class="reference internal" href="#xml-example"><em>example XML</em></a>).</p>
<p>In Alfred-Workflow, you can set modifier-specific subtitles with the
<tt class="docutils literal"><span class="pre">modifier_subtitles</span></tt> argument to
<a class="reference internal" href="api/workflow.html#workflow.workflow.Workflow.add_item" title="workflow.workflow.Workflow.add_item"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.add_item()</span></tt></a>, which must
be a dictionary with some or all of the keys <tt class="docutils literal"><span class="pre">alt</span></tt>, <tt class="docutils literal"><span class="pre">cmd</span></tt>, <tt class="docutils literal"><span class="pre">ctrl</span></tt>,
<tt class="docutils literal"><span class="pre">fn</span></tt>, <tt class="docutils literal"><span class="pre">shift</span></tt> and the corresponding values set to the <tt class="xref py py-class docutils literal"><span class="pre">unicode</span></tt>
subtitles to be shown when the modifiers are pressed (see lines 7–13 of the
<a class="reference internal" href="#code-example"><em>example code</em></a>).</p>
</div>
<div class="section" id="autocomplete">
<span id="param-autocomplete"></span><h3>autocomplete<a class="headerlink" href="#autocomplete" title="Permalink to this headline">¶</a></h3>
<p>If the user presses <tt class="docutils literal"><span class="pre">TAB</span></tt> on a result, the query currently shown in Alfred&#8217;s
query box will be expanded to the <tt class="docutils literal"><span class="pre">autocomplete</span></tt> value of the selected result.</p>
<p>If the user presses <tt class="docutils literal"><span class="pre">ENTER</span></tt> on a result with <a class="reference internal" href="#param-valid"><em>valid</em></a> set to <tt class="docutils literal"><span class="pre">no</span></tt>,
Alfred will expand the query as if the user had pressed <tt class="docutils literal"><span class="pre">TAB</span></tt>.</p>
<p>Pass to <a class="reference internal" href="api/workflow.html#workflow.workflow.Workflow.add_item" title="workflow.workflow.Workflow.add_item"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.add_item()</span></tt></a> as
the <tt class="docutils literal"><span class="pre">autocomplete</span></tt> argument. Must be <tt class="xref py py-class docutils literal"><span class="pre">unicode</span></tt>.</p>
<p>When a user autocompletes a result with <tt class="docutils literal"><span class="pre">TAB</span></tt>, Alfred will run the Script
Filter again with the new query.</p>
<p>If no <tt class="docutils literal"><span class="pre">autocomplete</span></tt> parameter is specified, using <tt class="docutils literal"><span class="pre">TAB</span></tt> on a result will
have no effect.</p>
</div>
<div class="section" id="arg">
<span id="param-arg"></span><h3>arg<a class="headerlink" href="#arg" title="Permalink to this headline">¶</a></h3>
<p>Pass to <a class="reference internal" href="api/workflow.html#workflow.workflow.Workflow.add_item" title="workflow.workflow.Workflow.add_item"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.add_item()</span></tt></a> as
the <tt class="docutils literal"><span class="pre">arg</span></tt> argument. Must be <tt class="xref py py-class docutils literal"><span class="pre">unicode</span></tt>.</p>
<p>This is the &#8220;value&#8221; of the result that will be passed by Alfred as <tt class="docutils literal"><span class="pre">{query}</span></tt>
to the Action(s) or Output(s) your Script Filter is connected to when the
result is &#8220;actioned&#8221; (i.e. by selecting it and hitting <tt class="docutils literal"><span class="pre">ENTER</span></tt> or using
<tt class="docutils literal"><span class="pre">CMD+NUM</span></tt>).</p>
<p>Additionally, if you press CMD+C on a result in Alfred, <tt class="docutils literal"><span class="pre">arg</span></tt> will be copied to
the pasteboard (unless you have set <a class="reference internal" href="#param-copytext"><em>copy text</em></a> for the
item).</p>
<p>Other than being copyable, setting <tt class="docutils literal"><span class="pre">arg</span></tt> doesn&#8217;t make great deal of sense unless
the item is also <a class="reference internal" href="#param-valid"><em>valid</em></a>. An exception isif the item&#8217;s
<a class="reference internal" href="#param-type"><em>type</em></a> is <tt class="docutils literal"><span class="pre">file</span></tt>. In this case, a user can still use File Actions
on an item, even if it is not <a class="reference internal" href="#param-valid"><em>valid</em></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><tt class="docutils literal"><span class="pre">arg</span></tt> may also be specified as an attribute of the <tt class="docutils literal"><span class="pre">&lt;item&gt;</span></tt>
element, but specifying it as a child element of <tt class="docutils literal"><span class="pre">&lt;item&gt;</span></tt> is more flexible:
you can include newlines within an element, but not within an attribute.</p>
</div>
</div>
<div class="section" id="valid">
<span id="param-valid"></span><h3>valid<a class="headerlink" href="#valid" title="Permalink to this headline">¶</a></h3>
<p>Passed to <a class="reference internal" href="api/workflow.html#workflow.workflow.Workflow.add_item" title="workflow.workflow.Workflow.add_item"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.add_item()</span></tt></a> as
the <tt class="docutils literal"><span class="pre">valid</span></tt> argument. Must be <tt class="docutils literal"><span class="pre">True</span></tt> or <tt class="docutils literal"><span class="pre">False</span></tt> (the default).</p>
<p>In the XML file, <tt class="docutils literal"><span class="pre">valid</span></tt> is an attribute on the <tt class="docutils literal"><span class="pre">&lt;item&gt;</span></tt> element and must
have the value of either <tt class="docutils literal"><span class="pre">YES</span></tt> or <tt class="docutils literal"><span class="pre">NO</span></tt>:</p>
<div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="nt">&lt;item</span> <span class="na">valid=</span><span class="s">&quot;YES&quot;</span><span class="nt">&gt;</span>
    ...
<span class="nt">&lt;/item&gt;</span>
<span class="nt">&lt;item</span> <span class="na">valid=</span><span class="s">&quot;NO&quot;</span><span class="nt">&gt;</span>
    ...
<span class="nt">&lt;/item&gt;</span>
</pre></div>
</td></tr></table></div>
<p><tt class="docutils literal"><span class="pre">valid</span></tt> determines whether a user can action a result (i.e with <tt class="docutils literal"><span class="pre">ENTER</span></tt>
or <tt class="docutils literal"><span class="pre">CMD+NUM</span></tt>) in Alfred&#8217;s results list or not (<tt class="docutils literal"><span class="pre">&quot;YES&quot;</span></tt>/<tt class="docutils literal"><span class="pre">True</span></tt>
meaning they can). If a result has the <a class="reference internal" href="#param-type"><em>type</em></a> <tt class="docutils literal"><span class="pre">file</span></tt>, users
can still perform File Actions on it (if <a class="reference internal" href="#param-arg"><em>arg</em></a> is set to a valid
filepath).</p>
<p>Specifying <tt class="docutils literal"><span class="pre">valid=True</span></tt>/<tt class="docutils literal"><span class="pre">valid=&quot;YES&quot;</span></tt> has no effect if <a class="reference internal" href="#param-arg"><em>arg</em></a>
isn&#8217;t set.</p>
</div>
<div class="section" id="uid">
<span id="param-uid"></span><h3>uid<a class="headerlink" href="#uid" title="Permalink to this headline">¶</a></h3>
<p>Pass to <a class="reference internal" href="api/workflow.html#workflow.workflow.Workflow.add_item" title="workflow.workflow.Workflow.add_item"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.add_item()</span></tt></a> as
the <tt class="docutils literal"><span class="pre">uid</span></tt> argument. Must be <tt class="xref py py-class docutils literal"><span class="pre">unicode</span></tt>.</p>
<p>Alfred uses the <tt class="docutils literal"><span class="pre">uid</span></tt> to uniquely identify a result and apply its &#8220;knowledge&#8221;
to it. That is to say, if (and only if) a user hits <tt class="docutils literal"><span class="pre">ENTER</span></tt> on a result with
a <tt class="docutils literal"><span class="pre">uid</span></tt>, Alfred will associate that result (well, its <tt class="docutils literal"><span class="pre">uid</span></tt>) with its
current query and prioritise that result for the same query in the future.</p>
<p>As a result, in most situations you should ensure that a particular item always
has the same <tt class="docutils literal"><span class="pre">uid</span></tt>. In practice, setting <tt class="docutils literal"><span class="pre">uid</span></tt> to the same value as <tt class="docutils literal"><span class="pre">arg</span></tt>
is often a good choice.</p>
<p>If you omit the <tt class="docutils literal"><span class="pre">uid</span></tt>, Alfred will show results in the order in which they
appear in the XML file (the order in which you add them with
<a class="reference internal" href="api/workflow.html#workflow.workflow.Workflow.add_item" title="workflow.workflow.Workflow.add_item"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.add_item()</span></tt></a>).</p>
</div>
<div class="section" id="type">
<span id="param-type"></span><h3>type<a class="headerlink" href="#type" title="Permalink to this headline">¶</a></h3>
<p>The type of the result. Currently, only <tt class="docutils literal"><span class="pre">file</span></tt> and <tt class="docutils literal"><span class="pre">file:skipcheck</span></tt> are
supported.</p>
<p>Pass to <a class="reference internal" href="api/workflow.html#workflow.workflow.Workflow.add_item" title="workflow.workflow.Workflow.add_item"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.add_item()</span></tt></a> as
the <tt class="docutils literal"><span class="pre">type</span></tt> argument. Should be <tt class="xref py py-class docutils literal"><span class="pre">unicode</span></tt>. Currently, the only allowed
value is <tt class="docutils literal"><span class="pre">file</span></tt>.</p>
<p>If the <tt class="docutils literal"><span class="pre">type</span></tt> of a result is set to <tt class="docutils literal"><span class="pre">file</span></tt> (the only value currently
supported by Alfred), it will enable users to &#8220;action&#8221; the item, as in Alfred&#8217;s
file browser, and show Alfred&#8217;s File Actions (<tt class="docutils literal"><span class="pre">Open</span></tt>, <tt class="docutils literal"><span class="pre">Open</span> <span class="pre">with…</span></tt>,
<tt class="docutils literal"><span class="pre">Reveal</span> <span class="pre">in</span> <span class="pre">Finder</span></tt> etc.) using the default keyboard shortcut set in
<tt class="docutils literal"><span class="pre">Alfred</span> <span class="pre">Preferences</span> <span class="pre">&gt;</span> <span class="pre">File</span> <span class="pre">Search</span> <span class="pre">&gt;</span> <span class="pre">Actions</span> <span class="pre">&gt;</span> <span class="pre">Show</span> <span class="pre">Actions</span></tt>.</p>
<p>If <tt class="docutils literal"><span class="pre">type</span></tt> is set to <tt class="docutils literal"><span class="pre">file:skipcheck</span></tt>, Alfred won&#8217;t test to see if the file
specified as <a class="reference internal" href="#param-arg"><em>arg</em></a> actually exists. This will save a tiny bit of
time if you&#8217;re sure the file exists.</p>
<p>For File Actions to work, <a class="reference internal" href="#param-arg"><em>arg</em></a> must be set to a valid filepath,
but it is not necessary for the item to be <a class="reference internal" href="#param-valid"><em>valid</em></a>.</p>
</div>
<div class="section" id="copy-text">
<span id="param-copytext"></span><h3>copy text<a class="headerlink" href="#copy-text" title="Permalink to this headline">¶</a></h3>
<p>Text that will be copied to the pasteboard if a user presses <tt class="docutils literal"><span class="pre">CMD+C</span></tt> on a
result.</p>
<p>Pass to <a class="reference internal" href="api/workflow.html#workflow.workflow.Workflow.add_item" title="workflow.workflow.Workflow.add_item"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.add_item()</span></tt></a> as
the <tt class="docutils literal"><span class="pre">copytext</span></tt> argument. Must be <tt class="xref py py-class docutils literal"><span class="pre">unicode</span></tt>.</p>
<p>Set using <tt class="docutils literal"><span class="pre">&lt;text</span> <span class="pre">type=&quot;copy&quot;&gt;Copy</span> <span class="pre">text</span> <span class="pre">goes</span> <span class="pre">here&lt;/text&gt;</span></tt> in XML.</p>
<p>If <tt class="docutils literal"><span class="pre">copytext</span></tt> is set, when the user presses <tt class="docutils literal"><span class="pre">CMD+C</span></tt>, this will be copied to
the pasteboard and Alfred&#8217;s window will close. If <tt class="docutils literal"><span class="pre">copytext</span></tt> is not set, the
selected result&#8217;s <a class="reference internal" href="#param-arg"><em>arg</em></a> value will be copied to the pasteboard
and Alfred&#8217;s window will close. If neither is set, nothing will be copied to
the pasteboard and Alfred&#8217;s window will close.</p>
</div>
<div class="section" id="large-text">
<span id="param-largetext"></span><h3>large text<a class="headerlink" href="#large-text" title="Permalink to this headline">¶</a></h3>
<p>Text that will be displayed in Alfred&#8217;s Large Type pop-up if a user presses
<tt class="docutils literal"><span class="pre">CMD+L</span></tt> on a result.</p>
<p>Pass to <a class="reference internal" href="api/workflow.html#workflow.workflow.Workflow.add_item" title="workflow.workflow.Workflow.add_item"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.add_item()</span></tt></a> as
the <tt class="docutils literal"><span class="pre">largetext</span></tt> argument. Must be <tt class="xref py py-class docutils literal"><span class="pre">unicode</span></tt>.</p>
<p>Set using <tt class="docutils literal"><span class="pre">&lt;text</span> <span class="pre">type=&quot;largetype&quot;&gt;Large</span> <span class="pre">text</span> <span class="pre">goes</span> <span class="pre">here&lt;/text&gt;</span></tt> in XML.</p>
<p>If <tt class="docutils literal"><span class="pre">largetext</span></tt> is not set, when the user presses <tt class="docutils literal"><span class="pre">CMD+L</span></tt> on a result, Alfred
will display the current query in its Large Type pop-up.</p>
</div>
<div class="section" id="icon">
<span id="param-icon"></span><h3>icon<a class="headerlink" href="#icon" title="Permalink to this headline">¶</a></h3>
<p>There are three different kinds of icon you can tell Alfred to use. Use the
<tt class="docutils literal"><span class="pre">type</span></tt> attribute of the <tt class="docutils literal"><span class="pre">&lt;icon&gt;</span></tt> XML element or the <tt class="docutils literal"><span class="pre">icontype</span></tt> argument
to <tt class="docutils literal"><span class="pre">Alfred.add_item()</span></tt> to define which type of icon you want.</p>
<div class="section" id="image-files">
<h4>Image files<a class="headerlink" href="#image-files" title="Permalink to this headline">¶</a></h4>
<p>This is the default. Simply pass the filename or filepath of an image file:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;icon&gt;</span>icon.png<span class="nt">&lt;/icon&gt;</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Workflow</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">icon</span><span class="o">=</span><span class="s">u&#39;icon.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Relative paths will be interpreted by Alfred as relative to the root of your
workflow directory, so <tt class="docutils literal"><span class="pre">icon.png</span></tt> will be your workflow&#8217;s own icon,
<tt class="docutils literal"><span class="pre">icons/github.png</span></tt> is the file <tt class="docutils literal"><span class="pre">github.png</span></tt> in the <tt class="docutils literal"><span class="pre">icons</span></tt> subdirectory
of your workflow etc.</p>
<p>You can pass paths to <tt class="docutils literal"><span class="pre">PNG</span></tt> or <tt class="docutils literal"><span class="pre">ICNS</span></tt> files. If you&#8217;re using <tt class="docutils literal"><span class="pre">PNG</span></tt>, you
should try to make them square and ideally 256 px wide/high. Anything bigger
and Alfred will have to resize the icon; smaller and it won&#8217;t look so good on a
Retina screen.</p>
</div>
<div class="section" id="file-icons">
<h4>File icons<a class="headerlink" href="#file-icons" title="Permalink to this headline">¶</a></h4>
<p>Alternatively, you can tell Alfred to use the icon of a file:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;icon</span> <span class="na">type=</span><span class="s">&quot;fileicon&quot;</span><span class="nt">&gt;</span>/path/to/some/file.pdf<span class="nt">&lt;/icon&gt;</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Workflow</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">icon</span><span class="o">=</span><span class="s">u&#39;/path/to/some/file.pdf&#39;</span><span class="p">,</span>
                  <span class="n">icontype</span><span class="o">=</span><span class="s">u&#39;fileicon&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This is great if your workflow lists the user&#8217;s own files, and makes your
Script Filter work like Alfred&#8217;s File Browser or File Filters in that by
passing the file&#8217;s path as the icon, Alfred will show the appropriate icon
for that file.</p>
<p>If you have set a custom icon for, e.g., your Downloads folder, this custom
icon will be shown. In the case of media files that have cover art, e.g. audio
files, movies, ebooks, comics etc., any cover art will not be shown, but rather
the standard icon for the appropriate filetype.</p>
</div>
<div class="section" id="filetype-icons">
<h4>Filetype icons<a class="headerlink" href="#filetype-icons" title="Permalink to this headline">¶</a></h4>
<p>Finally, you can tell Alfred to use the icon for a specific filetype by
specifying a <a class="reference external" href="http://www.escape.gr/manuals/qdrop/UTI.html">UTI</a> as the value
to <tt class="docutils literal"><span class="pre">icon</span></tt> and <tt class="docutils literal"><span class="pre">filetype</span></tt> as the type:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;icon</span> <span class="na">type=</span><span class="s">&quot;filetype&quot;</span><span class="nt">&gt;</span>public.html<span class="nt">&lt;/icon&gt;</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Workflow</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">icon</span><span class="o">=</span><span class="s">u&#39;public.html&#39;</span><span class="p">,</span> <span class="n">icontype</span><span class="o">=</span><span class="s">u&#39;filetype&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This will show the icon for <tt class="docutils literal"><span class="pre">HTML</span></tt> pages, which will be different depending
on which browser you have set as the default.</p>
<p><tt class="docutils literal"><span class="pre">filetype</span></tt> icons are useful if your Script Filter deals with files and
filetypes but you don&#8217;t have a specific filepath to use as a <tt class="docutils literal"><span class="pre">fileicon</span></tt>.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>If you need to find the UTI for a filetype, Alfred can help you.</p>
<p>Add a File Filter to a workflow, and drag a file of the type you&#8217;re
interested in into the File Types list in the Basic Setup tab. Alfred will
show the corresponding UTI in the list (in this screenshot, I dragged a
<tt class="docutils literal"><span class="pre">.py</span></tt> file into the list):</p>
<img alt="_images/screen30_UTI.png" src="_images/screen30_UTI.png" />
<p class="last">You can also find the UTI of a file (along with much of its other metadata)
by running <tt class="docutils literal"><span class="pre">mdls</span> <span class="pre">/path/to/the/file</span></tt> in Terminal.</p>
</div>
</div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="aw-workflows.html" class="btn btn-neutral float-right" title="Workflows using Alfred-Workflow"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="api/serialization.html" class="btn btn-neutral" title="Serialization"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Dean Jackson.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.11.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
<div class="github-fork-ribbon-wrapper right">
    <div class="github-fork-ribbon">
        <a href="https://github.com/deanishe/alfred-workflow">Fork me on GitHub</a>
    </div>
</div>
 


</body>
</html>