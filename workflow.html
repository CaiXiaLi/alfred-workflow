
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>workflow.workflow &mdash; Alfred-Workflow 1.8.4 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootswatch-3.1.0/readable/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.8.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="Alfred-Workflow 1.8.4 documentation" href="index.html" />
    <link rel="next" title="workflow.web" href="web.html" />
    <link rel="prev" title="Howto" href="howto.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

<link rel="stylesheet" href="_static/gh-fork-ribbon.css">
<!--[if lt IE 9]>
	<link rel="stylesheet" href="_static/gh-fork-ribbon.ie.css">
<![endif]-->
<link rel="stylesheet" href="_static/custom.css">

  </head>
  <body>
<div class="github-fork-ribbon-wrapper right">
    <div class="github-fork-ribbon">
        <a href="https://github.com/deanishe/alfred-workflow">Fork me on GitHub</a>
    </div>
</div>


  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          Alfred-Workflow</a>
        <span class="navbar-text navbar-version pull-left"><b>1.8.4</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Documentation <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Writing A Pinboard Workflow, Part 1</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorial2.html">Writing A Pinboard Workflow, Part 2</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="howto.html">Howto</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">workflow.workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="web.html">workflow.web</a></li>
<li class="toctree-l1"><a class="reference internal" href="background.html">workflow.background</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">workflow.workflow</a></li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="module-workflow.workflow">
<span id="workflow-workflow"></span><h1>workflow.workflow<a class="headerlink" href="#module-workflow.workflow" title="Permalink to this headline">Â¶</a></h1>
<p>Helper library for Alfred 2 workflow authors.</p>
<p>You probably only want to use the <a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> class directly.</p>
<p>The <a class="reference internal" href="#workflow.workflow.Item" title="workflow.workflow.Item"><tt class="xref py py-class docutils literal"><span class="pre">Item</span></tt></a> and <a class="reference internal" href="#workflow.workflow.Settings" title="workflow.workflow.Settings"><tt class="xref py py-class docutils literal"><span class="pre">Settings</span></tt></a> classes are supporting classes,
which are meant to be accessed via <a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> instances.</p>
<p>Classes <a class="reference internal" href="#workflow.workflow.SerializerManager" title="workflow.workflow.SerializerManager"><tt class="xref py py-class docutils literal"><span class="pre">SerializerManager</span></tt></a>, <a class="reference internal" href="#workflow.workflow.JSONSerializer" title="workflow.workflow.JSONSerializer"><tt class="xref py py-class docutils literal"><span class="pre">JSONSerializer</span></tt></a>,
<a class="reference internal" href="#workflow.workflow.CPickleSerializer" title="workflow.workflow.CPickleSerializer"><tt class="xref py py-class docutils literal"><span class="pre">CPickleSerializer</span></tt></a> and <a class="reference internal" href="#workflow.workflow.PickleSerializer" title="workflow.workflow.PickleSerializer"><tt class="xref py py-class docutils literal"><span class="pre">PickleSerializer</span></tt></a> are part of
the data/cache serialization features of <a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a>, accessible
by the module-level <tt class="docutils literal"><span class="pre">manager</span></tt> object.</p>
<p>To register a new serializer, do:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre> <span class="kn">from</span> <span class="nn">workflow</span> <span class="kn">import</span> <span class="n">Workflow</span><span class="p">,</span> <span class="n">manager</span>


 <span class="k">class</span> <span class="nc">MySerializer</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

     <span class="nd">@classmethod</span>
     <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">file_obj</span><span class="p">):</span>
         <span class="c"># load data from file_obj</span>

     <span class="nd">@classmethod</span>
     <span class="k">def</span> <span class="nf">dump</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">file_obj</span><span class="p">):</span>
         <span class="c"># write data to file_obj</span>

 <span class="n">manager</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="s">&#39;myformat&#39;</span><span class="p">,</span> <span class="n">MySerializer</span><span class="p">())</span>
</pre></div>
</td></tr></table></div>
<p>The name under which you register your serializer will be used as the
file extension of any saved files.</p>
<p>To set the default serializer for cached data,
set <a class="reference internal" href="#workflow.workflow.Workflow.cache_serializer" title="workflow.workflow.Workflow.cache_serializer"><tt class="xref py py-attr docutils literal"><span class="pre">Workflow.cache_serializer</span></tt></a>, and to set the default
serializer for stored data, set <a class="reference internal" href="#workflow.workflow.Workflow.data_serializer" title="workflow.workflow.Workflow.data_serializer"><tt class="xref py py-attr docutils literal"><span class="pre">Workflow.data_serializer</span></tt></a>.</p>
<p>Cached data is stored in the Workflow&#8217;s cache directory, which is intended
for temporary and easily regenerated data.</p>
<p>Stored data is stored in the Workflow&#8217;s data directory, which is intended
for data that is user-generated or not easily recreated.</p>
<p>The default serializer for both cached and stored data is <tt class="docutils literal"><span class="pre">cpickle</span></tt>.</p>
<p>For more information, please see <a class="reference internal" href="howto.html#persistent-data"><em>Persistent data</em></a>.</p>
<dl class="class">
<dt id="workflow.workflow.CPickleSerializer">
<em class="property">class </em><tt class="descclassname">workflow.workflow.</tt><tt class="descname">CPickleSerializer</tt><a class="headerlink" href="#workflow.workflow.CPickleSerializer" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Wrapper around <a class="reference external" href="http://docs.python.org/library/pickle.html#module-cPickle" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">cPickle</span></tt></a>. Sets <tt class="docutils literal"><span class="pre">protocol</span></tt>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<p>This is the default serializer and the best combination of speed and
flexibility.</p>
<dl class="classmethod">
<dt id="workflow.workflow.CPickleSerializer.dump">
<em class="property">classmethod </em><tt class="descname">dump</tt><big>(</big><em>obj</em>, <em>file_obj</em><big>)</big><a class="headerlink" href="#workflow.workflow.CPickleSerializer.dump" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="workflow.workflow.CPickleSerializer.load">
<em class="property">classmethod </em><tt class="descname">load</tt><big>(</big><em>file_obj</em><big>)</big><a class="headerlink" href="#workflow.workflow.CPickleSerializer.load" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="workflow.workflow.Item">
<em class="property">class </em><tt class="descclassname">workflow.workflow.</tt><tt class="descname">Item</tt><big>(</big><em>title</em>, <em>subtitle=u''</em>, <em>modifier_subtitles=None</em>, <em>arg=None</em>, <em>autocomplete=None</em>, <em>valid=False</em>, <em>uid=None</em>, <em>icon=None</em>, <em>icontype=None</em>, <em>type=None</em><big>)</big><a class="headerlink" href="#workflow.workflow.Item" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Represents a feedback item for Alfred. Generates Alfred-compliant
XML for a single item.</p>
<p>You probably shouldn&#8217;t use this class directly, but via
<a class="reference internal" href="#workflow.workflow.Workflow.add_item" title="workflow.workflow.Workflow.add_item"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.add_item()</span></tt></a>. See <a class="reference internal" href="#workflow.workflow.Workflow.add_item" title="workflow.workflow.Workflow.add_item"><tt class="xref py py-meth docutils literal"><span class="pre">add_item()</span></tt></a>
for details of arguments.</p>
<dl class="attribute">
<dt id="workflow.workflow.Item.elem">
<tt class="descname">elem</tt><a class="headerlink" href="#workflow.workflow.Item.elem" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Create and return feedback item for Alfred.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">ElementTree.Element</span></tt></a>
instance for this <a class="reference internal" href="#workflow.workflow.Item" title="workflow.workflow.Item"><tt class="xref py py-class docutils literal"><span class="pre">Item</span></tt></a> instance.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="workflow.workflow.JSONSerializer">
<em class="property">class </em><tt class="descclassname">workflow.workflow.</tt><tt class="descname">JSONSerializer</tt><a class="headerlink" href="#workflow.workflow.JSONSerializer" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Wrapper around <a class="reference external" href="http://docs.python.org/library/json.html#module-json" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">json</span></tt></a>. Sets <tt class="docutils literal"><span class="pre">indent</span></tt> and <tt class="docutils literal"><span class="pre">encoding</span></tt>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<p>Use this serializer if you need readable data files. JSON doesn&#8217;t
support Python objects as well as <tt class="docutils literal"><span class="pre">cPickle</span></tt>/<tt class="docutils literal"><span class="pre">pickle</span></tt>, so be
careful which data you try to serialize as JSON.</p>
<dl class="classmethod">
<dt id="workflow.workflow.JSONSerializer.dump">
<em class="property">classmethod </em><tt class="descname">dump</tt><big>(</big><em>obj</em>, <em>file_obj</em><big>)</big><a class="headerlink" href="#workflow.workflow.JSONSerializer.dump" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="workflow.workflow.JSONSerializer.load">
<em class="property">classmethod </em><tt class="descname">load</tt><big>(</big><em>file_obj</em><big>)</big><a class="headerlink" href="#workflow.workflow.JSONSerializer.load" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="workflow.workflow.KeychainError">
<em class="property">exception </em><tt class="descclassname">workflow.workflow.</tt><tt class="descname">KeychainError</tt><a class="headerlink" href="#workflow.workflow.KeychainError" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/exceptions.html#exceptions.Exception" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></a></p>
<p>Raised by methods <a class="reference internal" href="#workflow.workflow.Workflow.save_password" title="workflow.workflow.Workflow.save_password"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.save_password()</span></tt></a>,
<a class="reference internal" href="#workflow.workflow.Workflow.get_password" title="workflow.workflow.Workflow.get_password"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.get_password()</span></tt></a> and <a class="reference internal" href="#workflow.workflow.Workflow.delete_password" title="workflow.workflow.Workflow.delete_password"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.delete_password()</span></tt></a>
when <tt class="docutils literal"><span class="pre">security</span></tt> CLI app returns an unknown code.</p>
</dd></dl>

<dl class="exception">
<dt id="workflow.workflow.PasswordExists">
<em class="property">exception </em><tt class="descclassname">workflow.workflow.</tt><tt class="descname">PasswordExists</tt><a class="headerlink" href="#workflow.workflow.PasswordExists" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#workflow.workflow.KeychainError" title="workflow.workflow.KeychainError"><tt class="xref py py-class docutils literal"><span class="pre">workflow.workflow.KeychainError</span></tt></a></p>
<p>Raised when trying to overwrite an existing account password.</p>
<p>The API user should never receive this error: it is used internally
by the <a class="reference internal" href="#workflow.workflow.Workflow.save_password" title="workflow.workflow.Workflow.save_password"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.save_password()</span></tt></a> method.</p>
</dd></dl>

<dl class="exception">
<dt id="workflow.workflow.PasswordNotFound">
<em class="property">exception </em><tt class="descclassname">workflow.workflow.</tt><tt class="descname">PasswordNotFound</tt><a class="headerlink" href="#workflow.workflow.PasswordNotFound" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#workflow.workflow.KeychainError" title="workflow.workflow.KeychainError"><tt class="xref py py-class docutils literal"><span class="pre">workflow.workflow.KeychainError</span></tt></a></p>
<p>Raised by method <a class="reference internal" href="#workflow.workflow.Workflow.get_password" title="workflow.workflow.Workflow.get_password"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.get_password()</span></tt></a> when <tt class="docutils literal"><span class="pre">account</span></tt>
is unknown to the Keychain.</p>
</dd></dl>

<dl class="class">
<dt id="workflow.workflow.PickleSerializer">
<em class="property">class </em><tt class="descclassname">workflow.workflow.</tt><tt class="descname">PickleSerializer</tt><a class="headerlink" href="#workflow.workflow.PickleSerializer" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Wrapper around <a class="reference external" href="http://docs.python.org/library/pickle.html#module-pickle" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">pickle</span></tt></a>. Sets <tt class="docutils literal"><span class="pre">protocol</span></tt>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<p>Use this serializer if you need to add custom pickling.</p>
<dl class="classmethod">
<dt id="workflow.workflow.PickleSerializer.dump">
<em class="property">classmethod </em><tt class="descname">dump</tt><big>(</big><em>obj</em>, <em>file_obj</em><big>)</big><a class="headerlink" href="#workflow.workflow.PickleSerializer.dump" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="workflow.workflow.PickleSerializer.load">
<em class="property">classmethod </em><tt class="descname">load</tt><big>(</big><em>file_obj</em><big>)</big><a class="headerlink" href="#workflow.workflow.PickleSerializer.load" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="workflow.workflow.SerializerManager">
<em class="property">class </em><tt class="descclassname">workflow.workflow.</tt><tt class="descname">SerializerManager</tt><a class="headerlink" href="#workflow.workflow.SerializerManager" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Contains registered serializers.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<p>A configured instance of this class is available at <tt class="docutils literal"><span class="pre">workflow.manager</span></tt>.</p>
<p>Use <a class="reference internal" href="#workflow.workflow.SerializerManager.register" title="workflow.workflow.SerializerManager.register"><tt class="xref py py-meth docutils literal"><span class="pre">register()</span></tt></a> to register new (or replace
existing) serializers, which you can specify by name when calling
<a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> data storage methods.</p>
<p>A <tt class="docutils literal"><span class="pre">serializer</span></tt> object must have <tt class="docutils literal"><span class="pre">load()</span></tt> and <tt class="docutils literal"><span class="pre">dump()</span></tt> methods
that work the same way as in the built-in <a class="reference external" href="http://docs.python.org/library/json.html#module-json" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">json</span></tt></a> and
<a class="reference external" href="http://docs.python.org/library/pickle.html#module-pickle" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">pickle</span></tt></a> libraries, i.e.:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="c"># Reading</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">serializer</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s">&#39;filename&#39;</span><span class="p">,</span> <span class="s">&#39;rb&#39;</span><span class="p">))</span>
<span class="c"># Writing</span>
<span class="n">serializer</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;filename&#39;</span><span class="p">,</span> <span class="s">&#39;wb&#39;</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
<p>There are 3 pre-configured serializers: <tt class="docutils literal"><span class="pre">json</span></tt>, <tt class="docutils literal"><span class="pre">pickle</span></tt>
and <tt class="docutils literal"><span class="pre">cpickle</span></tt>. The default is <tt class="docutils literal"><span class="pre">cpickle</span></tt>, as it is very fast and
can handle most Python objects.</p>
<p>If you need custom pickling, use the <tt class="docutils literal"><span class="pre">pickle</span></tt> serializer instead.</p>
<p>Be careful using <tt class="docutils literal"><span class="pre">json</span></tt>: JSON only supports a subset of Python&#8217;s
native data types (e.g., no <tt class="docutils literal"><span class="pre">tuple</span></tt> or <a class="reference external" href="http://docs.python.org/library/stdtypes.html#set" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">set</span></tt></a>) and
doesn&#8217;t, for example, support <tt class="docutils literal"><span class="pre">dict</span></tt> keys that aren&#8217;t strings.</p>
<p>See the built-in <a class="reference external" href="http://docs.python.org/library/pickle.html#module-cPickle" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">cPickle</span></tt></a>, <a class="reference external" href="http://docs.python.org/library/pickle.html#module-pickle" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">pickle</span></tt></a> and <a class="reference external" href="http://docs.python.org/library/json.html#module-json" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">json</span></tt></a>
libraries for more information on the serialization formats.</p>
<dl class="method">
<dt id="workflow.workflow.SerializerManager.register">
<tt class="descname">register</tt><big>(</big><em>name</em>, <em>serializer</em><big>)</big><a class="headerlink" href="#workflow.workflow.SerializerManager.register" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Register <tt class="docutils literal"><span class="pre">serializer</span></tt> object under <tt class="docutils literal"><span class="pre">name</span></tt>.</p>
<p>Raises <tt class="xref py py-class docutils literal"><span class="pre">AttributeError</span></tt> if <tt class="docutils literal"><span class="pre">serializer</span></tt> in invalid.</p>
<p><strong>Note:</strong> <tt class="docutils literal"><span class="pre">name</span></tt> will be used as the file extension of the
saved files.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt> or <tt class="docutils literal"><span class="pre">str</span></tt>) &#8211; Name to register <tt class="docutils literal"><span class="pre">serializer</span></tt> under</li>
<li><strong>serializer</strong> &#8211; object with <tt class="docutils literal"><span class="pre">load()</span></tt> and <tt class="docutils literal"><span class="pre">dump()</span></tt>
methods</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.SerializerManager.serializer">
<tt class="descname">serializer</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#workflow.workflow.SerializerManager.serializer" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return serializer object for <tt class="docutils literal"><span class="pre">name</span></tt> or <tt class="docutils literal"><span class="pre">None</span></tt> if no such
serializer is registered</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt> or <tt class="docutils literal"><span class="pre">str</span></tt>) &#8211; Name of serializer to return</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">serializer object or <tt class="docutils literal"><span class="pre">None</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.SerializerManager.serializers">
<tt class="descname">serializers</tt><a class="headerlink" href="#workflow.workflow.SerializerManager.serializers" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return names of registered serializers</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.SerializerManager.unregister">
<tt class="descname">unregister</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#workflow.workflow.SerializerManager.unregister" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Remove registered serializer with <tt class="docutils literal"><span class="pre">name</span></tt></p>
<p>Raises a <tt class="xref py py-class docutils literal"><span class="pre">ValueError</span></tt> if there is no such registered
serializer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt> or <tt class="docutils literal"><span class="pre">str</span></tt>) &#8211; Name of serializer to remove</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">serializer object</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="workflow.workflow.Settings">
<em class="property">class </em><tt class="descclassname">workflow.workflow.</tt><tt class="descname">Settings</tt><big>(</big><em>filepath</em>, <em>defaults=None</em><big>)</big><a class="headerlink" href="#workflow.workflow.Settings" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/stdtypes.html#dict" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></a></p>
<p>A dictionary that saves itself when changed.</p>
<p>Dictionary keys &amp; values will be saved as a JSON file
at <tt class="docutils literal"><span class="pre">filepath</span></tt>. If the file does not exist, the dictionary
(and settings file) will be initialised with <tt class="docutils literal"><span class="pre">defaults</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filepath</strong> (<tt class="xref py py-class docutils literal"><span class="pre">unicode</span></tt>) &#8211; where to save the settings</li>
<li><strong>defaults</strong> (<a class="reference external" href="http://docs.python.org/library/stdtypes.html#dict" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></a>) &#8211; dict of default settings</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>An appropriate instance is provided by <a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> instances at
<a class="reference internal" href="#workflow.workflow.Workflow.settings" title="workflow.workflow.Workflow.settings"><tt class="xref py py-attr docutils literal"><span class="pre">Workflow.settings</span></tt></a>.</p>
<dl class="method">
<dt id="workflow.workflow.Settings.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#workflow.workflow.Settings.save" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Save settings to JSON file specified in <tt class="docutils literal"><span class="pre">self._filepath</span></tt></p>
<p>If you&#8217;re using this class via <a class="reference internal" href="#workflow.workflow.Workflow.settings" title="workflow.workflow.Workflow.settings"><tt class="xref py py-attr docutils literal"><span class="pre">Workflow.settings</span></tt></a>, which
you probably are, <tt class="docutils literal"><span class="pre">self._filepath</span></tt> will be <tt class="docutils literal"><span class="pre">settings.json</span></tt>
in your workflow&#8217;s data directory (see <a class="reference internal" href="#workflow.workflow.Workflow.datadir" title="workflow.workflow.Workflow.datadir"><tt class="xref py py-attr docutils literal"><span class="pre">datadir</span></tt></a>).</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Settings.setdefault">
<tt class="descname">setdefault</tt><big>(</big><em>key</em>, <em>value=None</em><big>)</big><a class="headerlink" href="#workflow.workflow.Settings.setdefault" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Override <a class="reference external" href="http://docs.python.org/library/stdtypes.html#dict" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></a> method to save on update.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Settings.update">
<tt class="descname">update</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#workflow.workflow.Settings.update" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Override <a class="reference external" href="http://docs.python.org/library/stdtypes.html#dict" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></a> method to save on update.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="workflow.workflow.Workflow">
<em class="property">class </em><tt class="descclassname">workflow.workflow.</tt><tt class="descname">Workflow</tt><big>(</big><em>default_settings=None</em>, <em>input_encoding=u'utf-8'</em>, <em>normalization=u'NFC'</em>, <em>capture_args=True</em>, <em>libraries=None</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Create new <a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>default_settings</strong> (<a class="reference external" href="http://docs.python.org/library/stdtypes.html#dict" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></a>) &#8211; default workflow settings. If no settings file
exists, <a class="reference internal" href="#workflow.workflow.Workflow.settings" title="workflow.workflow.Workflow.settings"><tt class="xref py py-class docutils literal"><span class="pre">Workflow.settings</span></tt></a> will be pre-populated with
<tt class="docutils literal"><span class="pre">default_settings</span></tt>.</li>
<li><strong>input_encoding</strong> (<tt class="xref py py-class docutils literal"><span class="pre">unicode</span></tt>) &#8211; encoding of command line arguments</li>
<li><strong>normalization</strong> (<tt class="xref py py-class docutils literal"><span class="pre">unicode</span></tt>) &#8211; normalisation to apply to CLI args.
See <a class="reference internal" href="#workflow.workflow.Workflow.decode" title="workflow.workflow.Workflow.decode"><tt class="xref py py-meth docutils literal"><span class="pre">Workflow.decode()</span></tt></a> for more details.</li>
<li><strong>capture_args</strong> (<tt class="xref py py-class docutils literal"><span class="pre">Boolean</span></tt>) &#8211; capture and act on <tt class="docutils literal"><span class="pre">workflow:*</span></tt> arguments. See
<a class="reference internal" href="howto.html#magic-arguments"><em>Magic arguments</em></a> for details.</li>
<li><strong>libraries</strong> (<tt class="xref py py-class docutils literal"><span class="pre">tuple</span></tt> or <tt class="xref py py-class docutils literal"><span class="pre">list</span></tt>) &#8211; sequence of paths to directories containing
libraries. These paths will be prepended to <tt class="docutils literal"><span class="pre">sys.path</span></tt>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="workflow.workflow.Workflow.add_item">
<tt class="descname">add_item</tt><big>(</big><em>title</em>, <em>subtitle=u''</em>, <em>modifier_subtitles=None</em>, <em>arg=None</em>, <em>autocomplete=None</em>, <em>valid=False</em>, <em>uid=None</em>, <em>icon=None</em>, <em>icontype=None</em>, <em>type=None</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.add_item" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Add an item to be output to Alfred</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>title</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; Title shown in Alfred</li>
<li><strong>subtitle</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; Subtitle shown in Alfred</li>
<li><strong>modifier_subtitles</strong> (<tt class="docutils literal"><span class="pre">dict</span></tt>) &#8211; Subtitles shown when modifier
(CMD, OPT etc.) is pressed. Use a <tt class="docutils literal"><span class="pre">dict</span></tt> with the lowercase
keys <tt class="docutils literal"><span class="pre">cmd</span></tt>, <tt class="docutils literal"><span class="pre">ctrl</span></tt>, <tt class="docutils literal"><span class="pre">shift</span></tt>, <tt class="docutils literal"><span class="pre">alt</span></tt> and <tt class="docutils literal"><span class="pre">fn</span></tt></li>
<li><strong>arg</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; Argument passed by Alfred as <cite>{query}</cite> when item is
actioned</li>
<li><strong>autocomplete</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; Text expanded in Alfred when item is TABbed</li>
<li><strong>valid</strong> (<cite>Boolean</cite>) &#8211; Whether or not item can be actioned</li>
<li><strong>uid</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; Used by Alfred to remember/sort items</li>
<li><strong>icon</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; Filename of icon to use</li>
<li><strong>icontype</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; Type of icon. Must be one of <tt class="docutils literal"><span class="pre">None</span></tt> , <tt class="docutils literal"><span class="pre">'filetype'</span></tt>
or <tt class="docutils literal"><span class="pre">'fileicon'</span></tt>. Use <tt class="docutils literal"><span class="pre">'filetype'</span></tt> when <tt class="docutils literal"><span class="pre">icon</span></tt> is a filetype
such as``public.folder``. Use <tt class="docutils literal"><span class="pre">'fileicon'</span></tt> when you wish to
use the icon of the file specified as <tt class="docutils literal"><span class="pre">icon</span></tt>, e.g.
<tt class="docutils literal"><span class="pre">icon='/Applications/Safari.app',</span> <span class="pre">icontype='fileicon'</span></tt>.
Leave as <cite>None</cite> if <tt class="docutils literal"><span class="pre">icon</span></tt> points to an actual
icon file.</li>
<li><strong>type</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; Result type. Currently only <tt class="docutils literal"><span class="pre">'file'</span></tt> is supported
(by Alfred). This will tell Alfred to enable file actions for
this item.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#workflow.workflow.Item" title="workflow.workflow.Item"><tt class="xref py py-class docutils literal"><span class="pre">Item</span></tt></a> instance</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.alfred_env">
<tt class="descname">alfred_env</tt><a class="headerlink" href="#workflow.workflow.Workflow.alfred_env" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Alfred&#8217;s environmental variables minus the <tt class="docutils literal"><span class="pre">alfred_</span></tt> prefix.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.7.</span></p>
</div>
<p>The variables Alfred 2.4+ exports are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Variable</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>alfred_preferences</td>
<td>Path to Alfred.alfredpreferences
(where your workflows and settings are
stored).</td>
</tr>
<tr class="row-odd"><td>alfred_preferences_localhash</td>
<td>Machine-specific preferences are stored
in <tt class="docutils literal"><span class="pre">Alfred.alfredpreferences/preferences/local/&lt;hash&gt;</span></tt>
(see <tt class="docutils literal"><span class="pre">alfred_preferences</span></tt> above for
the path to <tt class="docutils literal"><span class="pre">Alfred.alfredpreferences</span></tt>)</td>
</tr>
<tr class="row-even"><td>alfred_theme</td>
<td>ID of selected theme</td>
</tr>
<tr class="row-odd"><td>alfred_theme_background</td>
<td>Background colour of selected theme in
format <tt class="docutils literal"><span class="pre">rgba(r,g,b,a)</span></tt></td>
</tr>
<tr class="row-even"><td>alfred_theme_subtext</td>
<td>Show result subtext.
<tt class="docutils literal"><span class="pre">0</span></tt> = Always,
<tt class="docutils literal"><span class="pre">1</span></tt> = Alternative actions only,
<tt class="docutils literal"><span class="pre">2</span></tt> = Selected result only,
<tt class="docutils literal"><span class="pre">3</span></tt> = Never</td>
</tr>
<tr class="row-odd"><td>alfred_version</td>
<td>Alfred version number, e.g. <tt class="docutils literal"><span class="pre">2.4</span></tt></td>
</tr>
<tr class="row-even"><td>alfred_version_build</td>
<td>Alfred build number, e.g. <tt class="docutils literal"><span class="pre">277</span></tt></td>
</tr>
<tr class="row-odd"><td>alfred_workflow_bundleid</td>
<td>Bundle ID, e.g.
<tt class="docutils literal"><span class="pre">net.deanishe.alfred-mailto</span></tt></td>
</tr>
<tr class="row-even"><td>alfred_workflow_cache</td>
<td>Path to workflow&#8217;s cache directory</td>
</tr>
<tr class="row-odd"><td>alfred_workflow_data</td>
<td>Path to workflow&#8217;s data directory</td>
</tr>
<tr class="row-even"><td>alfred_workflow_name</td>
<td>Name of current workflow</td>
</tr>
<tr class="row-odd"><td>alfred_workflow_uid</td>
<td>UID of workflow</td>
</tr>
</tbody>
</table>
<p><strong>Note:</strong> all values are Unicode strings</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><tt class="docutils literal"><span class="pre">dict</span></tt> of Alfred&#8217;s environmental variables without the
<tt class="docutils literal"><span class="pre">alfred_</span></tt> prefix, e.g. <tt class="docutils literal"><span class="pre">preferences</span></tt>, <tt class="docutils literal"><span class="pre">workflow_data</span></tt>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.args">
<tt class="descname">args</tt><a class="headerlink" href="#workflow.workflow.Workflow.args" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return command line args as normalised unicode.</p>
<p>Args are decoded and normalised via <a class="reference internal" href="#workflow.workflow.Workflow.decode" title="workflow.workflow.Workflow.decode"><tt class="xref py py-meth docutils literal"><span class="pre">decode()</span></tt></a>.</p>
<p>The encoding and normalisation are the <tt class="docutils literal"><span class="pre">input_encoding</span></tt> and
<tt class="docutils literal"><span class="pre">normalization</span></tt> arguments passed to <a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> (<tt class="docutils literal"><span class="pre">UTF-8</span></tt>
and <tt class="docutils literal"><span class="pre">NFC</span></tt> are the defaults).</p>
<p>If <a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> is called with <tt class="docutils literal"><span class="pre">capture_args=True</span></tt> (the default),
<a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> will look for certain <tt class="docutils literal"><span class="pre">workflow:*</span></tt> args and, if
found, perform the corresponding actions and exit the workflow.</p>
<p>See <a class="reference internal" href="howto.html#magic-arguments"><em>Magic arguments</em></a> for details.</p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.bundleid">
<tt class="descname">bundleid</tt><a class="headerlink" href="#workflow.workflow.Workflow.bundleid" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Workflow bundle ID from <tt class="docutils literal"><span class="pre">info.plist</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">bundle ID</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">unicode</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.cache_data">
<tt class="descname">cache_data</tt><big>(</big><em>name</em>, <em>data</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.cache_data" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Save <tt class="docutils literal"><span class="pre">data</span></tt> to cache under <tt class="docutils literal"><span class="pre">name</span></tt>.</p>
<p>If <tt class="docutils literal"><span class="pre">data</span></tt> is <tt class="docutils literal"><span class="pre">None</span></tt>, the corresponding cache file will be deleted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; name of datastore</li>
<li><strong>data</strong> (any object supported by <a class="reference external" href="http://docs.python.org/library/pickle.html#module-pickle" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">pickle</span></tt></a>) &#8211; data to store</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.cache_serializer">
<tt class="descname">cache_serializer</tt><a class="headerlink" href="#workflow.workflow.Workflow.cache_serializer" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Name of default cache serializer.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<p>This serializer is used by <a class="reference internal" href="#workflow.workflow.Workflow.cache_data" title="workflow.workflow.Workflow.cache_data"><tt class="xref py py-meth docutils literal"><span class="pre">cache_data()</span></tt></a> and
<a class="reference internal" href="#workflow.workflow.Workflow.cached_data" title="workflow.workflow.Workflow.cached_data"><tt class="xref py py-meth docutils literal"><span class="pre">cached_data()</span></tt></a></p>
<p>See <a class="reference internal" href="#workflow.workflow.SerializerManager" title="workflow.workflow.SerializerManager"><tt class="xref py py-class docutils literal"><span class="pre">SerializerManager</span></tt></a> for details.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">serializer name</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">unicode</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.cached_data">
<tt class="descname">cached_data</tt><big>(</big><em>name</em>, <em>data_func=None</em>, <em>max_age=60</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.cached_data" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Retrieve data from cache or re-generate and re-cache data if
stale/non-existant. If <tt class="docutils literal"><span class="pre">max_age</span></tt> is 0, return cached data no
matter how old.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; name of datastore</li>
<li><strong>data_func</strong> (<cite>callable</cite>) &#8211; function to (re-)generate data.</li>
<li><strong>max_age</strong> (<cite>int</cite>) &#8211; maximum age of cached data in seconds</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">cached data, return value of <tt class="docutils literal"><span class="pre">data_func</span></tt> or <tt class="docutils literal"><span class="pre">None</span></tt>
if <tt class="docutils literal"><span class="pre">data_func</span></tt> is not set</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">whatever <tt class="docutils literal"><span class="pre">data_func</span></tt> returns or <tt class="docutils literal"><span class="pre">None</span></tt></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.cached_data_age">
<tt class="descname">cached_data_age</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.cached_data_age" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return age of data cached at <cite>name</cite> in seconds or 0 if
cache doesn&#8217;t exist</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; name of datastore</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">age of datastore in seconds</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><cite>int</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.cached_data_fresh">
<tt class="descname">cached_data_fresh</tt><big>(</big><em>name</em>, <em>max_age</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.cached_data_fresh" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Is data cached at <cite>name</cite> less than <cite>max_age</cite> old?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; name of datastore</li>
<li><strong>max_age</strong> (<cite>int</cite>) &#8211; maximum age of data in seconds</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><tt class="docutils literal"><span class="pre">True</span></tt> if data is less than <cite>max_age</cite> old, else <tt class="docutils literal"><span class="pre">False</span></tt></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><cite>Boolean</cite></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.cachedir">
<tt class="descname">cachedir</tt><a class="headerlink" href="#workflow.workflow.Workflow.cachedir" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Path to workflow&#8217;s cache directory.</p>
<p>The cache directory is a subdirectory of Alfred&#8217;s own cache directory in
<tt class="docutils literal"><span class="pre">~/Library/Caches</span></tt>. The full path is:</p>
<p><tt class="docutils literal"><span class="pre">~/Library/Caches/com.runningwithcrayons.Alfred-2/Workflow</span> <span class="pre">Data/&lt;bundle</span> <span class="pre">id&gt;</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">full path to workflow&#8217;s cache directory</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">unicode</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.cachefile">
<tt class="descname">cachefile</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.cachefile" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return full path to <tt class="docutils literal"><span class="pre">filename</span></tt> within your workflow&#8217;s
<a class="reference internal" href="#workflow.workflow.Workflow.cachedir" title="workflow.workflow.Workflow.cachedir"><tt class="xref py py-attr docutils literal"><span class="pre">cache</span> <span class="pre">directory</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; basename of file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">full path to file within cache directory</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">unicode</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.clear_cache">
<tt class="descname">clear_cache</tt><big>(</big><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.clear_cache" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Delete all files in workflow cache directory.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.clear_data">
<tt class="descname">clear_data</tt><big>(</big><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.clear_data" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Delete all files in workflow data directory.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.clear_settings">
<tt class="descname">clear_settings</tt><big>(</big><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.clear_settings" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Delete settings file.</p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.data_serializer">
<tt class="descname">data_serializer</tt><a class="headerlink" href="#workflow.workflow.Workflow.data_serializer" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Name of default data serializer.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<p>This serializer is used by <a class="reference internal" href="#workflow.workflow.Workflow.store_data" title="workflow.workflow.Workflow.store_data"><tt class="xref py py-meth docutils literal"><span class="pre">store_data()</span></tt></a> and
<a class="reference internal" href="#workflow.workflow.Workflow.stored_data" title="workflow.workflow.Workflow.stored_data"><tt class="xref py py-meth docutils literal"><span class="pre">stored_data()</span></tt></a></p>
<p>See <a class="reference internal" href="#workflow.workflow.SerializerManager" title="workflow.workflow.SerializerManager"><tt class="xref py py-class docutils literal"><span class="pre">SerializerManager</span></tt></a> for details.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">serializer name</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">unicode</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.datadir">
<tt class="descname">datadir</tt><a class="headerlink" href="#workflow.workflow.Workflow.datadir" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Path to workflow&#8217;s data directory.</p>
<p>The data directory is a subdirectory of Alfred&#8217;s own data directory in
<tt class="docutils literal"><span class="pre">~/Library/Application</span> <span class="pre">Support</span></tt>. The full path is:</p>
<p><tt class="docutils literal"><span class="pre">~/Library/Application</span> <span class="pre">Support/Alfred</span> <span class="pre">2/Workflow</span> <span class="pre">Data/&lt;bundle</span> <span class="pre">id&gt;</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">full path to workflow data directory</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">unicode</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.datafile">
<tt class="descname">datafile</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.datafile" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return full path to <tt class="docutils literal"><span class="pre">filename</span></tt> within your workflow&#8217;s
<a class="reference internal" href="#workflow.workflow.Workflow.datadir" title="workflow.workflow.Workflow.datadir"><tt class="xref py py-attr docutils literal"><span class="pre">data</span> <span class="pre">directory</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; basename of file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">full path to file within data directory</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">unicode</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.decode">
<tt class="descname">decode</tt><big>(</big><em>text</em>, <em>encoding=None</em>, <em>normalization=None</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.decode" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">text</span></tt> as normalised unicode.</p>
<p>If <tt class="docutils literal"><span class="pre">encoding</span></tt> and/or <tt class="docutils literal"><span class="pre">normalization</span></tt> is <tt class="docutils literal"><span class="pre">None</span></tt>, the
<tt class="docutils literal"><span class="pre">input_encoding``and</span> <span class="pre">``normalization</span></tt> parameters passed to
<a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> are used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>text</strong> (encoded or Unicode string. If <tt class="docutils literal"><span class="pre">text</span></tt> is already a
Unicode string, it will only be normalised.) &#8211; string</li>
<li><strong>encoding</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt> or <tt class="docutils literal"><span class="pre">None</span></tt>) &#8211; The text encoding to use to decode <tt class="docutils literal"><span class="pre">text</span></tt> to
Unicode.</li>
<li><strong>normalization</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt> or <tt class="docutils literal"><span class="pre">None</span></tt>) &#8211; The nomalisation form to apply to <tt class="docutils literal"><span class="pre">text</span></tt>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">decoded and normalised <tt class="docutils literal"><span class="pre">unicode</span></tt></p>
</td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a> uses &#8220;NFC&#8221; normalisation by default. This is the
standard for Python and will work well with data from the web (via
<a class="reference internal" href="web.html#module-workflow.web" title="workflow.web"><tt class="xref py py-mod docutils literal"><span class="pre">web</span></tt></a> or <a class="reference external" href="http://docs.python.org/library/json.html#module-json" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">json</span></tt></a>).</p>
<p>OS X, on the other hand, uses &#8220;NFD&#8221; normalisation (nearly), so data
coming from the system (e.g. via <a class="reference external" href="http://docs.python.org/library/subprocess.html#module-subprocess" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">subprocess</span></tt></a> or
<a class="reference external" href="http://docs.python.org/library/os.html#os.listdir" title="(in Python v2.7)"><tt class="xref py py-func docutils literal"><span class="pre">os.listdir()</span></tt></a>/<a class="reference external" href="http://docs.python.org/library/os.path.html#module-os.path" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">os.path</span></tt></a>) may not match. You should either
normalise this data, too, or change the default normalisation used by
<a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.delete_password">
<tt class="descname">delete_password</tt><big>(</big><em>account</em>, <em>service=None</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.delete_password" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Delete the password stored at <tt class="docutils literal"><span class="pre">service/account</span></tt>. Raises
<a class="reference internal" href="#workflow.workflow.PasswordNotFound" title="workflow.workflow.PasswordNotFound"><tt class="xref py py-class docutils literal"><span class="pre">PasswordNotFound</span></tt></a> if account is unknown.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>account</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; name of the account the password is for, e.g.
&#8220;Pinboard&#8221;</li>
<li><strong>service</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; Name of the service. By default, this is the workflow&#8217;s
bundle ID</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.filter">
<tt class="descname">filter</tt><big>(</big><em>query</em>, <em>items</em>, <em>key=&lt;function &lt;lambda&gt; at 0x10bd85b18&gt;</em>, <em>ascending=False</em>, <em>include_score=False</em>, <em>min_score=0</em>, <em>max_results=0</em>, <em>match_on=127</em>, <em>fold_diacritics=True</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.filter" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Fuzzy search filter. Returns list of <tt class="docutils literal"><span class="pre">items</span></tt> that match <tt class="docutils literal"><span class="pre">query</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">query</span></tt> is case-insensitive. Any item that does not contain the
entirety of <tt class="docutils literal"><span class="pre">query</span></tt> is rejected.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>query</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; query to test items against</li>
<li><strong>items</strong> (<tt class="docutils literal"><span class="pre">list</span></tt> or <tt class="docutils literal"><span class="pre">tuple</span></tt>) &#8211; iterable of items to test</li>
<li><strong>key</strong> (<tt class="docutils literal"><span class="pre">callable</span></tt>) &#8211; function to get comparison key from <tt class="docutils literal"><span class="pre">items</span></tt>. Must return a
<tt class="docutils literal"><span class="pre">unicode</span></tt> string. The default simply returns the item.</li>
<li><strong>ascending</strong> (<tt class="docutils literal"><span class="pre">Boolean</span></tt>) &#8211; set to <tt class="docutils literal"><span class="pre">True</span></tt> to get worst matches first</li>
<li><strong>include_score</strong> (<tt class="docutils literal"><span class="pre">Boolean</span></tt>) &#8211; Useful for debugging the scoring algorithm.
If <tt class="docutils literal"><span class="pre">True</span></tt>, results will be a list of tuples
<tt class="docutils literal"><span class="pre">(item,</span> <span class="pre">score,</span> <span class="pre">rule)</span></tt>.</li>
<li><strong>min_score</strong> (<tt class="docutils literal"><span class="pre">int</span></tt>) &#8211; If non-zero, ignore results with a score lower
than this.</li>
<li><strong>max_results</strong> (<tt class="docutils literal"><span class="pre">int</span></tt>) &#8211; If non-zero, prune results list to this length.</li>
<li><strong>match_on</strong> (<tt class="docutils literal"><span class="pre">int</span></tt>) &#8211; Filter option flags. Bitwise-combined list of
<tt class="docutils literal"><span class="pre">MATCH_*</span></tt> constants (see below).</li>
<li><strong>fold_diacritics</strong> (<tt class="docutils literal"><span class="pre">Boolean</span></tt>) &#8211; Convert search keys to ASCII-only
characters if <tt class="docutils literal"><span class="pre">query</span></tt> only contains ASCII characters.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of <tt class="docutils literal"><span class="pre">items</span></tt> matching <tt class="docutils literal"><span class="pre">query</span></tt> or list of
<tt class="docutils literal"><span class="pre">(item,</span> <span class="pre">score,</span> <span class="pre">rule)</span></tt> <cite>tuples</cite> if <tt class="docutils literal"><span class="pre">include_score</span></tt> is <tt class="docutils literal"><span class="pre">True</span></tt>.
<tt class="docutils literal"><span class="pre">rule</span></tt> is the <tt class="docutils literal"><span class="pre">MATCH_</span></tt> rule that matched the item.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="docutils literal"><span class="pre">list</span></tt></p>
</td>
</tr>
</tbody>
</table>
<p><strong>Matching rules</strong></p>
<p>By default, <a class="reference internal" href="#workflow.workflow.Workflow.filter" title="workflow.workflow.Workflow.filter"><tt class="xref py py-meth docutils literal"><span class="pre">filter()</span></tt></a> uses all of the following flags (i.e.
<tt class="xref py py-const docutils literal"><span class="pre">MATCH_ALL</span></tt>). The tests are always run in the given order:</p>
<ol class="arabic simple">
<li><tt class="xref py py-const docutils literal"><span class="pre">MATCH_STARTSWITH</span></tt> : Item search key startswith <tt class="docutils literal"><span class="pre">query</span></tt> (case-insensitive).</li>
<li><tt class="xref py py-const docutils literal"><span class="pre">MATCH_CAPITALS</span></tt> : The list of capital letters in item search key starts with <tt class="docutils literal"><span class="pre">query</span></tt> (<tt class="docutils literal"><span class="pre">query</span></tt> may be lower-case). E.g., <tt class="docutils literal"><span class="pre">of</span></tt> would match <tt class="docutils literal"><span class="pre">OmniFocus</span></tt>, <tt class="docutils literal"><span class="pre">gc</span></tt> would match <tt class="docutils literal"><span class="pre">Google</span> <span class="pre">Chrome</span></tt></li>
<li><tt class="xref py py-const docutils literal"><span class="pre">MATCH_ATOM</span></tt> : Search key is split into &#8220;atoms&#8221; on non-word characters (.,-,&#8217; etc.). Matches if <tt class="docutils literal"><span class="pre">query</span></tt> is one of these atoms (case-insensitive).</li>
<li><tt class="xref py py-const docutils literal"><span class="pre">MATCH_INITIALS_STARTSWITH</span></tt> : Initials are the first characters of the above-described &#8220;atoms&#8221; (case-insensitive).</li>
<li><tt class="xref py py-const docutils literal"><span class="pre">MATCH_INITIALS_CONTAIN</span></tt> : <tt class="docutils literal"><span class="pre">query</span></tt> is a substring of the above-described initials.</li>
<li><tt class="xref py py-const docutils literal"><span class="pre">MATCH_INITIALS</span></tt> : Combination of (4) and (5).</li>
<li><tt class="xref py py-const docutils literal"><span class="pre">MATCH_SUBSTRING</span></tt> : Match if <tt class="docutils literal"><span class="pre">query</span></tt> is a substring of item search key (case-insensitive).</li>
<li><tt class="xref py py-const docutils literal"><span class="pre">MATCH_ALLCHARS</span></tt> : Matches if all characters in <tt class="docutils literal"><span class="pre">query</span></tt> appear in item search key in the same order (case-insensitive).</li>
<li><tt class="xref py py-const docutils literal"><span class="pre">MATCH_ALL</span></tt> : Combination of all the above.</li>
</ol>
<p><tt class="docutils literal"><span class="pre">MATCH_ALLCHARS</span></tt> is considerably slower than the other tests and
provides much less accurate results.</p>
<p><strong>Examples:</strong></p>
<p>To ignore <tt class="docutils literal"><span class="pre">MATCH_ALLCHARS</span></tt> (tends to provide the worst matches and
is expensive to run), use <tt class="docutils literal"><span class="pre">match_on=MATCH_ALL</span> <span class="pre">^</span> <span class="pre">MATCH_ALLCHARS</span></tt>.</p>
<p>To match only on capitals, use <tt class="docutils literal"><span class="pre">match_on=MATCH_CAPITALS</span></tt>.</p>
<p>To match only on startswith and substring, use
<tt class="docutils literal"><span class="pre">match_on=MATCH_STARTSWITH</span> <span class="pre">|</span> <span class="pre">MATCH_SUBSTRING</span></tt>.</p>
<p><strong>Diacritic folding</strong></p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.3.</span></p>
</div>
<p>If <tt class="docutils literal"><span class="pre">fold_diacritics</span></tt> is <tt class="docutils literal"><span class="pre">True</span></tt> (the default), and <tt class="docutils literal"><span class="pre">query</span></tt>
contains only ASCII characters, non-ASCII characters in search keys
will be converted to ASCII equivalents (e.g. <em>Ã¼</em> -&gt; <em>u</em>, <em>Ã</em> -&gt; <em>ss</em>,
<em>Ã©</em> -&gt; <em>e</em>).</p>
<p>See <tt class="xref py py-const docutils literal"><span class="pre">ASCII_REPLACEMENTS</span></tt> for all replacements.</p>
<p>If <tt class="docutils literal"><span class="pre">query</span></tt> contains non-ASCII characters, search keys will not be
altered.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.fold_to_ascii">
<tt class="descname">fold_to_ascii</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.fold_to_ascii" title="Permalink to this definition">Â¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 1.3.</span></p>
</div>
<p>Convert non-ASCII characters to closest ASCII equivalent.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; text to convert</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">text containing only ASCII characters</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">unicode</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.get_password">
<tt class="descname">get_password</tt><big>(</big><em>account</em>, <em>service=None</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.get_password" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Retrieve the password saved at <tt class="docutils literal"><span class="pre">service/account</span></tt>. Raise
<a class="reference internal" href="#workflow.workflow.PasswordNotFound" title="workflow.workflow.PasswordNotFound"><tt class="xref py py-class docutils literal"><span class="pre">PasswordNotFound</span></tt></a> exception if password doesn&#8217;t exist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>account</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; name of the account the password is for, e.g.
&#8220;Pinboard&#8221;</li>
<li><strong>service</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; Name of the service. By default, this is the workflow&#8217;s
bundle ID</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">account password</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="docutils literal"><span class="pre">unicode</span></tt></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.info">
<tt class="descname">info</tt><a class="headerlink" href="#workflow.workflow.Workflow.info" title="Permalink to this definition">Â¶</a></dt>
<dd><p><cite>dict</cite> of <tt class="docutils literal"><span class="pre">info.plist</span></tt> contents.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><tt class="docutils literal"><span class="pre">dict</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.item_class">
<tt class="descname">item_class</tt><a class="headerlink" href="#workflow.workflow.Workflow.item_class" title="Permalink to this definition">Â¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#workflow.workflow.Item" title="workflow.workflow.Item"><tt class="xref py py-class docutils literal"><span class="pre">Item</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.logfile">
<tt class="descname">logfile</tt><a class="headerlink" href="#workflow.workflow.Workflow.logfile" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return path to logfile</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">path to logfile within workflow&#8217;s cache directory</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">unicode</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.logger">
<tt class="descname">logger</tt><a class="headerlink" href="#workflow.workflow.Workflow.logger" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Create and return a logger that logs to both console and
a log file. Use <cite>~Workflow.openlog</cite> to open the log file in Console.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an initialised logger</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><cite>~logging.Logger</cite> instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.name">
<tt class="descname">name</tt><a class="headerlink" href="#workflow.workflow.Workflow.name" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Workflow name from <tt class="docutils literal"><span class="pre">info.plist</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">workflow name</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">unicode</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.open_cachedir">
<tt class="descname">open_cachedir</tt><big>(</big><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.open_cachedir" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Open the workflow cache directory in Finder.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.open_datadir">
<tt class="descname">open_datadir</tt><big>(</big><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.open_datadir" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Open the workflow data directory in Finder.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.open_log">
<tt class="descname">open_log</tt><big>(</big><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.open_log" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Open log file in standard application (usually Console.app).</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.open_terminal">
<tt class="descname">open_terminal</tt><big>(</big><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.open_terminal" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Open a Terminal window at workflow directory.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.open_workflowdir">
<tt class="descname">open_workflowdir</tt><big>(</big><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.open_workflowdir" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Open the workflow directory in Finder.</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.reset">
<tt class="descname">reset</tt><big>(</big><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.reset" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Delete settings, cache and data</p>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.run">
<tt class="descname">run</tt><big>(</big><em>func</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.run" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Call <cite>func</cite> to run your workflow</p>
<p><cite>func</cite> will be called with <cite>Workflow</cite> instance as first argument.
<cite>func</cite> should be the main entry point to your workflow.</p>
<p>Any exceptions raised will be logged and an error message will be
output to Alfred.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> &#8211; Callable to call with <cite>self</cite> as first argument.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.save_password">
<tt class="descname">save_password</tt><big>(</big><em>account</em>, <em>password</em>, <em>service=None</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.save_password" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Save account credentials.</p>
<p>If the account exists, the old password will first be deleted (Keychain
throws an error otherwise).</p>
<p>If something goes wrong, a <cite>KeychainError</cite> exception will be raised.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>account</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; name of the account the password is for, e.g.
&#8220;Pinboard&#8221;</li>
<li><strong>password</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; the password to secure</li>
<li><strong>service</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; Name of the service. By default, this is the workflow&#8217;s
bundle ID</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.send_feedback">
<tt class="descname">send_feedback</tt><big>(</big><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.send_feedback" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Print stored items to console/Alfred as XML.</p>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.settings">
<tt class="descname">settings</tt><a class="headerlink" href="#workflow.workflow.Workflow.settings" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return a dictionary subclass that saves itself when changed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference internal" href="#workflow.workflow.Settings" title="workflow.workflow.Settings"><tt class="xref py py-class docutils literal"><span class="pre">Settings</span></tt></a> instance initialised from the data
in JSON file at <a class="reference internal" href="#workflow.workflow.Workflow.settings_path" title="workflow.workflow.Workflow.settings_path"><tt class="xref py py-attr docutils literal"><span class="pre">settings_path</span></tt></a> or if that doesn&#8217;t exist,
with the <tt class="docutils literal"><span class="pre">default_settings</span></tt> <tt class="docutils literal"><span class="pre">dict</span></tt> passed to <a class="reference internal" href="#workflow.workflow.Workflow" title="workflow.workflow.Workflow"><tt class="xref py py-class docutils literal"><span class="pre">Workflow</span></tt></a>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#workflow.workflow.Settings" title="workflow.workflow.Settings"><tt class="xref py py-class docutils literal"><span class="pre">Settings</span></tt></a> instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.settings_path">
<tt class="descname">settings_path</tt><a class="headerlink" href="#workflow.workflow.Workflow.settings_path" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Path to settings file within workflow&#8217;s data directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">path to <tt class="docutils literal"><span class="pre">settings.json</span></tt> file</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">unicode</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.store_data">
<tt class="descname">store_data</tt><big>(</big><em>name</em>, <em>data</em>, <em>serializer=None</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.store_data" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Save data to data directory.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<p>If <tt class="docutils literal"><span class="pre">data</span></tt> is <tt class="docutils literal"><span class="pre">None</span></tt>, the datastore will be deleted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; name of datastore</li>
<li><strong>data</strong> (artibrary Python objects. <strong>Note:</strong> some serializers
can only handled certain types of data.) &#8211; object(s) to store</li>
<li><strong>serializer</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; name of serializer to use.
See <a class="reference internal" href="#workflow.workflow.SerializerManager" title="workflow.workflow.SerializerManager"><tt class="xref py py-class docutils literal"><span class="pre">SerializerManager</span></tt></a> for more information.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">data in datastore or <tt class="docutils literal"><span class="pre">None</span></tt></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.stored_data">
<tt class="descname">stored_data</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.stored_data" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Retrieve data from data directory. Returns <tt class="docutils literal"><span class="pre">None</span></tt> if there
is no data stored.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.8.</span></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; name of datastore</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="workflow.workflow.Workflow.workflowdir">
<tt class="descname">workflowdir</tt><a class="headerlink" href="#workflow.workflow.Workflow.workflowdir" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Path to workflow&#8217;s root directory (where <tt class="docutils literal"><span class="pre">info.plist</span></tt> is).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">full path to workflow root directory</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">unicode</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="workflow.workflow.Workflow.workflowfile">
<tt class="descname">workflowfile</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#workflow.workflow.Workflow.workflowfile" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return full path to <tt class="docutils literal"><span class="pre">filename</span></tt> in workflow&#8217;s root dir
(where <tt class="docutils literal"><span class="pre">info.plist</span></tt> is).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; basename of file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">full path to file within data directory</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">unicode</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="workflow.workflow.isascii">
<tt class="descclassname">workflow.workflow.</tt><tt class="descname">isascii</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#workflow.workflow.isascii" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Test if <tt class="docutils literal"><span class="pre">text</span></tt> contains only ASCII characters</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> (<tt class="docutils literal"><span class="pre">unicode</span></tt>) &#8211; text to test for ASCII-ness</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><tt class="docutils literal"><span class="pre">True</span></tt> if <tt class="docutils literal"><span class="pre">text</span></tt> contains only ASCII characters</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">Boolean</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="workflow.workflow.split_on_delimiters">
<tt class="descclassname">workflow.workflow.</tt><tt class="descname">split_on_delimiters</tt><big>(</big><big>)</big><a class="headerlink" href="#workflow.workflow.split_on_delimiters" title="Permalink to this definition">Â¶</a></dt>
<dd><p>split(string[, maxsplit = 0])  &#8211;&gt; list.
Split string by the occurrences of pattern.</p>
</dd></dl>

</div>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="_sources/workflow.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2014, Dean Jackson &lt;deanishe@deanishe.net&gt;.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>